!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";function e(){return Ii.apply(null,arguments)}function t(e){Ii=e}function n(e){return"[object Array]"===Object.prototype.toString.call(e)}function i(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function o(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function s(e,t){for(var n in t)r(t,n)&&(e[n]=t[n]);return r(t,"toString")&&(e.toString=t.toString),r(t,"valueOf")&&(e.valueOf=t.valueOf),e}function a(e,t,n,i){return Et(e,t,n,i,!0).utc()}function l(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function u(e){return null==e._pf&&(e._pf=l()),e._pf}function c(e){if(null==e._isValid){var t=u(e);e._isValid=!(isNaN(e._d.getTime())||!(t.overflow<0)||t.empty||t.invalidMonth||t.invalidWeekday||t.nullInput||t.invalidFormat||t.userInvalidated),e._strict&&(e._isValid=e._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return e._isValid}function d(e){var t=a(0/0);return null!=e?s(u(t),e):u(t).userInvalidated=!0,t}function h(e,t){var n,i,o;if("undefined"!=typeof t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(e._i=t._i),"undefined"!=typeof t._f&&(e._f=t._f),"undefined"!=typeof t._l&&(e._l=t._l),"undefined"!=typeof t._strict&&(e._strict=t._strict),"undefined"!=typeof t._tzm&&(e._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(e._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(e._offset=t._offset),"undefined"!=typeof t._pf&&(e._pf=u(t)),"undefined"!=typeof t._locale&&(e._locale=t._locale),Pi.length>0)for(n in Pi)i=Pi[n],o=t[i],"undefined"!=typeof o&&(e[i]=o);return e}function p(t){h(this,t),this._d=new Date(null!=t._d?t._d.getTime():0/0),Ri===!1&&(Ri=!0,e.updateOffset(this),Ri=!1)}function f(e){return e instanceof p||null!=e&&null!=e._isAMomentObject}function m(e){return 0>e?Math.ceil(e):Math.floor(e)}function g(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=m(t)),n}function v(e,t,n){var i,o=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),s=0;for(i=0;o>i;i++)(n&&e[i]!==t[i]||!n&&g(e[i])!==g(t[i]))&&s++;return s+r}function y(){}function b(e){return e?e.toLowerCase().replace("_","-"):e}function w(e){for(var t,n,i,o,r=0;r<e.length;){for(o=b(e[r]).split("-"),t=o.length,n=b(e[r+1]),n=n?n.split("-"):null;t>0;){if(i=C(o.slice(0,t).join("-")))return i;if(n&&n.length>=t&&v(o,n,!0)>=t-1)break;t--}r++}return null}function C(e){var t=null;if(!Hi[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=$i._abbr,require("./locale/"+e),k(t)}catch(n){}return Hi[e]}function k(e,t){var n;return e&&(n="undefined"==typeof t?D(e):x(e,t),n&&($i=n)),$i._abbr}function x(e,t){return null!==t?(t.abbr=e,Hi[e]=Hi[e]||new y,Hi[e].set(t),k(e),Hi[e]):(delete Hi[e],null)}function D(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return $i;if(!n(e)){if(t=C(e))return t;e=[e]}return w(e)}function _(e,t){var n=e.toLowerCase();Li[n]=Li[n+"s"]=Li[t]=e}function S(e){return"string"==typeof e?Li[e]||Li[e.toLowerCase()]:void 0}function T(e){var t,n,i={};for(n in e)r(e,n)&&(t=S(n),t&&(i[t]=e[n]));return i}function E(t,n){return function(i){return null!=i?(M(this,t,i),e.updateOffset(this,n),this):A(this,t)}}function A(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function M(e,t,n){return e._d["set"+(e._isUTC?"UTC":"")+t](n)}function N(e,t){var n;if("object"==typeof e)for(n in e)this.set(n,e[n]);else if(e=S(e),"function"==typeof this[e])return this[e](t);return this}function F(e,t,n){var i=""+Math.abs(e),o=t-i.length,r=e>=0;return(r?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+i}function O(e,t,n,i){var o=i;"string"==typeof i&&(o=function(){return this[i]()}),e&&(ji[e]=o),t&&(ji[t[0]]=function(){return F(o.apply(this,arguments),t[1],t[2])}),n&&(ji[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function I(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function $(e){var t,n,i=e.match(Ui);for(t=0,n=i.length;n>t;t++)i[t]=ji[i[t]]?ji[i[t]]:I(i[t]);return function(o){var r="";for(t=0;n>t;t++)r+=i[t]instanceof Function?i[t].call(o,e):i[t];return r}}function P(e,t){return e.isValid()?(t=R(t,e.localeData()),Bi[t]=Bi[t]||$(t),Bi[t](e)):e.localeData().invalidDate()}function R(e,t){function n(e){return t.longDateFormat(e)||e}var i=5;for(zi.lastIndex=0;i>=0&&zi.test(e);)e=e.replace(zi,n),zi.lastIndex=0,i-=1;return e}function H(e){return"function"==typeof e&&"[object Function]"===Object.prototype.toString.call(e)}function L(e,t,n){oo[e]=H(t)?t:function(e){return e&&n?n:t}}function U(e,t){return r(oo,e)?oo[e](t._strict,t._locale):new RegExp(z(e))}function z(e){return e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,o){return t||n||i||o}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function B(e,t){var n,i=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(i=function(e,n){n[t]=g(e)}),n=0;n<e.length;n++)ro[e[n]]=i}function j(e,t){B(e,function(e,n,i,o){i._w=i._w||{},t(e,i._w,i,o)})}function Y(e,t,n){null!=t&&r(ro,e)&&ro[e](t,n._a,n,e)}function W(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function V(e){return this._months[e.month()]}function q(e){return this._monthsShort[e.month()]}function G(e,t,n){var i,o,r;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(o=a([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(r="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[i]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}}function K(e,t){var n;return"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(n=Math.min(e.date(),W(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function J(t){return null!=t?(K(this,t),e.updateOffset(this,!0),this):A(this,"Month")}function Q(){return W(this.year(),this.month())}function Z(e){var t,n=e._a;return n&&-2===u(e).overflow&&(t=n[ao]<0||n[ao]>11?ao:n[lo]<1||n[lo]>W(n[so],n[ao])?lo:n[uo]<0||n[uo]>24||24===n[uo]&&(0!==n[co]||0!==n[ho]||0!==n[po])?uo:n[co]<0||n[co]>59?co:n[ho]<0||n[ho]>59?ho:n[po]<0||n[po]>999?po:-1,u(e)._overflowDayOfYear&&(so>t||t>lo)&&(t=lo),u(e).overflow=t),e}function X(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function et(e,t){var n=!0;return s(function(){return n&&(X(e+"\n"+(new Error).stack),n=!1),t.apply(this,arguments)},t)}function tt(e,t){go[e]||(X(t),go[e]=!0)}function nt(e){var t,n,i=e._i,o=vo.exec(i);if(o){for(u(e).iso=!0,t=0,n=yo.length;n>t;t++)if(yo[t][1].exec(i)){e._f=yo[t][0];break}for(t=0,n=bo.length;n>t;t++)if(bo[t][1].exec(i)){e._f+=(o[6]||" ")+bo[t][0];break}i.match(to)&&(e._f+="Z"),Ct(e)}else e._isValid=!1}function it(t){var n=wo.exec(t._i);return null!==n?void(t._d=new Date(+n[1])):(nt(t),void(t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t))))}function ot(e,t,n,i,o,r,s){var a=new Date(e,t,n,i,o,r,s);return 1970>e&&a.setFullYear(e),a}function rt(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function st(e){return at(e)?366:365}function at(e){return e%4===0&&e%100!==0||e%400===0}function lt(){return at(this.year())}function ut(e,t,n){var i,o=n-t,r=n-e.day();return r>o&&(r-=7),o-7>r&&(r+=7),i=At(e).add(r,"d"),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function ct(e){return ut(e,this._week.dow,this._week.doy).week}function dt(){return this._week.dow}function ht(){return this._week.doy}function pt(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function ft(e){var t=ut(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function mt(e,t,n,i,o){var r,s=6+o-i,a=rt(e,0,1+s),l=a.getUTCDay();return o>l&&(l+=7),n=null!=n?1*n:o,r=1+s+7*(t-1)-l+n,{year:r>0?e:e-1,dayOfYear:r>0?r:st(e-1)+r}}function gt(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function vt(e,t,n){return null!=e?e:null!=t?t:n}function yt(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function bt(e){var t,n,i,o,r=[];if(!e._d){for(i=yt(e),e._w&&null==e._a[lo]&&null==e._a[ao]&&wt(e),e._dayOfYear&&(o=vt(e._a[so],i[so]),e._dayOfYear>st(o)&&(u(e)._overflowDayOfYear=!0),n=rt(o,0,e._dayOfYear),e._a[ao]=n.getUTCMonth(),e._a[lo]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=r[t]=i[t];for(;7>t;t++)e._a[t]=r[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[uo]&&0===e._a[co]&&0===e._a[ho]&&0===e._a[po]&&(e._nextDay=!0,e._a[uo]=0),e._d=(e._useUTC?rt:ot).apply(null,r),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[uo]=24)}}function wt(e){var t,n,i,o,r,s,a;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(r=1,s=4,n=vt(t.GG,e._a[so],ut(At(),1,4).year),i=vt(t.W,1),o=vt(t.E,1)):(r=e._locale._week.dow,s=e._locale._week.doy,n=vt(t.gg,e._a[so],ut(At(),r,s).year),i=vt(t.w,1),null!=t.d?(o=t.d,r>o&&++i):o=null!=t.e?t.e+r:r),a=mt(n,i,o,s,r),e._a[so]=a.year,e._dayOfYear=a.dayOfYear}function Ct(t){if(t._f===e.ISO_8601)return void nt(t);t._a=[],u(t).empty=!0;var n,i,o,r,s,a=""+t._i,l=a.length,c=0;for(o=R(t._f,t._locale).match(Ui)||[],n=0;n<o.length;n++)r=o[n],i=(a.match(U(r,t))||[])[0],i&&(s=a.substr(0,a.indexOf(i)),s.length>0&&u(t).unusedInput.push(s),a=a.slice(a.indexOf(i)+i.length),c+=i.length),ji[r]?(i?u(t).empty=!1:u(t).unusedTokens.push(r),Y(r,i,t)):t._strict&&!i&&u(t).unusedTokens.push(r);u(t).charsLeftOver=l-c,a.length>0&&u(t).unusedInput.push(a),u(t).bigHour===!0&&t._a[uo]<=12&&t._a[uo]>0&&(u(t).bigHour=void 0),t._a[uo]=kt(t._locale,t._a[uo],t._meridiem),bt(t),Z(t)}function kt(e,t,n){var i;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(i=e.isPM(n),i&&12>t&&(t+=12),i||12!==t||(t=0),t):t}function xt(e){var t,n,i,o,r;if(0===e._f.length)return u(e).invalidFormat=!0,void(e._d=new Date(0/0));for(o=0;o<e._f.length;o++)r=0,t=h({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[o],Ct(t),c(t)&&(r+=u(t).charsLeftOver,r+=10*u(t).unusedTokens.length,u(t).score=r,(null==i||i>r)&&(i=r,n=t));s(e,n||t)}function Dt(e){if(!e._d){var t=T(e._i);e._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],bt(e)}}function _t(e){var t=new p(Z(St(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function St(e){var t=e._i,o=e._f;return e._locale=e._locale||D(e._l),null===t||void 0===o&&""===t?d({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),f(t)?new p(Z(t)):(n(o)?xt(e):o?Ct(e):i(t)?e._d=t:Tt(e),e))}function Tt(t){var r=t._i;void 0===r?t._d=new Date:i(r)?t._d=new Date(+r):"string"==typeof r?it(t):n(r)?(t._a=o(r.slice(0),function(e){return parseInt(e,10)}),bt(t)):"object"==typeof r?Dt(t):"number"==typeof r?t._d=new Date(r):e.createFromInputFallback(t)}function Et(e,t,n,i,o){var r={};return"boolean"==typeof n&&(i=n,n=void 0),r._isAMomentObject=!0,r._useUTC=r._isUTC=o,r._l=n,r._i=e,r._f=t,r._strict=i,_t(r)}function At(e,t,n,i){return Et(e,t,n,i,!1)}function Mt(e,t){var i,o;if(1===t.length&&n(t[0])&&(t=t[0]),!t.length)return At();for(i=t[0],o=1;o<t.length;++o)(!t[o].isValid()||t[o][e](i))&&(i=t[o]);return i}function Nt(){var e=[].slice.call(arguments,0);return Mt("isBefore",e)}function Ft(){var e=[].slice.call(arguments,0);return Mt("isAfter",e)}function Ot(e){var t=T(e),n=t.year||0,i=t.quarter||0,o=t.month||0,r=t.week||0,s=t.day||0,a=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._milliseconds=+c+1e3*u+6e4*l+36e5*a,this._days=+s+7*r,this._months=+o+3*i+12*n,this._data={},this._locale=D(),this._bubble()}function It(e){return e instanceof Ot}function $t(e,t){O(e,0,0,function(){var e=this.utcOffset(),n="+";return 0>e&&(e=-e,n="-"),n+F(~~(e/60),2)+t+F(~~e%60,2)})}function Pt(e){var t=(e||"").match(to)||[],n=t[t.length-1]||[],i=(n+"").match(_o)||["-",0,0],o=+(60*i[1])+g(i[2]);return"+"===i[0]?o:-o}function Rt(t,n){var o,r;return n._isUTC?(o=n.clone(),r=(f(t)||i(t)?+t:+At(t))-+o,o._d.setTime(+o._d+r),e.updateOffset(o,!1),o):At(t).local()}function Ht(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Lt(t,n){var i,o=this._offset||0;return null!=t?("string"==typeof t&&(t=Pt(t)),Math.abs(t)<16&&(t=60*t),!this._isUTC&&n&&(i=Ht(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==t&&(!n||this._changeInProgress?tn(this,Jt(t-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?o:Ht(this)}function Ut(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function zt(e){return this.utcOffset(0,e)}function Bt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ht(this),"m")),this}function jt(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Pt(this._i)),this}function Yt(e){return e=e?At(e).utcOffset():0,(this.utcOffset()-e)%60===0}function Wt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Vt(){if("undefined"!=typeof this._isDSTShifted)return this._isDSTShifted;var e={};if(h(e,this),e=St(e),e._a){var t=e._isUTC?a(e._a):At(e._a);this._isDSTShifted=this.isValid()&&v(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function qt(){return!this._isUTC}function Gt(){return this._isUTC}function Kt(){return this._isUTC&&0===this._offset}function Jt(e,t){var n,i,o,s=e,a=null;return It(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(s={},t?s[t]=e:s.milliseconds=e):(a=So.exec(e))?(n="-"===a[1]?-1:1,s={y:0,d:g(a[lo])*n,h:g(a[uo])*n,m:g(a[co])*n,s:g(a[ho])*n,ms:g(a[po])*n}):(a=To.exec(e))?(n="-"===a[1]?-1:1,s={y:Qt(a[2],n),M:Qt(a[3],n),d:Qt(a[4],n),h:Qt(a[5],n),m:Qt(a[6],n),s:Qt(a[7],n),w:Qt(a[8],n)}):null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(o=Xt(At(s.from),At(s.to)),s={},s.ms=o.milliseconds,s.M=o.months),i=new Ot(s),It(e)&&r(e,"_locale")&&(i._locale=e._locale),i}function Qt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Zt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Xt(e,t){var n;return t=Rt(t,e),e.isBefore(t)?n=Zt(e,t):(n=Zt(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function en(e,t){return function(n,i){var o,r;return null===i||isNaN(+i)||(tt(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),r=n,n=i,i=r),n="string"==typeof n?+n:n,o=Jt(n,i),tn(this,o,e),this}}function tn(t,n,i,o){var r=n._milliseconds,s=n._days,a=n._months;o=null==o?!0:o,r&&t._d.setTime(+t._d+r*i),s&&M(t,"Date",A(t,"Date")+s*i),a&&K(t,A(t,"Month")+a*i),o&&e.updateOffset(t,s||a)}function nn(e,t){var n=e||At(),i=Rt(n,this).startOf("day"),o=this.diff(i,"days",!0),r=-6>o?"sameElse":-1>o?"lastWeek":0>o?"lastDay":1>o?"sameDay":2>o?"nextDay":7>o?"nextWeek":"sameElse";return this.format(t&&t[r]||this.localeData().calendar(r,this,At(n)))}function on(){return new p(this)}function rn(e,t){var n;return t=S("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=f(e)?e:At(e),+this>+e):(n=f(e)?+e:+At(e),n<+this.clone().startOf(t))}function sn(e,t){var n;return t=S("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=f(e)?e:At(e),+e>+this):(n=f(e)?+e:+At(e),+this.clone().endOf(t)<n)}function an(e,t,n){return this.isAfter(e,n)&&this.isBefore(t,n)}function ln(e,t){var n;return t=S(t||"millisecond"),"millisecond"===t?(e=f(e)?e:At(e),+this===+e):(n=+At(e),+this.clone().startOf(t)<=n&&n<=+this.clone().endOf(t))}function un(e,t,n){var i,o,r=Rt(e,this),s=6e4*(r.utcOffset()-this.utcOffset());return t=S(t),"year"===t||"month"===t||"quarter"===t?(o=cn(this,r),"quarter"===t?o/=3:"year"===t&&(o/=12)):(i=this-r,o="second"===t?i/1e3:"minute"===t?i/6e4:"hour"===t?i/36e5:"day"===t?(i-s)/864e5:"week"===t?(i-s)/6048e5:i),n?o:m(o)}function cn(e,t){var n,i,o=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(o,"months");return 0>t-r?(n=e.clone().add(o-1,"months"),i=(t-r)/(r-n)):(n=e.clone().add(o+1,"months"),i=(t-r)/(n-r)),-(o+i)}function dn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function hn(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():P(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):P(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function pn(t){var n=P(this,t||e.defaultFormat);return this.localeData().postformat(n)}function fn(e,t){return this.isValid()?Jt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function mn(e){return this.from(At(),e)}function gn(e,t){return this.isValid()?Jt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function vn(e){return this.to(At(),e)}function yn(e){var t;return void 0===e?this._locale._abbr:(t=D(e),null!=t&&(this._locale=t),this)}function bn(){return this._locale}function wn(e){switch(e=S(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function Cn(e){return e=S(e),void 0===e||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")}function kn(){return+this._d-6e4*(this._offset||0)}function xn(){return Math.floor(+this/1e3)}function Dn(){return this._offset?new Date(+this):this._d}function _n(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Sn(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Tn(){return c(this)}function En(){return s({},u(this))}function An(){return u(this).overflow}function Mn(e,t){O(0,[e,e.length],0,t)}function Nn(e,t,n){return ut(At([e,11,31+t-n]),t,n).week}function Fn(e){var t=ut(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")}function On(e){var t=ut(this,1,4).year;return null==e?t:this.add(e-t,"y")}function In(){return Nn(this.year(),1,4)}function $n(){var e=this.localeData()._week;return Nn(this.year(),e.dow,e.doy)}function Pn(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Rn(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Hn(e){return this._weekdays[e.day()]}function Ln(e){return this._weekdaysShort[e.day()]}function Un(e){return this._weekdaysMin[e.day()]}function zn(e){var t,n,i;for(this._weekdaysParse=this._weekdaysParse||[],t=0;7>t;t++)if(this._weekdaysParse[t]||(n=At([2e3,1]).day(t),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t}function Bn(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Rn(e,this.localeData()),this.add(e-t,"d")):t}function jn(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Yn(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)}function Wn(e,t){O(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Vn(e,t){return t._meridiemParse}function qn(e){return"p"===(e+"").toLowerCase().charAt(0)}function Gn(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Kn(e,t){t[po]=g(1e3*("0."+e))}function Jn(){return this._isUTC?"UTC":""}function Qn(){return this._isUTC?"Coordinated Universal Time":""}function Zn(e){return At(1e3*e)}function Xn(){return At.apply(null,arguments).parseZone()}function ei(e,t,n){var i=this._calendar[e];return"function"==typeof i?i.call(t,n):i}function ti(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function ni(){return this._invalidDate}function ii(e){return this._ordinal.replace("%d",e)}function oi(e){return e}function ri(e,t,n,i){var o=this._relativeTime[n];return"function"==typeof o?o(e,t,n,i):o.replace(/%d/i,e)}function si(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)}function ai(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function li(e,t,n,i){var o=D(),r=a().set(i,t);return o[n](r,e)}function ui(e,t,n,i,o){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return li(e,t,n,o);var r,s=[];for(r=0;i>r;r++)s[r]=li(e,r,n,o);return s}function ci(e,t){return ui(e,t,"months",12,"month")}function di(e,t){return ui(e,t,"monthsShort",12,"month")}function hi(e,t){return ui(e,t,"weekdays",7,"day")}function pi(e,t){return ui(e,t,"weekdaysShort",7,"day")}function fi(e,t){return ui(e,t,"weekdaysMin",7,"day")}function mi(){var e=this._data;return this._milliseconds=Jo(this._milliseconds),this._days=Jo(this._days),this._months=Jo(this._months),e.milliseconds=Jo(e.milliseconds),e.seconds=Jo(e.seconds),e.minutes=Jo(e.minutes),e.hours=Jo(e.hours),e.months=Jo(e.months),e.years=Jo(e.years),this}function gi(e,t,n,i){var o=Jt(t,n);return e._milliseconds+=i*o._milliseconds,e._days+=i*o._days,e._months+=i*o._months,e._bubble()}function vi(e,t){return gi(this,e,t,1)}function yi(e,t){return gi(this,e,t,-1)}function bi(e){return 0>e?Math.floor(e):Math.ceil(e)}function wi(){var e,t,n,i,o,r=this._milliseconds,s=this._days,a=this._months,l=this._data;return r>=0&&s>=0&&a>=0||0>=r&&0>=s&&0>=a||(r+=864e5*bi(ki(a)+s),s=0,a=0),l.milliseconds=r%1e3,e=m(r/1e3),l.seconds=e%60,t=m(e/60),l.minutes=t%60,n=m(t/60),l.hours=n%24,s+=m(n/24),o=m(Ci(s)),a+=o,s-=bi(ki(o)),i=m(a/12),a%=12,l.days=s,l.months=a,l.years=i,this}function Ci(e){return 4800*e/146097}function ki(e){return 146097*e/4800}function xi(e){var t,n,i=this._milliseconds;if(e=S(e),"month"===e||"year"===e)return t=this._days+i/864e5,n=this._months+Ci(t),"month"===e?n:n/12;switch(t=this._days+Math.round(ki(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}}function Di(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*g(this._months/12)}function _i(e){return function(){return this.as(e)}}function Si(e){return e=S(e),this[e+"s"]()}function Ti(e){return function(){return this._data[e]}}function Ei(){return m(this.days()/7)}function Ai(e,t,n,i,o){return o.relativeTime(t||1,!!n,e,i)}function Mi(e,t,n){var i=Jt(e).abs(),o=hr(i.as("s")),r=hr(i.as("m")),s=hr(i.as("h")),a=hr(i.as("d")),l=hr(i.as("M")),u=hr(i.as("y")),c=o<pr.s&&["s",o]||1===r&&["m"]||r<pr.m&&["mm",r]||1===s&&["h"]||s<pr.h&&["hh",s]||1===a&&["d"]||a<pr.d&&["dd",a]||1===l&&["M"]||l<pr.M&&["MM",l]||1===u&&["y"]||["yy",u];return c[2]=t,c[3]=+e>0,c[4]=n,Ai.apply(null,c)}function Ni(e,t){return void 0===pr[e]?!1:void 0===t?pr[e]:(pr[e]=t,!0)}function Fi(e){var t=this.localeData(),n=Mi(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function Oi(){var e,t,n,i=fr(this._milliseconds)/1e3,o=fr(this._days),r=fr(this._months);e=m(i/60),t=m(e/60),i%=60,e%=60,n=m(r/12),r%=12;var s=n,a=r,l=o,u=t,c=e,d=i,h=this.asSeconds();return h?(0>h?"-":"")+"P"+(s?s+"Y":"")+(a?a+"M":"")+(l?l+"D":"")+(u||c||d?"T":"")+(u?u+"H":"")+(c?c+"M":"")+(d?d+"S":""):"P0D"}var Ii,$i,Pi=e.momentProperties=[],Ri=!1,Hi={},Li={},Ui=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,zi=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Bi={},ji={},Yi=/\d/,Wi=/\d\d/,Vi=/\d{3}/,qi=/\d{4}/,Gi=/[+-]?\d{6}/,Ki=/\d\d?/,Ji=/\d{1,3}/,Qi=/\d{1,4}/,Zi=/[+-]?\d{1,6}/,Xi=/\d+/,eo=/[+-]?\d+/,to=/Z|[+-]\d\d:?\d\d/gi,no=/[+-]?\d+(\.\d{1,3})?/,io=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,oo={},ro={},so=0,ao=1,lo=2,uo=3,co=4,ho=5,po=6;O("M",["MM",2],"Mo",function(){return this.month()+1}),O("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),O("MMMM",0,0,function(e){return this.localeData().months(this,e)}),_("month","M"),L("M",Ki),L("MM",Ki,Wi),L("MMM",io),L("MMMM",io),B(["M","MM"],function(e,t){t[ao]=g(e)-1}),B(["MMM","MMMM"],function(e,t,n,i){var o=n._locale.monthsParse(e,i,n._strict);null!=o?t[ao]=o:u(n).invalidMonth=e});var fo="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),mo="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),go={};e.suppressDeprecationWarnings=!1;var vo=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,yo=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],bo=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],wo=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=et("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),O(0,["YY",2],0,function(){return this.year()%100}),O(0,["YYYY",4],0,"year"),O(0,["YYYYY",5],0,"year"),O(0,["YYYYYY",6,!0],0,"year"),_("year","y"),L("Y",eo),L("YY",Ki,Wi),L("YYYY",Qi,qi),L("YYYYY",Zi,Gi),L("YYYYYY",Zi,Gi),B(["YYYYY","YYYYYY"],so),B("YYYY",function(t,n){n[so]=2===t.length?e.parseTwoDigitYear(t):g(t)}),B("YY",function(t,n){n[so]=e.parseTwoDigitYear(t)}),e.parseTwoDigitYear=function(e){return g(e)+(g(e)>68?1900:2e3)};var Co=E("FullYear",!1);O("w",["ww",2],"wo","week"),O("W",["WW",2],"Wo","isoWeek"),_("week","w"),_("isoWeek","W"),L("w",Ki),L("ww",Ki,Wi),L("W",Ki),L("WW",Ki,Wi),j(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=g(e)});var ko={dow:0,doy:6};O("DDD",["DDDD",3],"DDDo","dayOfYear"),_("dayOfYear","DDD"),L("DDD",Ji),L("DDDD",Vi),B(["DDD","DDDD"],function(e,t,n){n._dayOfYear=g(e)}),e.ISO_8601=function(){};var xo=et("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var e=At.apply(null,arguments);return this>e?this:e}),Do=et("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var e=At.apply(null,arguments);return e>this?this:e});$t("Z",":"),$t("ZZ",""),L("Z",to),L("ZZ",to),B(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Pt(e)});var _o=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var So=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,To=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Jt.fn=Ot.prototype;var Eo=en(1,"add"),Ao=en(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Mo=et("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});O(0,["gg",2],0,function(){return this.weekYear()%100}),O(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Mn("gggg","weekYear"),Mn("ggggg","weekYear"),Mn("GGGG","isoWeekYear"),Mn("GGGGG","isoWeekYear"),_("weekYear","gg"),_("isoWeekYear","GG"),L("G",eo),L("g",eo),L("GG",Ki,Wi),L("gg",Ki,Wi),L("GGGG",Qi,qi),L("gggg",Qi,qi),L("GGGGG",Zi,Gi),L("ggggg",Zi,Gi),j(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=g(e)}),j(["gg","GG"],function(t,n,i,o){n[o]=e.parseTwoDigitYear(t)}),O("Q",0,0,"quarter"),_("quarter","Q"),L("Q",Yi),B("Q",function(e,t){t[ao]=3*(g(e)-1)}),O("D",["DD",2],"Do","date"),_("date","D"),L("D",Ki),L("DD",Ki,Wi),L("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),B(["D","DD"],lo),B("Do",function(e,t){t[lo]=g(e.match(Ki)[0],10)});var No=E("Date",!0);O("d",0,"do","day"),O("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),O("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),O("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),O("e",0,0,"weekday"),O("E",0,0,"isoWeekday"),_("day","d"),_("weekday","e"),_("isoWeekday","E"),L("d",Ki),L("e",Ki),L("E",Ki),L("dd",io),L("ddd",io),L("dddd",io),j(["dd","ddd","dddd"],function(e,t,n){var i=n._locale.weekdaysParse(e);null!=i?t.d=i:u(n).invalidWeekday=e}),j(["d","e","E"],function(e,t,n,i){t[i]=g(e)});var Fo="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Oo="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Io="Su_Mo_Tu_We_Th_Fr_Sa".split("_");O("H",["HH",2],0,"hour"),O("h",["hh",2],0,function(){return this.hours()%12||12}),Wn("a",!0),Wn("A",!1),_("hour","h"),L("a",Vn),L("A",Vn),L("H",Ki),L("h",Ki),L("HH",Ki,Wi),L("hh",Ki,Wi),B(["H","HH"],uo),B(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),B(["h","hh"],function(e,t,n){t[uo]=g(e),u(n).bigHour=!0});var $o=/[ap]\.?m?\.?/i,Po=E("Hours",!0);O("m",["mm",2],0,"minute"),_("minute","m"),L("m",Ki),L("mm",Ki,Wi),B(["m","mm"],co);var Ro=E("Minutes",!1);O("s",["ss",2],0,"second"),_("second","s"),L("s",Ki),L("ss",Ki,Wi),B(["s","ss"],ho);var Ho=E("Seconds",!1);O("S",0,0,function(){return~~(this.millisecond()/100)}),O(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),O(0,["SSS",3],0,"millisecond"),O(0,["SSSS",4],0,function(){return 10*this.millisecond()}),O(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),O(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),O(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),O(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),O(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),_("millisecond","ms"),L("S",Ji,Yi),L("SS",Ji,Wi),L("SSS",Ji,Vi);var Lo;for(Lo="SSSS";Lo.length<=9;Lo+="S")L(Lo,Xi);for(Lo="S";Lo.length<=9;Lo+="S")B(Lo,Kn);var Uo=E("Milliseconds",!1);O("z",0,0,"zoneAbbr"),O("zz",0,0,"zoneName");var zo=p.prototype;zo.add=Eo,zo.calendar=nn,zo.clone=on,zo.diff=un,zo.endOf=Cn,zo.format=pn,zo.from=fn,zo.fromNow=mn,zo.to=gn,zo.toNow=vn,zo.get=N,zo.invalidAt=An,zo.isAfter=rn,zo.isBefore=sn,zo.isBetween=an,zo.isSame=ln,zo.isValid=Tn,zo.lang=Mo,zo.locale=yn,zo.localeData=bn,zo.max=Do,zo.min=xo,zo.parsingFlags=En,zo.set=N,zo.startOf=wn,zo.subtract=Ao,zo.toArray=_n,zo.toObject=Sn,zo.toDate=Dn,zo.toISOString=hn,zo.toJSON=hn,zo.toString=dn,zo.unix=xn,zo.valueOf=kn,zo.year=Co,zo.isLeapYear=lt,zo.weekYear=Fn,zo.isoWeekYear=On,zo.quarter=zo.quarters=Pn,zo.month=J,zo.daysInMonth=Q,zo.week=zo.weeks=pt,zo.isoWeek=zo.isoWeeks=ft,zo.weeksInYear=$n,zo.isoWeeksInYear=In,zo.date=No,zo.day=zo.days=Bn,zo.weekday=jn,zo.isoWeekday=Yn,zo.dayOfYear=gt,zo.hour=zo.hours=Po,zo.minute=zo.minutes=Ro,zo.second=zo.seconds=Ho,zo.millisecond=zo.milliseconds=Uo,zo.utcOffset=Lt,zo.utc=zt,zo.local=Bt,zo.parseZone=jt,zo.hasAlignedHourOffset=Yt,zo.isDST=Wt,zo.isDSTShifted=Vt,zo.isLocal=qt,zo.isUtcOffset=Gt,zo.isUtc=Kt,zo.isUTC=Kt,zo.zoneAbbr=Jn,zo.zoneName=Qn,zo.dates=et("dates accessor is deprecated. Use date instead.",No),zo.months=et("months accessor is deprecated. Use month instead",J),zo.years=et("years accessor is deprecated. Use year instead",Co),zo.zone=et("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Ut);
var Bo=zo,jo={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Yo={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Wo="Invalid date",Vo="%d",qo=/\d{1,2}/,Go={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Ko=y.prototype;Ko._calendar=jo,Ko.calendar=ei,Ko._longDateFormat=Yo,Ko.longDateFormat=ti,Ko._invalidDate=Wo,Ko.invalidDate=ni,Ko._ordinal=Vo,Ko.ordinal=ii,Ko._ordinalParse=qo,Ko.preparse=oi,Ko.postformat=oi,Ko._relativeTime=Go,Ko.relativeTime=ri,Ko.pastFuture=si,Ko.set=ai,Ko.months=V,Ko._months=fo,Ko.monthsShort=q,Ko._monthsShort=mo,Ko.monthsParse=G,Ko.week=ct,Ko._week=ko,Ko.firstDayOfYear=ht,Ko.firstDayOfWeek=dt,Ko.weekdays=Hn,Ko._weekdays=Fo,Ko.weekdaysMin=Un,Ko._weekdaysMin=Io,Ko.weekdaysShort=Ln,Ko._weekdaysShort=Oo,Ko.weekdaysParse=zn,Ko.isPM=qn,Ko._meridiemParse=$o,Ko.meridiem=Gn,k("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===g(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),e.lang=et("moment.lang is deprecated. Use moment.locale instead.",k),e.langData=et("moment.langData is deprecated. Use moment.localeData instead.",D);var Jo=Math.abs,Qo=_i("ms"),Zo=_i("s"),Xo=_i("m"),er=_i("h"),tr=_i("d"),nr=_i("w"),ir=_i("M"),or=_i("y"),rr=Ti("milliseconds"),sr=Ti("seconds"),ar=Ti("minutes"),lr=Ti("hours"),ur=Ti("days"),cr=Ti("months"),dr=Ti("years"),hr=Math.round,pr={s:45,m:45,h:22,d:26,M:11},fr=Math.abs,mr=Ot.prototype;mr.abs=mi,mr.add=vi,mr.subtract=yi,mr.as=xi,mr.asMilliseconds=Qo,mr.asSeconds=Zo,mr.asMinutes=Xo,mr.asHours=er,mr.asDays=tr,mr.asWeeks=nr,mr.asMonths=ir,mr.asYears=or,mr.valueOf=Di,mr._bubble=wi,mr.get=Si,mr.milliseconds=rr,mr.seconds=sr,mr.minutes=ar,mr.hours=lr,mr.days=ur,mr.weeks=Ei,mr.months=cr,mr.years=dr,mr.humanize=Fi,mr.toISOString=Oi,mr.toString=Oi,mr.toJSON=Oi,mr.locale=yn,mr.localeData=bn,mr.toIsoString=et("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Oi),mr.lang=Mo,O("X",0,0,"unix"),O("x",0,0,"valueOf"),L("x",eo),L("X",no),B("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),B("x",function(e,t,n){n._d=new Date(g(e))}),e.version="2.10.6",t(At),e.fn=Bo,e.min=Nt,e.max=Ft,e.utc=a,e.unix=Zn,e.months=ci,e.isDate=i,e.locale=k,e.invalid=d,e.duration=Jt,e.isMoment=f,e.weekdays=hi,e.parseZone=Xn,e.localeData=D,e.isDuration=It,e.monthsShort=di,e.weekdaysMin=fi,e.defineLocale=x,e.weekdaysShort=pi,e.normalizeUnits=S,e.relativeTimeThreshold=Ni;var gr=e;return gr}),!function($){"use strict";var escape=/["\\\x00-\x1f\x7f-\x9f]/g,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},hasOwn=Object.prototype.hasOwnProperty;$.toJSON="object"==typeof JSON&&JSON.stringify?JSON.stringify:function(e){if(null===e)return"null";var t,n,i,o,r=$.type(e);if("undefined"===r)return void 0;if("number"===r||"boolean"===r)return String(e);if("string"===r)return $.quoteString(e);if("function"==typeof e.toJSON)return $.toJSON(e.toJSON());if("date"===r){var s=e.getUTCMonth()+1,a=e.getUTCDate(),l=e.getUTCFullYear(),u=e.getUTCHours(),c=e.getUTCMinutes(),d=e.getUTCSeconds(),h=e.getUTCMilliseconds();return 10>s&&(s="0"+s),10>a&&(a="0"+a),10>u&&(u="0"+u),10>c&&(c="0"+c),10>d&&(d="0"+d),100>h&&(h="0"+h),10>h&&(h="0"+h),'"'+l+"-"+s+"-"+a+"T"+u+":"+c+":"+d+"."+h+'Z"'}if(t=[],$.isArray(e)){for(n=0;n<e.length;n++)t.push($.toJSON(e[n])||"null");return"["+t.join(",")+"]"}if("object"==typeof e){for(n in e)if(hasOwn.call(e,n)){if(r=typeof n,"number"===r)i='"'+n+'"';else{if("string"!==r)continue;i=$.quoteString(n)}r=typeof e[n],"function"!==r&&"undefined"!==r&&(o=$.toJSON(e[n]),t.push(i+":"+o))}return"{"+t.join(",")+"}"}},$.evalJSON="object"==typeof JSON&&JSON.parse?JSON.parse:function(str){return eval("("+str+")")},$.secureEvalJSON="object"==typeof JSON&&JSON.parse?JSON.parse:function(str){var filtered=str.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"");if(/^[\],:{}\s]*$/.test(filtered))return eval("("+str+")");throw new SyntaxError("Error parsing JSON, source is not valid.")},$.quoteString=function(e){return e.match(escape)?'"'+e.replace(escape,function(e){var t=meta[e];return"string"==typeof t?t:(t=e.charCodeAt(),"\\u00"+Math.floor(t/16).toString(16)+(t%16).toString(16))})+'"':'"'+e+'"'}}(jQuery),!function(e){var t={inEffect:{opacity:"show"},inEffectDuration:600,stayTime:3e3,text:"",sticky:!1,type:"notice",position:"top-right",closeText:"",close:null},n={init:function(n){n&&e.extend(t,n)},showToast:function(n){var i={};e.extend(i,t,n);var o,r,s,a,l;return o=e(".toast-container").length?e(".toast-container"):e("<div></div>").addClass("toast-container").addClass("toast-position-"+i.position).appendTo("body"),r=e("<div></div>").addClass("toast-item-wrapper"),s=e("<div></div>").hide().addClass("toast-item toast-type-"+i.type).appendTo(o).html(e("<p>").append(i.text)).animate(i.inEffect,i.inEffectDuration).wrap(r),a=e("<div></div>").addClass("toast-item-close").prependTo(s).html(i.closeText).click(function(){e().toastmessage("removeToast",s,i)}),l=e("<div></div>").addClass("toast-item-image").addClass("toast-item-image-"+i.type).prependTo(s),navigator.userAgent.match(/MSIE 6/i)&&o.css({top:document.documentElement.scrollTop}),i.sticky||setTimeout(function(){e().toastmessage("removeToast",s,i)},i.stayTime),s},showNoticeToast:function(t){var n={text:t,type:"notice"};return e().toastmessage("showToast",n)},showSuccessToast:function(t){var n={text:t,type:"success"};return e().toastmessage("showToast",n)},showErrorToast:function(t){var n={text:t,type:"error"};return e().toastmessage("showToast",n)},showWarningToast:function(t){var n={text:t,type:"warning"};return e().toastmessage("showToast",n)},removeToast:function(e,t){e.animate({opacity:"0"},600,function(){e.parent().animate({height:"0px"},300,function(){e.parent().remove()})}),t&&null!==t.close&&t.close()}};e.fn.toastmessage=function(t){return n[t]?n[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist on jQuery.toastmessage"):n.init.apply(this,arguments)}}(jQuery),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e,t){function n(){return new Date(Date.UTC.apply(Date,arguments))}function i(){var e=new Date;return n(e.getFullYear(),e.getMonth(),e.getDate())}function o(e,t){return e.getUTCFullYear()===t.getUTCFullYear()&&e.getUTCMonth()===t.getUTCMonth()&&e.getUTCDate()===t.getUTCDate()}function r(e){return function(){return this[e].apply(this,arguments)}}function s(e){return e&&!isNaN(e.getTime())}function a(t,n){function i(e,t){return t.toLowerCase()}var o,r=e(t).data(),s={},a=new RegExp("^"+n.toLowerCase()+"([A-Z])");n=new RegExp("^"+n.toLowerCase());for(var l in r)n.test(l)&&(o=l.replace(a,i),s[o]=r[l]);return s}function l(t){var n={};if(g[t]||(t=t.split("-")[0],g[t])){var i=g[t];return e.each(m,function(e,t){t in i&&(n[t]=i[t])}),n}}var u=function(){var t={get:function(e){return this.slice(e)[0]},contains:function(e){for(var t=e&&e.valueOf(),n=0,i=this.length;i>n;n++)if(this[n].valueOf()===t)return n;return-1},remove:function(e){this.splice(e,1)},replace:function(t){t&&(e.isArray(t)||(t=[t]),this.clear(),this.push.apply(this,t))},clear:function(){this.length=0},copy:function(){var e=new u;return e.replace(this),e}};return function(){var n=[];return n.push.apply(n,arguments),e.extend(n,t),n}}(),c=function(t,n){e(t).data("datepicker",this),this._process_options(n),this.dates=new u,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=e(t),this.isInline=!1,this.isInput=this.element.is("input"),this.component=this.element.hasClass("date")?this.element.find(".add-on, .input-group-addon, .btn"):!1,this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=e(v.template),this._check_template(this.o.templates.leftArrow)&&this.picker.find(".prev").html(this.o.templates.leftArrow),this._check_template(this.o.templates.rightArrow)&&this.picker.find(".next").html(this.o.templates.rightArrow),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",function(e,t){return parseInt(t)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.setDaysOfWeekHighlighted(this.o.daysOfWeekHighlighted),this.setDatesDisabled(this.o.datesDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};c.prototype={constructor:c,_resolveViewName:function(e,n){return 0===e||"days"===e||"month"===e?0:1===e||"months"===e||"year"===e?1:2===e||"years"===e||"decade"===e?2:3===e||"decades"===e||"century"===e?3:4===e||"centuries"===e||"millennium"===e?4:n===t?!1:n},_check_template:function(n){try{if(n===t||""===n)return!1;if((n.match(/[<>]/g)||[]).length<=0)return!0;var i=e(n);return i.length>0}catch(o){return!1}},_process_options:function(t){this._o=e.extend({},this._o,t);var o=this.o=e.extend({},this._o),r=o.language;g[r]||(r=r.split("-")[0],g[r]||(r=f.language)),o.language=r,o.startView=this._resolveViewName(o.startView,0),o.minViewMode=this._resolveViewName(o.minViewMode,0),o.maxViewMode=this._resolveViewName(o.maxViewMode,4),o.startView=Math.min(o.startView,o.maxViewMode),o.startView=Math.max(o.startView,o.minViewMode),o.multidate!==!0&&(o.multidate=Number(o.multidate)||!1,o.multidate!==!1&&(o.multidate=Math.max(0,o.multidate))),o.multidateSeparator=String(o.multidateSeparator),o.weekStart%=7,o.weekEnd=(o.weekStart+6)%7;var s=v.parseFormat(o.format);if(o.startDate!==-1/0&&(o.startDate=o.startDate?o.startDate instanceof Date?this._local_to_utc(this._zero_time(o.startDate)):v.parseDate(o.startDate,s,o.language,o.assumeNearbyYear):-1/0),1/0!==o.endDate&&(o.endDate=o.endDate?o.endDate instanceof Date?this._local_to_utc(this._zero_time(o.endDate)):v.parseDate(o.endDate,s,o.language,o.assumeNearbyYear):1/0),o.daysOfWeekDisabled=o.daysOfWeekDisabled||[],e.isArray(o.daysOfWeekDisabled)||(o.daysOfWeekDisabled=o.daysOfWeekDisabled.split(/[,\s]*/)),o.daysOfWeekDisabled=e.map(o.daysOfWeekDisabled,function(e){return parseInt(e,10)}),o.daysOfWeekHighlighted=o.daysOfWeekHighlighted||[],e.isArray(o.daysOfWeekHighlighted)||(o.daysOfWeekHighlighted=o.daysOfWeekHighlighted.split(/[,\s]*/)),o.daysOfWeekHighlighted=e.map(o.daysOfWeekHighlighted,function(e){return parseInt(e,10)}),o.datesDisabled=o.datesDisabled||[],!e.isArray(o.datesDisabled)){var a=[];a.push(v.parseDate(o.datesDisabled,s,o.language,o.assumeNearbyYear)),o.datesDisabled=a}o.datesDisabled=e.map(o.datesDisabled,function(e){return v.parseDate(e,s,o.language,o.assumeNearbyYear)});var l=String(o.orientation).toLowerCase().split(/\s+/g),u=o.orientation.toLowerCase();if(l=e.grep(l,function(e){return/^auto|left|right|top|bottom$/.test(e)}),o.orientation={x:"auto",y:"auto"},u&&"auto"!==u)if(1===l.length)switch(l[0]){case"top":case"bottom":o.orientation.y=l[0];break;case"left":case"right":o.orientation.x=l[0]}else u=e.grep(l,function(e){return/^left|right$/.test(e)}),o.orientation.x=u[0]||"auto",u=e.grep(l,function(e){return/^top|bottom$/.test(e)}),o.orientation.y=u[0]||"auto";if(o.defaultViewDate){var c=o.defaultViewDate.year||(new Date).getFullYear(),d=o.defaultViewDate.month||0,h=o.defaultViewDate.day||1;o.defaultViewDate=n(c,d,h)}else o.defaultViewDate=i()},_events:[],_secondaryEvents:[],_applyEvents:function(e){for(var n,i,o,r=0;r<e.length;r++)n=e[r][0],2===e[r].length?(i=t,o=e[r][1]):3===e[r].length&&(i=e[r][1],o=e[r][2]),n.on(o,i)},_unapplyEvents:function(e){for(var n,i,o,r=0;r<e.length;r++)n=e[r][0],2===e[r].length?(o=t,i=e[r][1]):3===e[r].length&&(o=e[r][1],i=e[r][2]),n.off(i,o)},_buildEvents:function(){var t={keyup:e.proxy(function(t){-1===e.inArray(t.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:e.proxy(this.keydown,this),paste:e.proxy(this.paste,this)};this.o.showOnFocus===!0&&(t.focus=e.proxy(this.show,this)),this.isInput?this._events=[[this.element,t]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),t],[this.component,{click:e.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:e.proxy(this.show,this)}]],this._events.push([this.element,"*",{blur:e.proxy(function(e){this._focused_from=e.target},this)}],[this.element,{blur:e.proxy(function(e){this._focused_from=e.target},this)}]),this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":e.proxy(function(e){this.update(e.date)},this)}]),this._secondaryEvents=[[this.picker,{click:e.proxy(this.click,this)}],[e(window),{resize:e.proxy(this.place,this)}],[e(document),{mousedown:e.proxy(function(e){this.element.is(e.target)||this.element.find(e.target).length||this.picker.is(e.target)||this.picker.find(e.target).length||this.picker.hasClass("datepicker-inline")||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,n){var i=n||this.dates.get(-1),o=this._utc_to_local(i);this.element.trigger({type:t,date:o,dates:e.map(this.dates,this._utc_to_local),format:e.proxy(function(e,t){0===arguments.length?(e=this.dates.length-1,t=this.o.format):"string"==typeof e&&(t=e,e=this.dates.length-1),t=t||this.o.format;var n=this.dates.get(e);return v.formatDate(n,t,this.o.language)},this)})},show:function(){var t=this.component?this.element.find("input"):this.element;return t.attr("readonly")&&this.o.enableOnReadonly===!1?void 0:(this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&e(this.element).blur(),this)},hide:function(){return this.isInline?this:this.picker.is(":visible")?(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"),this):this},destroy:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(t){var n;if(t.originalEvent.clipboardData&&t.originalEvent.clipboardData.types&&-1!==e.inArray("text/plain",t.originalEvent.clipboardData.types))n=t.originalEvent.clipboardData.getData("text/plain");else{if(!window.clipboardData)return;n=window.clipboardData.getData("Text")}this.setDate(n),this.update(),t.preventDefault()},_utc_to_local:function(e){return e&&new Date(e.getTime()+6e4*e.getTimezoneOffset())},_local_to_utc:function(e){return e&&new Date(e.getTime()-6e4*e.getTimezoneOffset())},_zero_time:function(e){return e&&new Date(e.getFullYear(),e.getMonth(),e.getDate())},_zero_utc_time:function(e){return e&&new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()))},getDates:function(){return e.map(this.dates,this._utc_to_local)},getUTCDates:function(){return e.map(this.dates,function(e){return new Date(e)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var e=this.dates.get(-1);return"undefined"!=typeof e?new Date(e):null},clearDates:function(){var e;this.isInput?e=this.element:this.component&&(e=this.element.find("input")),e&&e.val(""),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var t=e.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,t),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var t=e.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,e.map(t,this._utc_to_local)),this._trigger("changeDate"),this.setValue(),this},setDate:r("setDates"),setUTCDate:r("setUTCDates"),remove:r("destroy"),setValue:function(){var e=this.getFormattedDate();return this.isInput?this.element.val(e):this.component&&this.element.find("input").val(e),this},getFormattedDate:function(n){n===t&&(n=this.o.format);var i=this.o.language;return e.map(this.dates,function(e){return v.formatDate(e,n,i)}).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},setStartDate:function(e){return this._process_options({startDate:e}),this.update(),this.updateNavArrows(),this},getEndDate:function(){return this.o.endDate},setEndDate:function(e){return this._process_options({endDate:e}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(e){return this._process_options({daysOfWeekDisabled:e}),this.update(),this.updateNavArrows(),this},setDaysOfWeekHighlighted:function(e){return this._process_options({daysOfWeekHighlighted:e}),this.update(),this},setDatesDisabled:function(e){this._process_options({datesDisabled:e}),this.update(),this.updateNavArrows()},place:function(){if(this.isInline)return this;var t=this.picker.outerWidth(),n=this.picker.outerHeight(),i=10,o=e(this.o.container),r=o.width(),s="body"===this.o.container?e(document).scrollTop():o.scrollTop(),a=o.offset(),l=[];this.element.parents().each(function(){var t=e(this).css("z-index");"auto"!==t&&0!==t&&l.push(parseInt(t))});var u=Math.max.apply(Math,l)+this.o.zIndexOffset,c=this.component?this.component.parent().offset():this.element.offset(),d=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),h=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),p=c.left-a.left,f=c.top-a.top;"body"!==this.o.container&&(f+=s),this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(p-=t-h)):c.left<0?(this.picker.addClass("datepicker-orient-left"),p-=c.left-i):p+t>r?(this.picker.addClass("datepicker-orient-right"),p+=h-t):this.picker.addClass("datepicker-orient-left");var m,g=this.o.orientation.y;if("auto"===g&&(m=-s+f-n,g=0>m?"bottom":"top"),this.picker.addClass("datepicker-orient-"+g),"top"===g?f-=n+parseInt(this.picker.css("padding-top")):f+=d,this.o.rtl){var v=r-(p+h);this.picker.css({top:f,right:v,zIndex:u})}else this.picker.css({top:f,left:p,zIndex:u});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var t=this.dates.copy(),n=[],i=!1;return arguments.length?(e.each(arguments,e.proxy(function(e,t){t instanceof Date&&(t=this._local_to_utc(t)),n.push(t)},this)),i=!0):(n=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),n=n&&this.o.multidate?n.split(this.o.multidateSeparator):[n],delete this.element.data().date),n=e.map(n,e.proxy(function(e){return v.parseDate(e,this.o.format,this.o.language,this.o.assumeNearbyYear)},this)),n=e.grep(n,e.proxy(function(e){return!this.dateWithinRange(e)||!e},this),!0),this.dates.replace(n),this.viewDate=this.dates.length?new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?new Date(this.o.startDate):this.viewDate>this.o.endDate?new Date(this.o.endDate):this.o.defaultViewDate,i?this.setValue():n.length&&String(t)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&t.length&&this._trigger("clearDate"),this.fill(),this.element.change(),this},fillDow:function(){var t=this.o.weekStart,n="<tr>";for(this.o.calendarWeeks&&(this.picker.find(".datepicker-days .datepicker-switch").attr("colspan",function(e,t){return parseInt(t)+1}),n+='<th class="cw">&#160;</th>');t<this.o.weekStart+7;)n+='<th class="dow',e.inArray(t,this.o.daysOfWeekDisabled)>-1&&(n+=" disabled"),n+='">'+g[this.o.language].daysMin[t++%7]+"</th>";n+="</tr>",this.picker.find(".datepicker-days thead").append(n)},fillMonths:function(){for(var e=this._utc_to_local(this.viewDate),t="",n=0;12>n;){var i=e&&e.getMonth()===n?" focused":"";t+='<span class="month'+i+'">'+g[this.o.language].monthsShort[n++]+"</span>"}this.picker.find(".datepicker-months td").html(t)},setRange:function(t){t&&t.length?this.range=e.map(t,function(e){return e.valueOf()}):delete this.range,this.fill()},getClassNames:function(t){var n=[],i=this.viewDate.getUTCFullYear(),o=this.viewDate.getUTCMonth(),r=new Date;return t.getUTCFullYear()<i||t.getUTCFullYear()===i&&t.getUTCMonth()<o?n.push("old"):(t.getUTCFullYear()>i||t.getUTCFullYear()===i&&t.getUTCMonth()>o)&&n.push("new"),this.focusDate&&t.valueOf()===this.focusDate.valueOf()&&n.push("focused"),this.o.todayHighlight&&t.getUTCFullYear()===r.getFullYear()&&t.getUTCMonth()===r.getMonth()&&t.getUTCDate()===r.getDate()&&n.push("today"),-1!==this.dates.contains(t)&&n.push("active"),(!this.dateWithinRange(t)||this.dateIsDisabled(t))&&n.push("disabled"),-1!==e.inArray(t.getUTCDay(),this.o.daysOfWeekHighlighted)&&n.push("highlighted"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&n.push("range"),-1!==e.inArray(t.valueOf(),this.range)&&n.push("selected"),t.valueOf()===this.range[0]&&n.push("range-start"),t.valueOf()===this.range[this.range.length-1]&&n.push("range-end")),n},_fill_yearsView:function(n,i,o,r,s,a,l,u){var c,d,h,p,f,m,g,v,y,b,w;for(c="",d=this.picker.find(n),h=parseInt(s/o,10)*o,f=parseInt(a/r,10)*r,m=parseInt(l/r,10)*r,p=e.map(this.dates,function(e){return parseInt(e.getUTCFullYear()/r,10)*r}),d.find(".datepicker-switch").text(h+"-"+(h+9*r)),g=h-r,v=-1;11>v;v+=1)y=[i],b=null,-1===v?y.push("old"):10===v&&y.push("new"),-1!==e.inArray(g,p)&&y.push("active"),(f>g||g>m)&&y.push("disabled"),g===this.viewDate.getFullYear()&&y.push("focused"),u!==e.noop&&(w=u(new Date(g,0,1)),w===t?w={}:"boolean"==typeof w?w={enabled:w}:"string"==typeof w&&(w={classes:w}),w.enabled===!1&&y.push("disabled"),w.classes&&(y=y.concat(w.classes.split(/\s+/))),w.tooltip&&(b=w.tooltip)),c+='<span class="'+y.join(" ")+'"'+(b?' title="'+b+'"':"")+">"+g+"</span>",g+=r;d.find("td").html(c)},fill:function(){var i,o,r=new Date(this.viewDate),s=r.getUTCFullYear(),a=r.getUTCMonth(),l=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,u=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,c=1/0!==this.o.endDate?this.o.endDate.getUTCFullYear():1/0,d=1/0!==this.o.endDate?this.o.endDate.getUTCMonth():1/0,h=g[this.o.language].today||g.en.today||"",p=g[this.o.language].clear||g.en.clear||"",f=g[this.o.language].titleFormat||g.en.titleFormat;if(!isNaN(s)&&!isNaN(a)){this.picker.find(".datepicker-days .datepicker-switch").text(v.formatDate(r,f,this.o.language)),this.picker.find("tfoot .today").text(h).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot .clear").text(p).toggle(this.o.clearBtn!==!1),this.picker.find("thead .datepicker-title").text(this.o.title).toggle(""!==this.o.title),this.updateNavArrows(),this.fillMonths();var m=n(s,a-1,28),y=v.getDaysInMonth(m.getUTCFullYear(),m.getUTCMonth());m.setUTCDate(y),m.setUTCDate(y-(m.getUTCDay()-this.o.weekStart+7)%7);var b=new Date(m);m.getUTCFullYear()<100&&b.setUTCFullYear(m.getUTCFullYear()),b.setUTCDate(b.getUTCDate()+42),b=b.valueOf();for(var w,C=[];m.valueOf()<b;){if(m.getUTCDay()===this.o.weekStart&&(C.push("<tr>"),this.o.calendarWeeks)){var k=new Date(+m+(this.o.weekStart-m.getUTCDay()-7)%7*864e5),x=new Date(Number(k)+(11-k.getUTCDay())%7*864e5),D=new Date(Number(D=n(x.getUTCFullYear(),0,1))+(11-D.getUTCDay())%7*864e5),_=(x-D)/864e5/7+1;C.push('<td class="cw">'+_+"</td>")}w=this.getClassNames(m),w.push("day"),this.o.beforeShowDay!==e.noop&&(o=this.o.beforeShowDay(this._utc_to_local(m)),o===t?o={}:"boolean"==typeof o?o={enabled:o}:"string"==typeof o&&(o={classes:o}),o.enabled===!1&&w.push("disabled"),o.classes&&(w=w.concat(o.classes.split(/\s+/))),o.tooltip&&(i=o.tooltip)),w=e.unique(w),C.push('<td class="'+w.join(" ")+'"'+(i?' title="'+i+'"':"")+">"+m.getUTCDate()+"</td>"),i=null,m.getUTCDay()===this.o.weekEnd&&C.push("</tr>"),m.setUTCDate(m.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(C.join(""));var S=g[this.o.language].monthsTitle||g.en.monthsTitle||"Months",T=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?S:s).end().find("span").removeClass("active");if(e.each(this.dates,function(e,t){t.getUTCFullYear()===s&&T.eq(t.getUTCMonth()).addClass("active")}),(l>s||s>c)&&T.addClass("disabled"),s===l&&T.slice(0,u).addClass("disabled"),s===c&&T.slice(d+1).addClass("disabled"),this.o.beforeShowMonth!==e.noop){var E=this;e.each(T,function(n,i){var o=new Date(s,n,1),r=E.o.beforeShowMonth(o);r===t?r={}:"boolean"==typeof r?r={enabled:r}:"string"==typeof r&&(r={classes:r}),r.enabled!==!1||e(i).hasClass("disabled")||e(i).addClass("disabled"),r.classes&&e(i).addClass(r.classes),r.tooltip&&e(i).prop("title",r.tooltip)})}this._fill_yearsView(".datepicker-years","year",10,1,s,l,c,this.o.beforeShowYear),this._fill_yearsView(".datepicker-decades","decade",100,10,s,l,c,this.o.beforeShowDecade),this._fill_yearsView(".datepicker-centuries","century",1e3,100,s,l,c,this.o.beforeShowCentury)}},updateNavArrows:function(){if(this._allow_update){var e=new Date(this.viewDate),t=e.getUTCFullYear(),n=e.getUTCMonth();switch(this.viewMode){case 0:this.picker.find(".prev").css(this.o.startDate!==-1/0&&t<=this.o.startDate.getUTCFullYear()&&n<=this.o.startDate.getUTCMonth()?{visibility:"hidden"}:{visibility:"visible"}),this.picker.find(".next").css(1/0!==this.o.endDate&&t>=this.o.endDate.getUTCFullYear()&&n>=this.o.endDate.getUTCMonth()?{visibility:"hidden"}:{visibility:"visible"});break;case 1:case 2:case 3:case 4:this.picker.find(".prev").css(this.o.startDate!==-1/0&&t<=this.o.startDate.getUTCFullYear()||this.o.maxViewMode<2?{visibility:"hidden"}:{visibility:"visible"}),this.picker.find(".next").css(1/0!==this.o.endDate&&t>=this.o.endDate.getUTCFullYear()||this.o.maxViewMode<2?{visibility:"hidden"}:{visibility:"visible"})}}},click:function(t){t.preventDefault(),t.stopPropagation();var o,r,s,a,l,u,c;o=e(t.target),o.hasClass("datepicker-switch")&&this.showMode(1);var d=o.closest(".prev, .next");d.length>0&&(r=v.modes[this.viewMode].navStep*(d.hasClass("prev")?-1:1),0===this.viewMode?(this.viewDate=this.moveMonth(this.viewDate,r),this._trigger("changeMonth",this.viewDate)):(this.viewDate=this.moveYear(this.viewDate,r),1===this.viewMode&&this._trigger("changeYear",this.viewDate)),this.fill()),o.hasClass("today")&&(this.showMode(-2),this._setDate(i(),"linked"===this.o.todayBtn?null:"view")),o.hasClass("clear")&&this.clearDates(),o.hasClass("disabled")||(o.hasClass("day")&&(s=parseInt(o.text(),10)||1,a=this.viewDate.getUTCFullYear(),l=this.viewDate.getUTCMonth(),o.hasClass("old")&&(0===l?(l=11,a-=1,u=!0,c=!0):(l-=1,u=!0)),o.hasClass("new")&&(11===l?(l=0,a+=1,u=!0,c=!0):(l+=1,u=!0)),this._setDate(n(a,l,s)),c&&this._trigger("changeYear",this.viewDate),u&&this._trigger("changeMonth",this.viewDate)),o.hasClass("month")&&(this.viewDate.setUTCDate(1),s=1,l=o.parent().find("span").index(o),a=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(l),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode?(this._setDate(n(a,l,s)),this.showMode()):this.showMode(-1),this.fill()),(o.hasClass("year")||o.hasClass("decade")||o.hasClass("century"))&&(this.viewDate.setUTCDate(1),s=1,l=0,a=parseInt(o.text(),10)||0,this.viewDate.setUTCFullYear(a),o.hasClass("year")&&(this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(n(a,l,s))),o.hasClass("decade")&&(this._trigger("changeDecade",this.viewDate),3===this.o.minViewMode&&this._setDate(n(a,l,s))),o.hasClass("century")&&(this._trigger("changeCentury",this.viewDate),4===this.o.minViewMode&&this._setDate(n(a,l,s))),this.showMode(-1),this.fill())),this.picker.is(":visible")&&this._focused_from&&e(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(e){var t=this.dates.contains(e);if(e||this.dates.clear(),-1!==t?(this.o.multidate===!0||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(t):this.o.multidate===!1?(this.dates.clear(),this.dates.push(e)):this.dates.push(e),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(e,t){t&&"date"!==t||this._toggle_multidate(e&&new Date(e)),t&&"view"!==t||(this.viewDate=e&&new Date(e)),this.fill(),this.setValue(),t&&"view"===t||this._trigger("changeDate");var n;this.isInput?n=this.element:this.component&&(n=this.element.find("input")),n&&n.change(),!this.o.autoclose||t&&"date"!==t||this.hide()},moveDay:function(e,t){var n=new Date(e);return n.setUTCDate(e.getUTCDate()+t),n},moveWeek:function(e,t){return this.moveDay(e,7*t)},moveMonth:function(e,t){if(!s(e))return this.o.defaultViewDate;if(!t)return e;var n,i,o=new Date(e.valueOf()),r=o.getUTCDate(),a=o.getUTCMonth(),l=Math.abs(t);if(t=t>0?1:-1,1===l)i=-1===t?function(){return o.getUTCMonth()===a}:function(){return o.getUTCMonth()!==n},n=a+t,o.setUTCMonth(n),(0>n||n>11)&&(n=(n+12)%12);else{for(var u=0;l>u;u++)o=this.moveMonth(o,t);n=o.getUTCMonth(),o.setUTCDate(r),i=function(){return n!==o.getUTCMonth()}}for(;i();)o.setUTCDate(--r),o.setUTCMonth(n);return o},moveYear:function(e,t){return this.moveMonth(e,12*t)},moveAvailableDate:function(e,t,n){do{if(e=this[n](e,t),!this.dateWithinRange(e))return!1;n="moveDay"}while(this.dateIsDisabled(e));return e},weekOfDateIsDisabled:function(t){return-1!==e.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled)},dateIsDisabled:function(t){return this.weekOfDateIsDisabled(t)||e.grep(this.o.datesDisabled,function(e){return o(t,e)}).length>0},dateWithinRange:function(e){return e>=this.o.startDate&&e<=this.o.endDate},keydown:function(e){if(!this.picker.is(":visible"))return void((40===e.keyCode||27===e.keyCode)&&(this.show(),e.stopPropagation()));var t,n,i=!1,o=this.focusDate||this.viewDate;switch(e.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),e.preventDefault(),e.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||7===this.o.daysOfWeekDisabled.length)break;t=37===e.keyCode||38===e.keyCode?-1:1,0===this.viewMode?e.ctrlKey?(n=this.moveAvailableDate(o,t,"moveYear"),n&&this._trigger("changeYear",this.viewDate)):e.shiftKey?(n=this.moveAvailableDate(o,t,"moveMonth"),n&&this._trigger("changeMonth",this.viewDate)):37===e.keyCode||39===e.keyCode?n=this.moveAvailableDate(o,t,"moveDay"):this.weekOfDateIsDisabled(o)||(n=this.moveAvailableDate(o,t,"moveWeek")):1===this.viewMode?((38===e.keyCode||40===e.keyCode)&&(t=4*t),n=this.moveAvailableDate(o,t,"moveMonth")):2===this.viewMode&&((38===e.keyCode||40===e.keyCode)&&(t=4*t),n=this.moveAvailableDate(o,t,"moveYear")),n&&(this.focusDate=this.viewDate=n,this.setValue(),this.fill(),e.preventDefault());break;case 13:if(!this.o.forceParse)break;o=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(o),i=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(e.preventDefault(),e.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()
}if(i){this._trigger(this.dates.length?"changeDate":"clearDate");var r;this.isInput?r=this.element:this.component&&(r=this.element.find("input")),r&&r.change()}},showMode:function(e){e&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,this.viewMode+e))),this.picker.children("div").hide().filter(".datepicker-"+v.modes[this.viewMode].clsName).show(),this.updateNavArrows()}};var d=function(t,n){e(t).data("datepicker",this),this.element=e(t),this.inputs=e.map(n.inputs,function(e){return e.jquery?e[0]:e}),delete n.inputs,p.call(e(this.inputs),n).on("changeDate",e.proxy(this.dateUpdated,this)),this.pickers=e.map(this.inputs,function(t){return e(t).data("datepicker")}),this.updateDates()};d.prototype={updateDates:function(){this.dates=e.map(this.pickers,function(e){return e.getUTCDate()}),this.updateRanges()},updateRanges:function(){var t=e.map(this.dates,function(e){return e.valueOf()});e.each(this.pickers,function(e,n){n.setRange(t)})},dateUpdated:function(t){if(!this.updating){this.updating=!0;var n=e(t.target).data("datepicker");if("undefined"!=typeof n){var i=n.getUTCDate(),o=e.inArray(t.target,this.inputs),r=o-1,s=o+1,a=this.inputs.length;if(-1!==o){if(e.each(this.pickers,function(e,t){t.getUTCDate()||t.setUTCDate(i)}),i<this.dates[r])for(;r>=0&&i<this.dates[r];)this.pickers[r--].setUTCDate(i);else if(i>this.dates[s])for(;a>s&&i>this.dates[s];)this.pickers[s++].setUTCDate(i);this.updateDates(),delete this.updating}}}},remove:function(){e.map(this.pickers,function(e){e.remove()}),delete this.element.data().datepicker}};var h=e.fn.datepicker,p=function(n){var i=Array.apply(null,arguments);i.shift();var o;if(this.each(function(){var t=e(this),r=t.data("datepicker"),s="object"==typeof n&&n;if(!r){var u=a(this,"date"),h=e.extend({},f,u,s),p=l(h.language),m=e.extend({},f,p,u,s);t.hasClass("input-daterange")||m.inputs?(e.extend(m,{inputs:m.inputs||t.find("input").toArray()}),r=new d(this,m)):r=new c(this,m),t.data("datepicker",r)}"string"==typeof n&&"function"==typeof r[n]&&(o=r[n].apply(r,i))}),o===t||o instanceof c||o instanceof d)return this;if(this.length>1)throw new Error("Using only allowed for the collection of a single element ("+n+" function)");return o};e.fn.datepicker=p;var f=e.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:e.noop,beforeShowMonth:e.noop,beforeShowYear:e.noop,beforeShowDecade:e.noop,beforeShowCentury:e.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",immediateUpdates:!1,title:"",templates:{leftArrow:"&laquo;",rightArrow:"&raquo;"}},m=e.fn.datepicker.locale_opts=["format","rtl","weekStart"];e.fn.datepicker.Constructor=c;var g=e.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}},v={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10},{clsName:"decades",navFnc:"FullDecade",navStep:100},{clsName:"centuries",navFnc:"FullCentury",navStep:1e3}],isLeapYear:function(e){return e%4===0&&e%100!==0||e%400===0},getDaysInMonth:function(e,t){return[31,v.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function(e){if("function"==typeof e.toValue&&"function"==typeof e.toDisplay)return e;var t=e.replace(this.validParts,"\x00").split("\x00"),n=e.match(this.validParts);if(!t||!t.length||!n||0===n.length)throw new Error("Invalid date format.");return{separators:t,parts:n}},parseDate:function(o,r,s,a){function l(e,t){return t===!0&&(t=10),100>e&&(e+=2e3,e>(new Date).getFullYear()+t&&(e-=100)),e}function u(){var e=this.slice(0,y[p].length),t=y[p].slice(0,e.length);return e.toLowerCase()===t.toLowerCase()}if(!o)return t;if(o instanceof Date)return o;if("string"==typeof r&&(r=v.parseFormat(r)),r.toValue)return r.toValue(o,r,s);var d,h,p,f,m=/([\-+]\d+)([dmwy])/,y=o.match(/([\-+]\d+)([dmwy])/g),b={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},w={yesterday:"-1d",today:"+0d",tomorrow:"+1d"};if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(o)){for(o=new Date,p=0;p<y.length;p++)d=m.exec(y[p]),h=parseInt(d[1]),f=b[d[2]],o=c.prototype[f](o,h);return n(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate())}if("undefined"!=typeof w[o]&&(o=w[o],y=o.match(/([\-+]\d+)([dmwy])/g),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(o))){for(o=new Date,p=0;p<y.length;p++)d=m.exec(y[p]),h=parseInt(d[1]),f=b[d[2]],o=c.prototype[f](o,h);return n(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate())}y=o&&o.match(this.nonpunctuation)||[],o=new Date;var C,k,x={},D=["yyyy","yy","M","MM","m","mm","d","dd"],_={yyyy:function(e,t){return e.setUTCFullYear(a?l(t,a):t)},yy:function(e,t){return e.setUTCFullYear(a?l(t,a):t)},m:function(e,t){if(isNaN(e))return e;for(t-=1;0>t;)t+=12;for(t%=12,e.setUTCMonth(t);e.getUTCMonth()!==t;)e.setUTCDate(e.getUTCDate()-1);return e},d:function(e,t){return e.setUTCDate(t)}};_.M=_.MM=_.mm=_.m,_.dd=_.d,o=i();var S=r.parts.slice();if(y.length!==S.length&&(S=e(S).filter(function(t,n){return-1!==e.inArray(n,D)}).toArray()),y.length===S.length){var T;for(p=0,T=S.length;T>p;p++){if(C=parseInt(y[p],10),d=S[p],isNaN(C))switch(d){case"MM":k=e(g[s].months).filter(u),C=e.inArray(k[0],g[s].months)+1;break;case"M":k=e(g[s].monthsShort).filter(u),C=e.inArray(k[0],g[s].monthsShort)+1}x[d]=C}var E,A;for(p=0;p<D.length;p++)A=D[p],A in x&&!isNaN(x[A])&&(E=new Date(o),_[A](E,x[A]),isNaN(E)||(o=E))}return o},formatDate:function(t,n,i){if(!t)return"";if("string"==typeof n&&(n=v.parseFormat(n)),n.toDisplay)return n.toDisplay(t,n,i);var o={d:t.getUTCDate(),D:g[i].daysShort[t.getUTCDay()],DD:g[i].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:g[i].monthsShort[t.getUTCMonth()],MM:g[i].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};o.dd=(o.d<10?"0":"")+o.d,o.mm=(o.m<10?"0":"")+o.m,t=[];for(var r=e.extend([],n.separators),s=0,a=n.parts.length;a>=s;s++)r.length&&t.push(r.shift()),t.push(o[n.parts[s]]);return t.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};v.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+v.headTemplate+"<tbody></tbody>"+v.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+'</table></div><div class="datepicker-decades"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+'</table></div><div class="datepicker-centuries"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+"</table></div></div>",e.fn.datepicker.DPGlobal=v,e.fn.datepicker.noConflict=function(){return e.fn.datepicker=h,this},e.fn.datepicker.version="1.6.0",e(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var n=e(this);n.data("datepicker")||(t.preventDefault(),p.call(n,"show"))}),e(function(){p.call(e('[data-provide="datepicker-inline"]'))})}),!function(e){e.fn.datepicker.dates["zh-CN"]={days:["","","","","","",""],daysShort:["","","","","","",""],daysMin:["","","","","","",""],months:["","","","","","","","","","","",""],monthsShort:["1","2","3","4","5","6","7","8","9","10","11","12"],today:"",clear:"",format:"yyyymmdd",titleFormat:"yyyymm",weekStart:1}}(jQuery),!function(e){"use strict";function t(e,t){for(var n=0;n<e.length;++n)t(e[n],n)}function n(t,n){this.$select=e(t),this.options=this.mergeOptions(e.extend({},n,this.$select.data())),this.originalOptions=this.$select.clone()[0].options,this.query="",this.searchTimeout=null,this.lastToggledInput=null,this.options.multiple="multiple"===this.$select.attr("multiple"),this.options.onChange=e.proxy(this.options.onChange,this),this.options.onDropdownShow=e.proxy(this.options.onDropdownShow,this),this.options.onDropdownHide=e.proxy(this.options.onDropdownHide,this),this.options.onDropdownShown=e.proxy(this.options.onDropdownShown,this),this.options.onDropdownHidden=e.proxy(this.options.onDropdownHidden,this),this.buildContainer(),this.buildButton(),this.buildDropdown(),this.buildSelectAll(),this.buildDropdownOptions(),this.buildFilter(),this.updateButtonText(),this.updateSelectAll(),this.options.disableIfEmpty&&e("option",this.$select).length<=0&&this.disable(),this.$select.hide().after(this.$container)}"undefined"!=typeof ko&&ko.bindingHandlers&&!ko.bindingHandlers.multiselect&&(ko.bindingHandlers.multiselect={after:["options","value","selectedOptions"],init:function(t,n,i){var o=e(t),r=ko.toJS(n());if(o.multiselect(r),i.has("options")){var s=i.get("options");ko.isObservable(s)&&ko.computed({read:function(){s(),setTimeout(function(){var e=o.data("multiselect");e&&e.updateOriginalOptions(),o.multiselect("rebuild")},1)},disposeWhenNodeIsRemoved:t})}if(i.has("value")){var a=i.get("value");ko.isObservable(a)&&ko.computed({read:function(){a(),setTimeout(function(){o.multiselect("refresh")},1)},disposeWhenNodeIsRemoved:t}).extend({rateLimit:100,notifyWhenChangesStop:!0})}if(i.has("selectedOptions")){var l=i.get("selectedOptions");ko.isObservable(l)&&ko.computed({read:function(){l(),setTimeout(function(){o.multiselect("refresh")},1)},disposeWhenNodeIsRemoved:t}).extend({rateLimit:100,notifyWhenChangesStop:!0})}ko.utils.domNodeDisposal.addDisposeCallback(t,function(){o.multiselect("destroy")})},update:function(t,n){var i=e(t),o=ko.toJS(n());i.multiselect("setOptions",o),i.multiselect("rebuild")}}),n.prototype={defaults:{buttonText:function(t,n){if(0===t.length)return this.nonSelectedText;if(t.length==e("option",e(n)).length)return this.allSelectedText;if(t.length>this.numberDisplayed)return t.length+" "+this.nSelectedText;var i="";return t.each(function(){var t=void 0!==e(this).attr("label")?e(this).attr("label"):e(this).text();i+=t+", "}),i.substr(0,i.length-2)},buttonTitle:function(t){if(0===t.length)return this.nonSelectedText;var n="";return t.each(function(){n+=e(this).text()+", "}),n.substr(0,n.length-2)},optionLabel:function(t){return e(t).attr("label")||e(t).text()},onChange:function(){},onDropdownShow:function(){},onDropdownHide:function(){},onDropdownShown:function(){},onDropdownHidden:function(){},onSelectAll:function(){},buttonClass:"btn btn-default",inheritClass:!1,buttonWidth:"auto",buttonContainer:'<div class="btn-group" />',dropRight:!1,selectedClass:"active",maxHeight:!1,checkboxName:!1,includeSelectAllOption:!1,includeSelectAllIfMoreThan:0,selectAllText:" Select all",selectAllValue:"multiselect-all",selectAllName:!1,enableFiltering:!1,enableCaseInsensitiveFiltering:!1,enableClickableOptGroups:!1,filterPlaceholder:"Search",filterBehavior:"text",includeFilterClearBtn:!0,preventInputChangeEvent:!1,nonSelectedText:"None selected",nSelectedText:"selected",allSelectedText:"All selected",numberDisplayed:3,disableIfEmpty:!1,templates:{button:'<button type="button" class="multiselect dropdown-toggle" data-toggle="dropdown"><span class="multiselect-selected-text"></span> <b class="caret"></b></button>',ul:'<ul class="multiselect-container dropdown-menu"></ul>',filter:'<li class="multiselect-item filter"><div class="input-group"><span class="input-group-addon"><i class="glyphicon glyphicon-search"></i></span><input class="form-control multiselect-search" type="text"></div></li>',filterClearBtn:'<span class="input-group-btn"><button class="btn btn-default multiselect-clear-filter" type="button"><i class="glyphicon glyphicon-remove-circle"></i></button></span>',li:'<li><a tabindex="0"><label></label></a></li>',divider:'<li class="multiselect-item divider"></li>',liGroup:'<li class="multiselect-item multiselect-group"><label></label></li>'}},constructor:n,buildContainer:function(){this.$container=e(this.options.buttonContainer),this.$container.on("show.bs.dropdown",this.options.onDropdownShow),this.$container.on("hide.bs.dropdown",this.options.onDropdownHide),this.$container.on("shown.bs.dropdown",this.options.onDropdownShown),this.$container.on("hidden.bs.dropdown",this.options.onDropdownHidden)},buildButton:function(){this.$button=e(this.options.templates.button).addClass(this.options.buttonClass),this.$select.attr("class")&&this.options.inheritClass&&this.$button.addClass(this.$select.attr("class")),this.$select.prop("disabled")?this.disable():this.enable(),this.options.buttonWidth&&"auto"!==this.options.buttonWidth&&(this.$button.css({width:this.options.buttonWidth,overflow:"hidden","text-overflow":"ellipsis"}),this.$container.css({width:this.options.buttonWidth}));var t=this.$select.attr("tabindex");t&&this.$button.attr("tabindex",t),this.$container.prepend(this.$button)},buildDropdown:function(){this.$ul=e(this.options.templates.ul),this.options.dropRight&&this.$ul.addClass("pull-right"),this.options.maxHeight&&this.$ul.css({"max-height":this.options.maxHeight+"px","overflow-y":"auto","overflow-x":"hidden"}),this.$container.append(this.$ul)},buildDropdownOptions:function(){this.$select.children().each(e.proxy(function(t,n){var i=e(n),o=i.prop("tagName").toLowerCase();i.prop("value")!==this.options.selectAllValue&&("optgroup"===o?this.createOptgroup(n):"option"===o&&("divider"===i.data("role")?this.createDivider():this.createOptionValue(n)))},this)),e("li input",this.$ul).on("change",e.proxy(function(t){var n=e(t.target),i=n.prop("checked")||!1,o=n.val()===this.options.selectAllValue;this.options.selectedClass&&(i?n.closest("li").addClass(this.options.selectedClass):n.closest("li").removeClass(this.options.selectedClass));var r=n.val(),s=this.getOptionByValue(r),a=e("option",this.$select).not(s),l=e("input",this.$container).not(n);return o&&(i?this.selectAll():this.deselectAll()),o||(i?(s.prop("selected",!0),this.options.multiple?s.prop("selected",!0):(this.options.selectedClass&&e(l).closest("li").removeClass(this.options.selectedClass),e(l).prop("checked",!1),a.prop("selected",!1),this.$button.click()),"active"===this.options.selectedClass&&a.closest("a").css("outline","")):s.prop("selected",!1)),this.$select.change(),this.updateButtonText(),this.updateSelectAll(),this.options.onChange(s,i),this.options.preventInputChangeEvent?!1:void 0},this)),e("li a",this.$ul).on("mousedown",function(e){return e.shiftKey?!1:void 0}),e("li a",this.$ul).on("touchstart click",e.proxy(function(t){t.stopPropagation();var n=e(t.target);if(t.shiftKey&&this.options.multiple){n.is("label")&&(t.preventDefault(),n=n.find("input"),n.prop("checked",!n.prop("checked")));var i=n.prop("checked")||!1;if(null!==this.lastToggledInput&&this.lastToggledInput!==n){var o=n.closest("li").index(),r=this.lastToggledInput.closest("li").index();if(o>r){var s=r;r=o,o=s}++r;var a=this.$ul.find("li").slice(o,r).find("input");a.prop("checked",i),this.options.selectedClass&&a.closest("li").toggleClass(this.options.selectedClass,i);for(var l=0,u=a.length;u>l;l++){var c=e(a[l]),d=this.getOptionByValue(c.val());d.prop("selected",i)}}n.trigger("change")}n.is("input")&&!n.closest("li").is(".multiselect-item")&&(this.lastToggledInput=n),n.blur()},this)),this.$container.off("keydown.multiselect").on("keydown.multiselect",e.proxy(function(t){if(!e('input[type="text"]',this.$container).is(":focus"))if(9===t.keyCode&&this.$container.hasClass("open"))this.$button.click();else{var n=e(this.$container).find("li:not(.divider):not(.disabled) a").filter(":visible");if(!n.length)return;var i=n.index(n.filter(":focus"));38===t.keyCode&&i>0?i--:40===t.keyCode&&i<n.length-1?i++:~i||(i=0);var o=n.eq(i);if(o.focus(),32===t.keyCode||13===t.keyCode){var r=o.find("input");r.prop("checked",!r.prop("checked")),r.change()}t.stopPropagation(),t.preventDefault()}},this)),this.options.enableClickableOptGroups&&this.options.multiple&&e("li.multiselect-group",this.$ul).on("click",e.proxy(function(t){t.stopPropagation();var n=e(t.target).parent(),i=n.nextUntil("li.multiselect-group"),o=i.filter(":visible"),r=!0,s=o.find("input");s.each(function(){r=r&&e(this).prop("checked")}),s.prop("checked",!r).trigger("change")},this))},createOptionValue:function(t){var n=e(t);n.is(":selected")&&n.prop("selected",!0);var i=this.options.optionLabel(t),o=n.val(),r=this.options.multiple?"checkbox":"radio",s=e(this.options.templates.li),a=e("label",s);a.addClass(r);var l=e("<input/>").attr("type",r);this.options.checkboxName&&l.attr("name",this.options.checkboxName),a.append(l);var u=n.prop("selected")||!1;l.val(o),o===this.options.selectAllValue&&(s.addClass("multiselect-item multiselect-all"),l.parent().parent().addClass("multiselect-all")),a.append(" "+i),a.attr("title",n.attr("title")),this.$ul.append(s),n.is(":disabled")&&l.attr("disabled","disabled").prop("disabled",!0).closest("a").attr("tabindex","-1").closest("li").addClass("disabled"),l.prop("checked",u),u&&this.options.selectedClass&&l.closest("li").addClass(this.options.selectedClass)},createDivider:function(){var t=e(this.options.templates.divider);this.$ul.append(t)},createOptgroup:function(t){var n=e(t).prop("label"),i=e(this.options.templates.liGroup);e("label",i).text(n),this.options.enableClickableOptGroups&&i.addClass("multiselect-group-clickable"),this.$ul.append(i),e(t).is(":disabled")&&i.addClass("disabled"),e("option",t).each(e.proxy(function(e,t){this.createOptionValue(t)},this))},buildSelectAll:function(){"number"==typeof this.options.selectAllValue&&(this.options.selectAllValue=this.options.selectAllValue.toString());var t=this.hasSelectAll();if(!t&&this.options.includeSelectAllOption&&this.options.multiple&&e("option",this.$select).length>this.options.includeSelectAllIfMoreThan){this.options.includeSelectAllDivider&&this.$ul.prepend(e(this.options.templates.divider));var n=e(this.options.templates.li);e("label",n).addClass("checkbox"),e("label",n).append(this.options.selectAllName?'<input type="checkbox" name="'+this.options.selectAllName+'" />':'<input type="checkbox" />');var i=e("input",n);i.val(this.options.selectAllValue),n.addClass("multiselect-item multiselect-all"),i.parent().parent().addClass("multiselect-all"),e("label",n).append(" "+this.options.selectAllText),this.$ul.prepend(n),i.prop("checked",!1)}},buildFilter:function(){if(this.options.enableFiltering||this.options.enableCaseInsensitiveFiltering){var t=Math.max(this.options.enableFiltering,this.options.enableCaseInsensitiveFiltering);if(this.$select.find("option").length>=t){if(this.$filter=e(this.options.templates.filter),e("input",this.$filter).attr("placeholder",this.options.filterPlaceholder),this.options.includeFilterClearBtn){var n=e(this.options.templates.filterClearBtn);n.on("click",e.proxy(function(){clearTimeout(this.searchTimeout),this.$filter.find(".multiselect-search").val(""),e("li",this.$ul).show().removeClass("filter-hidden"),this.updateSelectAll()},this)),this.$filter.find(".input-group").append(n)}this.$ul.prepend(this.$filter),this.$filter.val(this.query).on("click",function(e){e.stopPropagation()}).on("input keydown",e.proxy(function(t){13===t.which&&t.preventDefault(),clearTimeout(this.searchTimeout),this.searchTimeout=this.asyncFunction(e.proxy(function(){if(this.query!==t.target.value){this.query=t.target.value;var n,i;e.each(e("li",this.$ul),e.proxy(function(t,o){var r=e("input",o).length>0?e("input",o).val():"",s=e("label",o).text(),a="";if("text"===this.options.filterBehavior?a=s:"value"===this.options.filterBehavior?a=r:"both"===this.options.filterBehavior&&(a=s+"\n"+r),r!==this.options.selectAllValue&&s){var l=!1;this.options.enableCaseInsensitiveFiltering&&a.toLowerCase().indexOf(this.query.toLowerCase())>-1?l=!0:a.indexOf(this.query)>-1&&(l=!0),e(o).toggle(l).toggleClass("filter-hidden",!l),e(o).hasClass("multiselect-group")?(n=o,i=l):(l&&e(n).show().removeClass("filter-hidden"),!l&&i&&e(o).show().removeClass("filter-hidden"))}},this))}this.updateSelectAll()},this),300,this)},this))}}},destroy:function(){this.$container.remove(),this.$select.show(),this.$select.data("multiselect",null)},refresh:function(){e("option",this.$select).each(e.proxy(function(t,n){var i=e("li input",this.$ul).filter(function(){return e(this).val()===e(n).val()});e(n).is(":selected")?(i.prop("checked",!0),this.options.selectedClass&&i.closest("li").addClass(this.options.selectedClass)):(i.prop("checked",!1),this.options.selectedClass&&i.closest("li").removeClass(this.options.selectedClass)),e(n).is(":disabled")?i.attr("disabled","disabled").prop("disabled",!0).closest("li").addClass("disabled"):i.prop("disabled",!1).closest("li").removeClass("disabled")},this)),this.updateButtonText(),this.updateSelectAll()},select:function(t,n){e.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var o=t[i];if(null!==o&&void 0!==o){var r=this.getOptionByValue(o),s=this.getInputByValue(o);void 0!==r&&void 0!==s&&(this.options.multiple||this.deselectAll(!1),this.options.selectedClass&&s.closest("li").addClass(this.options.selectedClass),s.prop("checked",!0),r.prop("selected",!0))}}this.updateButtonText(),this.updateSelectAll(),n&&1===t.length&&this.options.onChange(r,!0)},clearSelection:function(){this.deselectAll(!1),this.updateButtonText(),this.updateSelectAll()},deselect:function(t,n){e.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var o=t[i];if(null!==o&&void 0!==o){var r=this.getOptionByValue(o),s=this.getInputByValue(o);void 0!==r&&void 0!==s&&(this.options.selectedClass&&s.closest("li").removeClass(this.options.selectedClass),s.prop("checked",!1),r.prop("selected",!1))}}this.updateButtonText(),this.updateSelectAll(),n&&1===t.length&&this.options.onChange(r,!1)},selectAll:function(t,n){var t="undefined"==typeof t?!0:t,i=e("li input[type='checkbox']:enabled",this.$ul),o=i.filter(":visible"),r=i.length,s=o.length;if(t?(o.prop("checked",!0),e("li:not(.divider):not(.disabled)",this.$ul).filter(":visible").addClass(this.options.selectedClass)):(i.prop("checked",!0),e("li:not(.divider):not(.disabled)",this.$ul).addClass(this.options.selectedClass)),r===s||t===!1)e("option:enabled",this.$select).prop("selected",!0);else{var a=o.map(function(){return e(this).val()}).get();e("option:enabled",this.$select).filter(function(){return-1!==e.inArray(e(this).val(),a)}).prop("selected",!0)}n&&this.options.onSelectAll()},deselectAll:function(t){var t="undefined"==typeof t?!0:t;if(t){var n=e("li input[type='checkbox']:enabled",this.$ul).filter(":visible");n.prop("checked",!1);var i=n.map(function(){return e(this).val()}).get();e("option:enabled",this.$select).filter(function(){return-1!==e.inArray(e(this).val(),i)}).prop("selected",!1),this.options.selectedClass&&e("li:not(.divider):not(.disabled)",this.$ul).filter(":visible").removeClass(this.options.selectedClass)}else e("li input[type='checkbox']:enabled",this.$ul).prop("checked",!1),e("option:enabled",this.$select).prop("selected",!1),this.options.selectedClass&&e("li:not(.divider):not(.disabled)",this.$ul).removeClass(this.options.selectedClass)},rebuild:function(){this.$ul.html(""),this.options.multiple="multiple"===this.$select.attr("multiple"),this.buildSelectAll(),this.buildDropdownOptions(),this.buildFilter(),this.updateButtonText(),this.updateSelectAll(),this.options.disableIfEmpty&&e("option",this.$select).length<=0&&this.disable(),this.options.dropRight&&this.$ul.addClass("pull-right")},dataprovider:function(n){var i=0,o=this.$select.empty();e.each(n,function(n,r){var s;e.isArray(r.children)?(i++,s=e("<optgroup/>").attr({label:r.label||"Group "+i,disabled:!!r.disabled}),t(r.children,function(t){s.append(e("<option/>").attr({value:t.value,label:t.label||t.value,title:t.title,selected:!!t.selected,disabled:!!t.disabled}))})):s=e("<option/>").attr({value:r.value,label:r.label||r.value,title:r.title,selected:!!r.selected,disabled:!!r.disabled}),o.append(s)}),this.rebuild()},enable:function(){this.$select.prop("disabled",!1),this.$button.prop("disabled",!1).removeClass("disabled")},disable:function(){this.$select.prop("disabled",!0),this.$button.prop("disabled",!0).addClass("disabled")},setOptions:function(e){this.options=this.mergeOptions(e)},mergeOptions:function(t){return e.extend(!0,{},this.defaults,this.options,t)},hasSelectAll:function(){return e("li."+this.options.selectAllValue,this.$ul).length>0},updateSelectAll:function(){if(this.hasSelectAll()){var t=e("li:not(.multiselect-item):not(.filter-hidden) input:enabled",this.$ul),n=t.length,i=t.filter(":checked").length,o=e("li."+this.options.selectAllValue,this.$ul),r=o.find("input");i>0&&i===n?(r.prop("checked",!0),o.addClass(this.options.selectedClass),this.options.onSelectAll()):(r.prop("checked",!1),o.removeClass(this.options.selectedClass))}},updateButtonText:function(){var t=this.getSelected();e(".multiselect .multiselect-selected-text",this.$container).text(this.options.buttonText(t,this.$select)),e(".multiselect",this.$container).attr("title",this.options.buttonTitle(t,this.$select))},getSelected:function(){return e("option",this.$select).filter(":selected")},getOptionByValue:function(t){for(var n=e("option",this.$select),i=t.toString(),o=0;o<n.length;o+=1){var r=n[o];if(r.value===i)return e(r)}},getInputByValue:function(t){for(var n=e("li input",this.$ul),i=t.toString(),o=0;o<n.length;o+=1){var r=n[o];if(r.value===i)return e(r)}},updateOriginalOptions:function(){this.originalOptions=this.$select.clone()[0].options},asyncFunction:function(e,t,n){var i=Array.prototype.slice.call(arguments,3);return setTimeout(function(){e.apply(n||window,i)},t)},setAllSelectedText:function(e){this.options.allSelectedText=e,this.updateButtonText()}},e.fn.multiselect=function(t,i,o){return this.each(function(){var r=e(this).data("multiselect"),s="object"==typeof t&&t;r||(r=new n(this,s),e(this).data("multiselect",r)),"string"==typeof t&&(r[t](i,o),"destroy"===t&&e(this).data("multiselect",!1))})},e.fn.multiselect.Constructor=n,e(function(){e("select[data-role=multiselect]").multiselect()})}(window.jQuery),function(){var e,t,n,i,o,r,s,a,l=[].slice,u={}.hasOwnProperty,c=function(e,t){function n(){this.constructor=e}for(var i in t)u.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};s=function(){},t=function(){function e(){}return e.prototype.addEventListener=e.prototype.on,e.prototype.on=function(e,t){return this._callbacks=this._callbacks||{},this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t),this},e.prototype.emit=function(){var e,t,n,i,o,r;if(i=arguments[0],e=2<=arguments.length?l.call(arguments,1):[],this._callbacks=this._callbacks||{},n=this._callbacks[i])for(o=0,r=n.length;r>o;o++)t=n[o],t.apply(this,e);return this},e.prototype.removeListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.off=function(e,t){var n,i,o,r,s;if(!this._callbacks||0===arguments.length)return this._callbacks={},this;if(i=this._callbacks[e],!i)return this;if(1===arguments.length)return delete this._callbacks[e],this;for(o=r=0,s=i.length;s>r;o=++r)if(n=i[o],n===t){i.splice(o,1);break}return this},e}(),e=function(e){function n(e,t){var o,r,s;if(this.element=e,this.version=n.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");if(n.instances.push(this),this.element.dropzone=this,o=null!=(s=n.optionsForElement(this.element))?s:{},this.options=i({},this.defaultOptions,o,null!=t?t:{}),this.options.forceFallback||!n.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.method=this.options.method.toUpperCase(),(r=this.getExistingFallback())&&r.parentNode&&r.parentNode.removeChild(r),this.options.previewsContainer!==!1&&(this.previewsContainer=this.options.previewsContainer?n.getElement(this.options.previewsContainer,"previewsContainer"):this.element),this.options.clickable&&(this.clickableElements=this.options.clickable===!0?[this.element]:n.getElements(this.options.clickable,"clickable")),this.init()}var i,o;return c(n,e),n.prototype.Emitter=t,n.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],n.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,filesizeBase:1e3,maxFiles:null,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(e,t){return t()},init:function(){return s},forceFallback:!1,fallback:function(){var e,t,i,o,r,s;for(this.element.className=""+this.element.className+" dz-browser-not-supported",s=this.element.getElementsByTagName("div"),o=0,r=s.length;r>o;o++)e=s[o],/(^| )dz-message($| )/.test(e.className)&&(t=e,e.className="dz-message");return t||(t=n.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(t)),i=t.getElementsByTagName("span")[0],i&&(null!=i.textContent?i.textContent=this.options.dictFallbackMessage:null!=i.innerText&&(i.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())
},resize:function(e){var t,n,i;return t={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height},n=e.width/e.height,t.optWidth=this.options.thumbnailWidth,t.optHeight=this.options.thumbnailHeight,null==t.optWidth&&null==t.optHeight?(t.optWidth=t.srcWidth,t.optHeight=t.srcHeight):null==t.optWidth?t.optWidth=n*t.optHeight:null==t.optHeight&&(t.optHeight=1/n*t.optWidth),i=t.optWidth/t.optHeight,e.height<t.optHeight||e.width<t.optWidth?(t.trgHeight=t.srcHeight,t.trgWidth=t.srcWidth):n>i?(t.srcHeight=e.height,t.srcWidth=t.srcHeight*i):(t.srcWidth=e.width,t.srcHeight=t.srcWidth/i),t.srcX=(e.width-t.srcWidth)/2,t.srcY=(e.height-t.srcHeight)/2,t},drop:function(){return this.element.classList.remove("dz-drag-hover")},dragstart:s,dragend:function(){return this.element.classList.remove("dz-drag-hover")},dragenter:function(){return this.element.classList.add("dz-drag-hover")},dragover:function(){return this.element.classList.add("dz-drag-hover")},dragleave:function(){return this.element.classList.remove("dz-drag-hover")},paste:s,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(e){var t,i,o,r,s,a,l,u,c,d,h,p,f;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){for(e.previewElement=n.createElement(this.options.previewTemplate.trim()),e.previewTemplate=e.previewElement,this.previewsContainer.appendChild(e.previewElement),d=e.previewElement.querySelectorAll("[data-dz-name]"),r=0,l=d.length;l>r;r++)t=d[r],t.textContent=this._renameFilename(e.name);for(h=e.previewElement.querySelectorAll("[data-dz-size]"),s=0,u=h.length;u>s;s++)t=h[s],t.innerHTML=this.filesize(e.size);for(this.options.addRemoveLinks&&(e._removeLink=n.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),e.previewElement.appendChild(e._removeLink)),i=function(t){return function(i){return i.preventDefault(),i.stopPropagation(),e.status===n.UPLOADING?n.confirm(t.options.dictCancelUploadConfirmation,function(){return t.removeFile(e)}):t.options.dictRemoveFileConfirmation?n.confirm(t.options.dictRemoveFileConfirmation,function(){return t.removeFile(e)}):t.removeFile(e)}}(this),p=e.previewElement.querySelectorAll("[data-dz-remove]"),f=[],a=0,c=p.length;c>a;a++)o=p[a],f.push(o.addEventListener("click",i));return f}},removedfile:function(e){var t;return e.previewElement&&null!=(t=e.previewElement)&&t.parentNode.removeChild(e.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(e,t){var n,i,o,r;if(e.previewElement){for(e.previewElement.classList.remove("dz-file-preview"),r=e.previewElement.querySelectorAll("[data-dz-thumbnail]"),i=0,o=r.length;o>i;i++)n=r[i],n.alt=e.name,n.src=t;return setTimeout(function(){return function(){return e.previewElement.classList.add("dz-image-preview")}}(this),1)}},error:function(e,t){var n,i,o,r,s;if(e.previewElement){for(e.previewElement.classList.add("dz-error"),"String"!=typeof t&&t.error&&(t=t.error),r=e.previewElement.querySelectorAll("[data-dz-errormessage]"),s=[],i=0,o=r.length;o>i;i++)n=r[i],s.push(n.textContent=t);return s}},errormultiple:s,processing:function(e){return e.previewElement&&(e.previewElement.classList.add("dz-processing"),e._removeLink)?e._removeLink.textContent=this.options.dictCancelUpload:void 0},processingmultiple:s,uploadprogress:function(e,t){var n,i,o,r,s;if(e.previewElement){for(r=e.previewElement.querySelectorAll("[data-dz-uploadprogress]"),s=[],i=0,o=r.length;o>i;i++)n=r[i],s.push("PROGRESS"===n.nodeName?n.value=t:n.style.width=""+t+"%");return s}},totaluploadprogress:s,sending:s,sendingmultiple:s,success:function(e){return e.previewElement?e.previewElement.classList.add("dz-success"):void 0},successmultiple:s,canceled:function(e){return this.emit("error",e,"Upload canceled.")},canceledmultiple:s,complete:function(e){return e._removeLink&&(e._removeLink.textContent=this.options.dictRemoveFile),e.previewElement?e.previewElement.classList.add("dz-complete"):void 0},completemultiple:s,maxfilesexceeded:s,maxfilesreached:s,queuecomplete:s,addedfiles:s,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>'},i=function(){var e,t,n,i,o,r,s;for(i=arguments[0],n=2<=arguments.length?l.call(arguments,1):[],r=0,s=n.length;s>r;r++){t=n[r];for(e in t)o=t[e],i[e]=o}return i},n.prototype.getAcceptedFiles=function(){var e,t,n,i,o;for(i=this.files,o=[],t=0,n=i.length;n>t;t++)e=i[t],e.accepted&&o.push(e);return o},n.prototype.getRejectedFiles=function(){var e,t,n,i,o;for(i=this.files,o=[],t=0,n=i.length;n>t;t++)e=i[t],e.accepted||o.push(e);return o},n.prototype.getFilesWithStatus=function(e){var t,n,i,o,r;for(o=this.files,r=[],n=0,i=o.length;i>n;n++)t=o[n],t.status===e&&r.push(t);return r},n.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(n.QUEUED)},n.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(n.UPLOADING)},n.prototype.getAddedFiles=function(){return this.getFilesWithStatus(n.ADDED)},n.prototype.getActiveFiles=function(){var e,t,i,o,r;for(o=this.files,r=[],t=0,i=o.length;i>t;t++)e=o[t],(e.status===n.UPLOADING||e.status===n.QUEUED)&&r.push(e);return r},n.prototype.init=function(){var e,t,i,o,r,s,a;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(n.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(i=function(e){return function(){return e.hiddenFileInput&&e.hiddenFileInput.parentNode.removeChild(e.hiddenFileInput),e.hiddenFileInput=document.createElement("input"),e.hiddenFileInput.setAttribute("type","file"),(null==e.options.maxFiles||e.options.maxFiles>1)&&e.hiddenFileInput.setAttribute("multiple","multiple"),e.hiddenFileInput.className="dz-hidden-input",null!=e.options.acceptedFiles&&e.hiddenFileInput.setAttribute("accept",e.options.acceptedFiles),null!=e.options.capture&&e.hiddenFileInput.setAttribute("capture",e.options.capture),e.hiddenFileInput.style.visibility="hidden",e.hiddenFileInput.style.position="absolute",e.hiddenFileInput.style.top="0",e.hiddenFileInput.style.left="0",e.hiddenFileInput.style.height="0",e.hiddenFileInput.style.width="0",document.querySelector(e.options.hiddenInputContainer).appendChild(e.hiddenFileInput),e.hiddenFileInput.addEventListener("change",function(){var t,n,o,r;if(n=e.hiddenFileInput.files,n.length)for(o=0,r=n.length;r>o;o++)t=n[o],e.addFile(t);return e.emit("addedfiles",n),i()})}}(this))(),this.URL=null!=(s=window.URL)?s:window.webkitURL,a=this.events,o=0,r=a.length;r>o;o++)e=a[o],this.on(e,this.options[e]);return this.on("uploadprogress",function(e){return function(){return e.updateTotalUploadProgress()}}(this)),this.on("removedfile",function(e){return function(){return e.updateTotalUploadProgress()}}(this)),this.on("canceled",function(e){return function(t){return e.emit("complete",t)}}(this)),this.on("complete",function(e){return function(){return 0===e.getAddedFiles().length&&0===e.getUploadingFiles().length&&0===e.getQueuedFiles().length?setTimeout(function(){return e.emit("queuecomplete")},0):void 0}}(this)),t=function(e){return e.stopPropagation(),e.preventDefault?e.preventDefault():e.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(e){return function(t){return e.emit("dragstart",t)}}(this),dragenter:function(e){return function(n){return t(n),e.emit("dragenter",n)}}(this),dragover:function(e){return function(n){var i;try{i=n.dataTransfer.effectAllowed}catch(o){}return n.dataTransfer.dropEffect="move"===i||"linkMove"===i?"move":"copy",t(n),e.emit("dragover",n)}}(this),dragleave:function(e){return function(t){return e.emit("dragleave",t)}}(this),drop:function(e){return function(n){return t(n),e.drop(n)}}(this),dragend:function(e){return function(t){return e.emit("dragend",t)}}(this)}}],this.clickableElements.forEach(function(e){return function(t){return e.listeners.push({element:t,events:{click:function(i){return(t!==e.element||i.target===e.element||n.elementInside(i.target,e.element.querySelector(".dz-message")))&&e.hiddenFileInput.click(),!0}}})}}(this)),this.enable(),this.options.init.call(this)},n.prototype.destroy=function(){var e;return this.disable(),this.removeAllFiles(!0),(null!=(e=this.hiddenFileInput)?e.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,n.instances.splice(n.instances.indexOf(this),1)},n.prototype.updateTotalUploadProgress=function(){var e,t,n,i,o,r,s,a;if(i=0,n=0,e=this.getActiveFiles(),e.length){for(a=this.getActiveFiles(),r=0,s=a.length;s>r;r++)t=a[r],i+=t.upload.bytesSent,n+=t.upload.total;o=100*i/n}else o=100;return this.emit("totaluploadprogress",o,n,i)},n.prototype._getParamName=function(e){return"function"==typeof this.options.paramName?this.options.paramName(e):""+this.options.paramName+(this.options.uploadMultiple?"["+e+"]":"")},n.prototype._renameFilename=function(e){return"function"!=typeof this.options.renameFilename?e:this.options.renameFilename(e)},n.prototype.getFallbackForm=function(){var e,t,i,o;return(e=this.getExistingFallback())?e:(i='<div class="dz-fallback">',this.options.dictFallbackText&&(i+="<p>"+this.options.dictFallbackText+"</p>"),i+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>',t=n.createElement(i),"FORM"!==this.element.tagName?(o=n.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>'),o.appendChild(t)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=o?o:t)},n.prototype.getExistingFallback=function(){var e,t,n,i,o,r;for(t=function(e){var t,n,i;for(n=0,i=e.length;i>n;n++)if(t=e[n],/(^| )fallback($| )/.test(t.className))return t},r=["div","form"],i=0,o=r.length;o>i;i++)if(n=r[i],e=t(this.element.getElementsByTagName(n)))return e},n.prototype.setupEventListeners=function(){var e,t,n,i,o,r,s;for(r=this.listeners,s=[],i=0,o=r.length;o>i;i++)e=r[i],s.push(function(){var i,o;i=e.events,o=[];for(t in i)n=i[t],o.push(e.element.addEventListener(t,n,!1));return o}());return s},n.prototype.removeEventListeners=function(){var e,t,n,i,o,r,s;for(r=this.listeners,s=[],i=0,o=r.length;o>i;i++)e=r[i],s.push(function(){var i,o;i=e.events,o=[];for(t in i)n=i[t],o.push(e.element.removeEventListener(t,n,!1));return o}());return s},n.prototype.disable=function(){var e,t,n,i,o;for(this.clickableElements.forEach(function(e){return e.classList.remove("dz-clickable")}),this.removeEventListeners(),i=this.files,o=[],t=0,n=i.length;n>t;t++)e=i[t],o.push(this.cancelUpload(e));return o},n.prototype.enable=function(){return this.clickableElements.forEach(function(e){return e.classList.add("dz-clickable")}),this.setupEventListeners()},n.prototype.filesize=function(e){var t,n,i,o,r,s,a,l;if(i=0,o="b",e>0){for(s=["TB","GB","MB","KB","b"],n=a=0,l=s.length;l>a;n=++a)if(r=s[n],t=Math.pow(this.options.filesizeBase,4-n)/10,e>=t){i=e/Math.pow(this.options.filesizeBase,4-n),o=r;break}i=Math.round(10*i)/10}return"<strong>"+i+"</strong> "+o},n.prototype._updateMaxFilesReachedClass=function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")},n.prototype.drop=function(e){var t,n;e.dataTransfer&&(this.emit("drop",e),t=e.dataTransfer.files,this.emit("addedfiles",t),t.length&&(n=e.dataTransfer.items,n&&n.length&&null!=n[0].webkitGetAsEntry?this._addFilesFromItems(n):this.handleFiles(t)))},n.prototype.paste=function(e){var t,n;return null!=(null!=e&&null!=(n=e.clipboardData)?n.items:void 0)?(this.emit("paste",e),t=e.clipboardData.items,t.length?this._addFilesFromItems(t):void 0):void 0},n.prototype.handleFiles=function(e){var t,n,i,o;for(o=[],n=0,i=e.length;i>n;n++)t=e[n],o.push(this.addFile(t));return o},n.prototype._addFilesFromItems=function(e){var t,n,i,o,r;for(r=[],i=0,o=e.length;o>i;i++)n=e[i],r.push(null!=n.webkitGetAsEntry&&(t=n.webkitGetAsEntry())?t.isFile?this.addFile(n.getAsFile()):t.isDirectory?this._addFilesFromDirectory(t,t.name):void 0:null!=n.getAsFile&&(null==n.kind||"file"===n.kind)?this.addFile(n.getAsFile()):void 0);return r},n.prototype._addFilesFromDirectory=function(e,t){var n,i,o;return n=e.createReader(),i=function(e){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log(e):void 0},(o=function(e){return function(){return n.readEntries(function(n){var i,r,s;if(n.length>0){for(r=0,s=n.length;s>r;r++)i=n[r],i.isFile?i.file(function(n){return e.options.ignoreHiddenFiles&&"."===n.name.substring(0,1)?void 0:(n.fullPath=""+t+"/"+n.name,e.addFile(n))}):i.isDirectory&&e._addFilesFromDirectory(i,""+t+"/"+i.name);o()}return null},i)}}(this))()},n.prototype.accept=function(e,t){return e.size>1024*this.options.maxFilesize*1024?t(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):n.isValidFile(e,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(t(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",e)):this.options.accept.call(this,e,t):t(this.options.dictInvalidFileType)},n.prototype.addFile=function(e){return e.upload={progress:0,total:e.size,bytesSent:0},this.files.push(e),e.status=n.ADDED,this.emit("addedfile",e),this._enqueueThumbnail(e),this.accept(e,function(t){return function(n){return n?(e.accepted=!1,t._errorProcessing([e],n)):(e.accepted=!0,t.options.autoQueue&&t.enqueueFile(e)),t._updateMaxFilesReachedClass()}}(this))},n.prototype.enqueueFiles=function(e){var t,n,i;for(n=0,i=e.length;i>n;n++)t=e[n],this.enqueueFile(t);return null},n.prototype.enqueueFile=function(e){if(e.status!==n.ADDED||e.accepted!==!0)throw new Error("This file can't be queued because it has already been processed or was rejected.");return e.status=n.QUEUED,this.options.autoProcessQueue?setTimeout(function(e){return function(){return e.processQueue()}}(this),0):void 0},n.prototype._thumbnailQueue=[],n.prototype._processingThumbnail=!1,n.prototype._enqueueThumbnail=function(e){return this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=1024*this.options.maxThumbnailFilesize*1024?(this._thumbnailQueue.push(e),setTimeout(function(e){return function(){return e._processThumbnailQueue()}}(this),0)):void 0},n.prototype._processThumbnailQueue=function(){return this._processingThumbnail||0===this._thumbnailQueue.length?void 0:(this._processingThumbnail=!0,this.createThumbnail(this._thumbnailQueue.shift(),function(e){return function(){return e._processingThumbnail=!1,e._processThumbnailQueue()}}(this)))},n.prototype.removeFile=function(e){return e.status===n.UPLOADING&&this.cancelUpload(e),this.files=a(this.files,e),this.emit("removedfile",e),0===this.files.length?this.emit("reset"):void 0},n.prototype.removeAllFiles=function(e){var t,i,o,r;for(null==e&&(e=!1),r=this.files.slice(),i=0,o=r.length;o>i;i++)t=r[i],(t.status!==n.UPLOADING||e)&&this.removeFile(t);return null},n.prototype.createThumbnail=function(e,t){var n;return n=new FileReader,n.onload=function(i){return function(){return"image/svg+xml"===e.type?(i.emit("thumbnail",e,n.result),void(null!=t&&t())):i.createThumbnailFromUrl(e,n.result,t)}}(this),n.readAsDataURL(e)},n.prototype.createThumbnailFromUrl=function(e,t,n,i){var o;return o=document.createElement("img"),i&&(o.crossOrigin=i),o.onload=function(t){return function(){var i,s,a,l,u,c,d,h;return e.width=o.width,e.height=o.height,a=t.options.resize.call(t,e),null==a.trgWidth&&(a.trgWidth=a.optWidth),null==a.trgHeight&&(a.trgHeight=a.optHeight),i=document.createElement("canvas"),s=i.getContext("2d"),i.width=a.trgWidth,i.height=a.trgHeight,r(s,o,null!=(u=a.srcX)?u:0,null!=(c=a.srcY)?c:0,a.srcWidth,a.srcHeight,null!=(d=a.trgX)?d:0,null!=(h=a.trgY)?h:0,a.trgWidth,a.trgHeight),l=i.toDataURL("image/png"),t.emit("thumbnail",e,l),null!=n?n():void 0}}(this),null!=n&&(o.onerror=n),o.src=t},n.prototype.processQueue=function(){var e,t,n,i;if(t=this.options.parallelUploads,n=this.getUploadingFiles().length,e=n,!(n>=t)&&(i=this.getQueuedFiles(),i.length>0)){if(this.options.uploadMultiple)return this.processFiles(i.slice(0,t-n));for(;t>e;){if(!i.length)return;this.processFile(i.shift()),e++}}},n.prototype.processFile=function(e){return this.processFiles([e])},n.prototype.processFiles=function(e){var t,i,o;for(i=0,o=e.length;o>i;i++)t=e[i],t.processing=!0,t.status=n.UPLOADING,this.emit("processing",t);return this.options.uploadMultiple&&this.emit("processingmultiple",e),this.uploadFiles(e)},n.prototype._getFilesWithXhr=function(e){var t,n;return n=function(){var n,i,o,r;for(o=this.files,r=[],n=0,i=o.length;i>n;n++)t=o[n],t.xhr===e&&r.push(t);return r}.call(this)},n.prototype.cancelUpload=function(e){var t,i,o,r,s,a,l;if(e.status===n.UPLOADING){for(i=this._getFilesWithXhr(e.xhr),o=0,s=i.length;s>o;o++)t=i[o],t.status=n.CANCELED;for(e.xhr.abort(),r=0,a=i.length;a>r;r++)t=i[r],this.emit("canceled",t);this.options.uploadMultiple&&this.emit("canceledmultiple",i)}else((l=e.status)===n.ADDED||l===n.QUEUED)&&(e.status=n.CANCELED,this.emit("canceled",e),this.options.uploadMultiple&&this.emit("canceledmultiple",[e]));return this.options.autoProcessQueue?this.processQueue():void 0},o=function(){var e,t;return t=arguments[0],e=2<=arguments.length?l.call(arguments,1):[],"function"==typeof t?t.apply(this,e):t},n.prototype.uploadFile=function(e){return this.uploadFiles([e])},n.prototype.uploadFiles=function(e){var t,r,s,a,l,u,c,d,h,p,f,m,g,v,y,b,w,C,k,x,D,_,S,T,E,A,M,N,F,O,I,$,P,R;for(k=new XMLHttpRequest,x=0,T=e.length;T>x;x++)t=e[x],t.xhr=k;m=o(this.options.method,e),w=o(this.options.url,e),k.open(m,w,!0),k.withCredentials=!!this.options.withCredentials,y=null,s=function(n){return function(){var i,o,r;for(r=[],i=0,o=e.length;o>i;i++)t=e[i],r.push(n._errorProcessing(e,y||n.options.dictResponseError.replace("{{statusCode}}",k.status),k));return r}}(this),b=function(n){return function(i){var o,r,s,a,l,u,c,d,h;if(null!=i)for(r=100*i.loaded/i.total,s=0,u=e.length;u>s;s++)t=e[s],t.upload={progress:r,total:i.total,bytesSent:i.loaded};else{for(o=!0,r=100,a=0,c=e.length;c>a;a++)t=e[a],(100!==t.upload.progress||t.upload.bytesSent!==t.upload.total)&&(o=!1),t.upload.progress=r,t.upload.bytesSent=t.upload.total;if(o)return}for(h=[],l=0,d=e.length;d>l;l++)t=e[l],h.push(n.emit("uploadprogress",t,r,t.upload.bytesSent));return h}}(this),k.onload=function(t){return function(i){var o;if(e[0].status!==n.CANCELED&&4===k.readyState){if(y=k.responseText,k.getResponseHeader("content-type")&&~k.getResponseHeader("content-type").indexOf("application/json"))try{y=JSON.parse(y)}catch(r){i=r,y="Invalid JSON response from server."}return b(),200<=(o=k.status)&&300>o?t._finished(e,y,i):s()}}}(this),k.onerror=function(){return function(){return e[0].status!==n.CANCELED?s():void 0}}(this),v=null!=(F=k.upload)?F:k,v.onprogress=b,u={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&i(u,this.options.headers);for(a in u)l=u[a],l&&k.setRequestHeader(a,l);if(r=new FormData,this.options.params){O=this.options.params;for(f in O)C=O[f],r.append(f,C)}for(D=0,E=e.length;E>D;D++)t=e[D],this.emit("sending",t,k,r);if(this.options.uploadMultiple&&this.emit("sendingmultiple",e,k,r),"FORM"===this.element.tagName)for(I=this.element.querySelectorAll("input, textarea, select, button"),_=0,A=I.length;A>_;_++)if(d=I[_],h=d.getAttribute("name"),p=d.getAttribute("type"),"SELECT"===d.tagName&&d.hasAttribute("multiple"))for($=d.options,S=0,M=$.length;M>S;S++)g=$[S],g.selected&&r.append(h,g.value);else(!p||"checkbox"!==(P=p.toLowerCase())&&"radio"!==P||d.checked)&&r.append(h,d.value);for(c=N=0,R=e.length-1;R>=0?R>=N:N>=R;c=R>=0?++N:--N)r.append(this._getParamName(c),e[c],this._renameFilename(e[c].name));return this.submitRequest(k,r,e)},n.prototype.submitRequest=function(e,t){return e.send(t)},n.prototype._finished=function(e,t,i){var o,r,s;for(r=0,s=e.length;s>r;r++)o=e[r],o.status=n.SUCCESS,this.emit("success",o,t,i),this.emit("complete",o);return this.options.uploadMultiple&&(this.emit("successmultiple",e,t,i),this.emit("completemultiple",e)),this.options.autoProcessQueue?this.processQueue():void 0},n.prototype._errorProcessing=function(e,t,i){var o,r,s;for(r=0,s=e.length;s>r;r++)o=e[r],o.status=n.ERROR,this.emit("error",o,t,i),this.emit("complete",o);return this.options.uploadMultiple&&(this.emit("errormultiple",e,t,i),this.emit("completemultiple",e)),this.options.autoProcessQueue?this.processQueue():void 0},n}(t),e.version="4.3.0",e.options={},e.optionsForElement=function(t){return t.getAttribute("id")?e.options[n(t.getAttribute("id"))]:void 0},e.instances=[],e.forElement=function(e){if("string"==typeof e&&(e=document.querySelector(e)),null==(null!=e?e.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return e.dropzone},e.autoDiscover=!0,e.discover=function(){var t,n,i,o,r,s;for(document.querySelectorAll?i=document.querySelectorAll(".dropzone"):(i=[],t=function(e){var t,n,o,r;for(r=[],n=0,o=e.length;o>n;n++)t=e[n],r.push(/(^| )dropzone($| )/.test(t.className)?i.push(t):void 0);return r},t(document.getElementsByTagName("div")),t(document.getElementsByTagName("form"))),s=[],o=0,r=i.length;r>o;o++)n=i[o],s.push(e.optionsForElement(n)!==!1?new e(n):void 0);return s},e.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],e.isBrowserSupported=function(){var t,n,i,o,r;if(t=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(r=e.blacklistedBrowsers,i=0,o=r.length;o>i;i++)n=r[i],n.test(navigator.userAgent)&&(t=!1);else t=!1;else t=!1;return t},a=function(e,t){var n,i,o,r;for(r=[],i=0,o=e.length;o>i;i++)n=e[i],n!==t&&r.push(n);return r},n=function(e){return e.replace(/[\-_](\w)/g,function(e){return e.charAt(1).toUpperCase()})},e.createElement=function(e){var t;return t=document.createElement("div"),t.innerHTML=e,t.childNodes[0]},e.elementInside=function(e,t){if(e===t)return!0;for(;e=e.parentNode;)if(e===t)return!0;return!1},e.getElement=function(e,t){var n;if("string"==typeof e?n=document.querySelector(e):null!=e.nodeType&&(n=e),null==n)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector or a plain HTML element.");return n},e.getElements=function(e,t){var n,i,o,r,s,a,l,u;if(e instanceof Array){o=[];try{for(r=0,a=e.length;a>r;r++)i=e[r],o.push(this.getElement(i,t))}catch(c){n=c,o=null}}else if("string"==typeof e)for(o=[],u=document.querySelectorAll(e),s=0,l=u.length;l>s;s++)i=u[s],o.push(i);else null!=e.nodeType&&(o=[e]);if(null==o||!o.length)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return o},e.confirm=function(e,t,n){return window.confirm(e)?t():null!=n?n():void 0},e.isValidFile=function(e,t){var n,i,o,r,s;if(!t)return!0;for(t=t.split(","),i=e.type,n=i.replace(/\/.*$/,""),r=0,s=t.length;s>r;r++)if(o=t[r],o=o.trim(),"."===o.charAt(0)){if(-1!==e.name.toLowerCase().indexOf(o.toLowerCase(),e.name.length-o.length))return!0}else if(/\/\*$/.test(o)){if(n===o.replace(/\/.*$/,""))return!0}else if(i===o)return!0;return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(t){return this.each(function(){return new e(this,t)})}),"undefined"!=typeof module&&null!==module?module.exports=e:window.Dropzone=e,e.ADDED="added",e.QUEUED="queued",e.ACCEPTED=e.QUEUED,e.UPLOADING="uploading",e.PROCESSING=e.UPLOADING,e.CANCELED="canceled",e.ERROR="error",e.SUCCESS="success",o=function(e){var t,n,i,o,r,s,a,l,u,c;for(a=e.naturalWidth,s=e.naturalHeight,n=document.createElement("canvas"),n.width=1,n.height=s,i=n.getContext("2d"),i.drawImage(e,0,0),o=i.getImageData(0,0,1,s).data,c=0,r=s,l=s;l>c;)t=o[4*(l-1)+3],0===t?r=l:c=l,l=r+c>>1;return u=l/s,0===u?1:u},r=function(e,t,n,i,r,s,a,l,u,c){var d;return d=o(t),e.drawImage(t,n,i,r,s,a,l,u,c/d)},i=function(e,t){var n,i,o,r,s,a,l,u,c;if(o=!1,c=!0,i=e.document,u=i.documentElement,n=i.addEventListener?"addEventListener":"attachEvent",l=i.addEventListener?"removeEventListener":"detachEvent",a=i.addEventListener?"":"on",r=function(n){return"readystatechange"!==n.type||"complete"===i.readyState?(("load"===n.type?e:i)[l](a+n.type,r,!1),!o&&(o=!0)?t.call(e,n.type||n):void 0):void 0},s=function(){var e;try{u.doScroll("left")}catch(t){return e=t,void setTimeout(s,50)}return r("poll")},"complete"!==i.readyState){if(i.createEventObject&&u.doScroll){try{c=!e.frameElement}catch(d){}c&&s()}return i[n](a+"DOMContentLoaded",r,!1),i[n](a+"readystatechange",r,!1),e[n](a+"load",r,!1)}},e._autoDiscoverFunction=function(){return e.autoDiscover?e.discover():void 0},i(window,e._autoDiscoverFunction)}.call(this),!function(){var e=!0;!function(t){var n=this||(0,eval)("this"),i=n.document,o=n.navigator,r=n.jQuery,s=n.JSON;!function(e){if("function"==typeof require&&"object"==typeof exports&&"object"==typeof module){var t=module.exports||exports;e(t,require)}else"function"==typeof define&&define.amd?define(["exports","require"],e):e(n.ko={})}(function(a,l){function u(e,t){var n=null===e||typeof e in g;return n?e===t:!1}function c(e,n){var i;return function(){i||(i=setTimeout(function(){i=t,e()},n))}}function d(e,t){var n;return function(){clearTimeout(n),n=setTimeout(e,t)}}function h(e){var t=this;return e&&m.utils.objectForEach(e,function(e,n){var i=m.extenders[e];"function"==typeof i&&(t=i(t,n)||t)}),t}function p(e){m.bindingHandlers[e]={init:function(t,n,i,o,r){var s=function(){var t={};return t[e]=n(),t};return m.bindingHandlers.event.init.call(this,t,s,i,o,r)}}}function f(e,t,n,i){m.bindingHandlers[e]={init:function(e,o,r,s,a){var l,u;return m.computed(function(){var r=m.utils.unwrapObservable(o()),s=!n!=!r,c=!u,d=c||t||s!==l;d&&(c&&m.computedContext.getDependenciesCount()&&(u=m.utils.cloneNodes(m.virtualElements.childNodes(e),!0)),s?(c||m.virtualElements.setDomNodeChildren(e,m.utils.cloneNodes(u)),m.applyBindingsToDescendants(i?i(a,r):a,e)):m.virtualElements.emptyNode(e),l=s)},null,{disposeWhenNodeIsRemoved:e}),{controlsDescendantBindings:!0}}},m.expressionRewriting.bindingRewriteValidators[e]=!1,m.virtualElements.allowedBindings[e]=!0}var m="undefined"!=typeof a?a:{};m.exportSymbol=function(e,t){for(var n=e.split("."),i=m,o=0;o<n.length-1;o++)i=i[n[o]];i[n[n.length-1]]=t},m.exportProperty=function(e,t,n){e[t]=n},m.version="3.2.0",m.exportSymbol("version",m.version),m.utils=function(){function e(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}function a(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function l(e,t){return e.__proto__=t,e}function u(e,t){if("input"!==m.utils.tagNameLower(e)||!e.type)return!1;if("click"!=t.toLowerCase())return!1;var n=e.type;return"checkbox"==n||"radio"==n}var c={__proto__:[]}instanceof Array,d={},h={},p=o&&/Firefox\/2/i.test(o.userAgent)?"KeyboardEvent":"UIEvents";d[p]=["keyup","keydown","keypress"],d.MouseEvents=["click","dblclick","mousedown","mouseup","mousemove","mouseover","mouseout","mouseenter","mouseleave"],e(d,function(e,t){if(t.length)for(var n=0,i=t.length;i>n;n++)h[t[n]]=e});var f={propertychange:!0},g=i&&function(){for(var e=3,n=i.createElement("div"),o=n.getElementsByTagName("i");n.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->",o[0];);return e>4?e:t}(),v=6===g,y=7===g;return{fieldsIncludedWithJsonPost:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],arrayForEach:function(e,t){for(var n=0,i=e.length;i>n;n++)t(e[n],n)},arrayIndexOf:function(e,t){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(e,t);for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1},arrayFirst:function(e,t,n){for(var i=0,o=e.length;o>i;i++)if(t.call(n,e[i],i))return e[i];return null},arrayRemoveItem:function(e,t){var n=m.utils.arrayIndexOf(e,t);n>0?e.splice(n,1):0===n&&e.shift()},arrayGetDistinctValues:function(e){e=e||[];for(var t=[],n=0,i=e.length;i>n;n++)m.utils.arrayIndexOf(t,e[n])<0&&t.push(e[n]);return t},arrayMap:function(e,t){e=e||[];for(var n=[],i=0,o=e.length;o>i;i++)n.push(t(e[i],i));return n},arrayFilter:function(e,t){e=e||[];for(var n=[],i=0,o=e.length;o>i;i++)t(e[i],i)&&n.push(e[i]);
return n},arrayPushAll:function(e,t){if(t instanceof Array)e.push.apply(e,t);else for(var n=0,i=t.length;i>n;n++)e.push(t[n]);return e},addOrRemoveItem:function(e,t,n){var i=m.utils.arrayIndexOf(m.utils.peekObservable(e),t);0>i?n&&e.push(t):n||e.splice(i,1)},canSetPrototype:c,extend:a,setPrototypeOf:l,setPrototypeOfOrExtend:c?l:a,objectForEach:e,objectMap:function(e,t){if(!e)return e;var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=t(e[i],i,e));return n},emptyDomNode:function(e){for(;e.firstChild;)m.removeNode(e.firstChild)},moveCleanedNodesToContainerElement:function(e){for(var t=m.utils.makeArray(e),n=i.createElement("div"),o=0,r=t.length;r>o;o++)n.appendChild(m.cleanNode(t[o]));return n},cloneNodes:function(e,t){for(var n=0,i=e.length,o=[];i>n;n++){var r=e[n].cloneNode(!0);o.push(t?m.cleanNode(r):r)}return o},setDomNodeChildren:function(e,t){if(m.utils.emptyDomNode(e),t)for(var n=0,i=t.length;i>n;n++)e.appendChild(t[n])},replaceDomNodes:function(e,t){var n=e.nodeType?[e]:e;if(n.length>0){for(var i=n[0],o=i.parentNode,r=0,s=t.length;s>r;r++)o.insertBefore(t[r],i);for(var r=0,s=n.length;s>r;r++)m.removeNode(n[r])}},fixUpContinuousNodeArray:function(e,t){if(e.length){for(t=8===t.nodeType&&t.parentNode||t;e.length&&e[0].parentNode!==t;)e.shift();if(e.length>1){var n=e[0],i=e[e.length-1];for(e.length=0;n!==i;)if(e.push(n),n=n.nextSibling,!n)return;e.push(i)}}return e},setOptionNodeSelectionState:function(e,t){7>g?e.setAttribute("selected",t):e.selected=t},stringTrim:function(e){return null===e||e===t?"":e.trim?e.trim():e.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},stringStartsWith:function(e,t){return e=e||"",t.length>e.length?!1:e.substring(0,t.length)===t},domNodeIsContainedBy:function(e,t){if(e===t)return!0;if(11===e.nodeType)return!1;if(t.contains)return t.contains(3===e.nodeType?e.parentNode:e);if(t.compareDocumentPosition)return 16==(16&t.compareDocumentPosition(e));for(;e&&e!=t;)e=e.parentNode;return!!e},domNodeIsAttachedToDocument:function(e){return m.utils.domNodeIsContainedBy(e,e.ownerDocument.documentElement)},anyDomNodeIsAttachedToDocument:function(e){return!!m.utils.arrayFirst(e,m.utils.domNodeIsAttachedToDocument)},tagNameLower:function(e){return e&&e.tagName&&e.tagName.toLowerCase()},registerEventHandler:function(e,t,n){var i=g&&f[t];if(!i&&r)r(e).bind(t,n);else if(i||"function"!=typeof e.addEventListener){if("undefined"==typeof e.attachEvent)throw new Error("Browser doesn't support addEventListener or attachEvent");var o=function(t){n.call(e,t)},s="on"+t;e.attachEvent(s,o),m.utils.domNodeDisposal.addDisposeCallback(e,function(){e.detachEvent(s,o)})}else e.addEventListener(t,n,!1)},triggerEvent:function(e,t){if(!e||!e.nodeType)throw new Error("element must be a DOM node when calling triggerEvent");var o=u(e,t);if(r&&!o)r(e).trigger(t);else if("function"==typeof i.createEvent){if("function"!=typeof e.dispatchEvent)throw new Error("The supplied element doesn't support dispatchEvent");var s=h[t]||"HTMLEvents",a=i.createEvent(s);a.initEvent(t,!0,!0,n,0,0,0,0,0,!1,!1,!1,!1,0,e),e.dispatchEvent(a)}else if(o&&e.click)e.click();else{if("undefined"==typeof e.fireEvent)throw new Error("Browser doesn't support triggering events");e.fireEvent("on"+t)}},unwrapObservable:function(e){return m.isObservable(e)?e():e},peekObservable:function(e){return m.isObservable(e)?e.peek():e},toggleDomNodeCssClass:function(e,t,n){if(t){var i=/\S+/g,o=e.className.match(i)||[];m.utils.arrayForEach(t.match(i),function(e){m.utils.addOrRemoveItem(o,e,n)}),e.className=o.join(" ")}},setTextContent:function(e,n){var i=m.utils.unwrapObservable(n);(null===i||i===t)&&(i="");var o=m.virtualElements.firstChild(e);!o||3!=o.nodeType||m.virtualElements.nextSibling(o)?m.virtualElements.setDomNodeChildren(e,[e.ownerDocument.createTextNode(i)]):o.data=i,m.utils.forceRefresh(e)},setElementName:function(e,t){if(e.name=t,7>=g)try{e.mergeAttributes(i.createElement("<input name='"+e.name+"'/>"),!1)}catch(n){}},forceRefresh:function(e){if(g>=9){var t=1==e.nodeType?e:e.parentNode;t.style&&(t.style.zoom=t.style.zoom)}},ensureSelectElementIsRenderedCorrectly:function(e){if(g){var t=e.style.width;e.style.width=0,e.style.width=t}},range:function(e,t){e=m.utils.unwrapObservable(e),t=m.utils.unwrapObservable(t);for(var n=[],i=e;t>=i;i++)n.push(i);return n},makeArray:function(e){for(var t=[],n=0,i=e.length;i>n;n++)t.push(e[n]);return t},isIe6:v,isIe7:y,ieVersion:g,getFormFields:function(e,t){for(var n=m.utils.makeArray(e.getElementsByTagName("input")).concat(m.utils.makeArray(e.getElementsByTagName("textarea"))),i="string"==typeof t?function(e){return e.name===t}:function(e){return t.test(e.name)},o=[],r=n.length-1;r>=0;r--)i(n[r])&&o.push(n[r]);return o},parseJson:function(e){return"string"==typeof e&&(e=m.utils.stringTrim(e))?s&&s.parse?s.parse(e):new Function("return "+e)():null},stringifyJson:function(e,t,n){if(!s||!s.stringify)throw new Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return s.stringify(m.utils.unwrapObservable(e),t,n)},postJson:function(t,n,o){o=o||{};var r=o.params||{},s=o.includeFields||this.fieldsIncludedWithJsonPost,a=t;if("object"==typeof t&&"form"===m.utils.tagNameLower(t)){var l=t;a=l.action;for(var u=s.length-1;u>=0;u--)for(var c=m.utils.getFormFields(l,s[u]),d=c.length-1;d>=0;d--)r[c[d].name]=c[d].value}n=m.utils.unwrapObservable(n);var h=i.createElement("form");h.style.display="none",h.action=a,h.method="post";for(var p in n){var f=i.createElement("input");f.type="hidden",f.name=p,f.value=m.utils.stringifyJson(m.utils.unwrapObservable(n[p])),h.appendChild(f)}e(r,function(e,t){var n=i.createElement("input");n.type="hidden",n.name=e,n.value=t,h.appendChild(n)}),i.body.appendChild(h),o.submitter?o.submitter(h):h.submit(),setTimeout(function(){h.parentNode.removeChild(h)},0)}}}(),m.exportSymbol("utils",m.utils),m.exportSymbol("utils.arrayForEach",m.utils.arrayForEach),m.exportSymbol("utils.arrayFirst",m.utils.arrayFirst),m.exportSymbol("utils.arrayFilter",m.utils.arrayFilter),m.exportSymbol("utils.arrayGetDistinctValues",m.utils.arrayGetDistinctValues),m.exportSymbol("utils.arrayIndexOf",m.utils.arrayIndexOf),m.exportSymbol("utils.arrayMap",m.utils.arrayMap),m.exportSymbol("utils.arrayPushAll",m.utils.arrayPushAll),m.exportSymbol("utils.arrayRemoveItem",m.utils.arrayRemoveItem),m.exportSymbol("utils.extend",m.utils.extend),m.exportSymbol("utils.fieldsIncludedWithJsonPost",m.utils.fieldsIncludedWithJsonPost),m.exportSymbol("utils.getFormFields",m.utils.getFormFields),m.exportSymbol("utils.peekObservable",m.utils.peekObservable),m.exportSymbol("utils.postJson",m.utils.postJson),m.exportSymbol("utils.parseJson",m.utils.parseJson),m.exportSymbol("utils.registerEventHandler",m.utils.registerEventHandler),m.exportSymbol("utils.stringifyJson",m.utils.stringifyJson),m.exportSymbol("utils.range",m.utils.range),m.exportSymbol("utils.toggleDomNodeCssClass",m.utils.toggleDomNodeCssClass),m.exportSymbol("utils.triggerEvent",m.utils.triggerEvent),m.exportSymbol("utils.unwrapObservable",m.utils.unwrapObservable),m.exportSymbol("utils.objectForEach",m.utils.objectForEach),m.exportSymbol("utils.addOrRemoveItem",m.utils.addOrRemoveItem),m.exportSymbol("unwrap",m.utils.unwrapObservable),Function.prototype.bind||(Function.prototype.bind=function(e){var t=this,n=Array.prototype.slice.call(arguments),e=n.shift();return function(){return t.apply(e,n.concat(Array.prototype.slice.call(arguments)))}}),m.utils.domData=new function(){function e(e,r){var s=e[i],a=s&&"null"!==s&&o[s];if(!a){if(!r)return t;s=e[i]="ko"+n++,o[s]={}}return o[s]}var n=0,i="__ko__"+(new Date).getTime(),o={};return{get:function(n,i){var o=e(n,!1);return o===t?t:o[i]},set:function(n,i,o){if(o!==t||e(n,!1)!==t){var r=e(n,!0);r[i]=o}},clear:function(e){var t=e[i];return t?(delete o[t],e[i]=null,!0):!1},nextKey:function(){return n++ +i}}},m.exportSymbol("utils.domData",m.utils.domData),m.exportSymbol("utils.domData.clear",m.utils.domData.clear),m.utils.domNodeDisposal=new function(){function e(e,n){var i=m.utils.domData.get(e,s);return i===t&&n&&(i=[],m.utils.domData.set(e,s,i)),i}function n(e){m.utils.domData.set(e,s,t)}function i(t){var n=e(t,!1);if(n){n=n.slice(0);for(var i=0;i<n.length;i++)n[i](t)}m.utils.domData.clear(t),m.utils.domNodeDisposal.cleanExternalData(t),l[t.nodeType]&&o(t)}function o(e){for(var t,n=e.firstChild;t=n;)n=t.nextSibling,8===t.nodeType&&i(t)}var s=m.utils.domData.nextKey(),a={1:!0,8:!0,9:!0},l={1:!0,9:!0};return{addDisposeCallback:function(t,n){if("function"!=typeof n)throw new Error("Callback must be a function");e(t,!0).push(n)},removeDisposeCallback:function(t,i){var o=e(t,!1);o&&(m.utils.arrayRemoveItem(o,i),0==o.length&&n(t))},cleanNode:function(e){if(a[e.nodeType]&&(i(e),l[e.nodeType])){var t=[];m.utils.arrayPushAll(t,e.getElementsByTagName("*"));for(var n=0,o=t.length;o>n;n++)i(t[n])}return e},removeNode:function(e){m.cleanNode(e),e.parentNode&&e.parentNode.removeChild(e)},cleanExternalData:function(e){r&&"function"==typeof r.cleanData&&r.cleanData([e])}}},m.cleanNode=m.utils.domNodeDisposal.cleanNode,m.removeNode=m.utils.domNodeDisposal.removeNode,m.exportSymbol("cleanNode",m.cleanNode),m.exportSymbol("removeNode",m.removeNode),m.exportSymbol("utils.domNodeDisposal",m.utils.domNodeDisposal),m.exportSymbol("utils.domNodeDisposal.addDisposeCallback",m.utils.domNodeDisposal.addDisposeCallback),m.exportSymbol("utils.domNodeDisposal.removeDisposeCallback",m.utils.domNodeDisposal.removeDisposeCallback),function(){function e(e){var t=m.utils.stringTrim(e).toLowerCase(),o=i.createElement("div"),r=t.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!t.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!t.indexOf("<td")||!t.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""],s="ignored<div>"+r[1]+e+r[2]+"</div>";for("function"==typeof n.innerShiv?o.appendChild(n.innerShiv(s)):o.innerHTML=s;r[0]--;)o=o.lastChild;return m.utils.makeArray(o.lastChild.childNodes)}function o(e){if(r.parseHTML)return r.parseHTML(e)||[];var t=r.clean([e]);if(t&&t[0]){for(var n=t[0];n.parentNode&&11!==n.parentNode.nodeType;)n=n.parentNode;n.parentNode&&n.parentNode.removeChild(n)}return t}m.utils.parseHtmlFragment=function(t){return r?o(t):e(t)},m.utils.setHtml=function(e,n){if(m.utils.emptyDomNode(e),n=m.utils.unwrapObservable(n),null!==n&&n!==t)if("string"!=typeof n&&(n=n.toString()),r)r(e).html(n);else for(var i=m.utils.parseHtmlFragment(n),o=0;o<i.length;o++)e.appendChild(i[o])}}(),m.exportSymbol("utils.parseHtmlFragment",m.utils.parseHtmlFragment),m.exportSymbol("utils.setHtml",m.utils.setHtml),m.memoization=function(){function e(){return(4294967296*(1+Math.random())|0).toString(16).substring(1)}function n(){return e()+e()}function i(e,t){if(e)if(8==e.nodeType){var n=m.memoization.parseMemoText(e.nodeValue);null!=n&&t.push({domNode:e,memoId:n})}else if(1==e.nodeType)for(var o=0,r=e.childNodes,s=r.length;s>o;o++)i(r[o],t)}var o={};return{memoize:function(e){if("function"!=typeof e)throw new Error("You can only pass a function to ko.memoization.memoize()");var t=n();return o[t]=e,"<!--[ko_memo:"+t+"]-->"},unmemoize:function(e,n){var i=o[e];if(i===t)throw new Error("Couldn't find any memo with ID "+e+". Perhaps it's already been unmemoized.");try{return i.apply(null,n||[]),!0}finally{delete o[e]}},unmemoizeDomNodeAndDescendants:function(e,t){var n=[];i(e,n);for(var o=0,r=n.length;r>o;o++){var s=n[o].domNode,a=[s];t&&m.utils.arrayPushAll(a,t),m.memoization.unmemoize(n[o].memoId,a),s.nodeValue="",s.parentNode&&s.parentNode.removeChild(s)}},parseMemoText:function(e){var t=e.match(/^\[ko_memo\:(.*?)\]$/);return t?t[1]:null}}}(),m.exportSymbol("memoization",m.memoization),m.exportSymbol("memoization.memoize",m.memoization.memoize),m.exportSymbol("memoization.unmemoize",m.memoization.unmemoize),m.exportSymbol("memoization.parseMemoText",m.memoization.parseMemoText),m.exportSymbol("memoization.unmemoizeDomNodeAndDescendants",m.memoization.unmemoizeDomNodeAndDescendants),m.extenders={throttle:function(e,t){e.throttleEvaluation=t;var n=null;return m.dependentObservable({read:e,write:function(i){clearTimeout(n),n=setTimeout(function(){e(i)},t)}})},rateLimit:function(e,t){var n,i,o;"number"==typeof t?n=t:(n=t.timeout,i=t.method),o="notifyWhenChangesStop"==i?d:c,e.limit(function(e){return o(e,n)})},notify:function(e,t){e.equalityComparer="always"==t?null:u}};var g={undefined:1,"boolean":1,number:1,string:1};m.exportSymbol("extenders",m.extenders),m.subscription=function(e,t,n){this.target=e,this.callback=t,this.disposeCallback=n,this.isDisposed=!1,m.exportProperty(this,"dispose",this.dispose)},m.subscription.prototype.dispose=function(){this.isDisposed=!0,this.disposeCallback()},m.subscribable=function(){m.utils.setPrototypeOfOrExtend(this,m.subscribable.fn),this._subscriptions={}};var v="change",y={subscribe:function(e,t,n){var i=this;n=n||v;var o=t?e.bind(t):e,r=new m.subscription(i,o,function(){m.utils.arrayRemoveItem(i._subscriptions[n],r),i.afterSubscriptionRemove&&i.afterSubscriptionRemove(n)});return i.beforeSubscriptionAdd&&i.beforeSubscriptionAdd(n),i._subscriptions[n]||(i._subscriptions[n]=[]),i._subscriptions[n].push(r),r},notifySubscribers:function(e,t){if(t=t||v,this.hasSubscriptionsForEvent(t))try{m.dependencyDetection.begin();for(var n,i=this._subscriptions[t].slice(0),o=0;n=i[o];++o)n.isDisposed||n.callback(e)}finally{m.dependencyDetection.end()}},limit:function(e){var t,n,i,o=this,r=m.isObservable(o),s="beforeChange";o._origNotifySubscribers||(o._origNotifySubscribers=o.notifySubscribers,o.notifySubscribers=function(e,t){t&&t!==v?t===s?o._rateLimitedBeforeChange(e):o._origNotifySubscribers(e,t):o._rateLimitedChange(e)});var a=e(function(){r&&i===o&&(i=o()),t=!1,o.isDifferent(n,i)&&o._origNotifySubscribers(n=i)});o._rateLimitedChange=function(e){t=!0,i=e,a()},o._rateLimitedBeforeChange=function(e){t||(n=e,o._origNotifySubscribers(e,s))}},hasSubscriptionsForEvent:function(e){return this._subscriptions[e]&&this._subscriptions[e].length},getSubscriptionsCount:function(){var e=0;return m.utils.objectForEach(this._subscriptions,function(t,n){e+=n.length}),e},isDifferent:function(e,t){return!this.equalityComparer||!this.equalityComparer(e,t)},extend:h};m.exportProperty(y,"subscribe",y.subscribe),m.exportProperty(y,"extend",y.extend),m.exportProperty(y,"getSubscriptionsCount",y.getSubscriptionsCount),m.utils.canSetPrototype&&m.utils.setPrototypeOf(y,Function.prototype),m.subscribable.fn=y,m.isSubscribable=function(e){return null!=e&&"function"==typeof e.subscribe&&"function"==typeof e.notifySubscribers},m.exportSymbol("subscribable",m.subscribable),m.exportSymbol("isSubscribable",m.isSubscribable),m.computedContext=m.dependencyDetection=function(){function e(){return++r}function t(e){o.push(i),i=e}function n(){i=o.pop()}var i,o=[],r=0;return{begin:t,end:n,registerDependency:function(t){if(i){if(!m.isSubscribable(t))throw new Error("Only subscribable things can act as dependencies");i.callback(t,t._id||(t._id=e()))}},ignore:function(e,i,o){try{return t(),e.apply(i,o||[])}finally{n()}},getDependenciesCount:function(){return i?i.computed.getDependenciesCount():void 0},isInitial:function(){return i?i.isInitial:void 0}}}(),m.exportSymbol("computedContext",m.computedContext),m.exportSymbol("computedContext.getDependenciesCount",m.computedContext.getDependenciesCount),m.exportSymbol("computedContext.isInitial",m.computedContext.isInitial),m.exportSymbol("computedContext.isSleeping",m.computedContext.isSleeping),m.observable=function(t){function n(){return arguments.length>0?(n.isDifferent(i,arguments[0])&&(n.valueWillMutate(),i=arguments[0],e&&(n._latestValue=i),n.valueHasMutated()),this):(m.dependencyDetection.registerDependency(n),i)}var i=t;return m.subscribable.call(n),m.utils.setPrototypeOfOrExtend(n,m.observable.fn),e&&(n._latestValue=i),n.peek=function(){return i},n.valueHasMutated=function(){n.notifySubscribers(i)},n.valueWillMutate=function(){n.notifySubscribers(i,"beforeChange")},m.exportProperty(n,"peek",n.peek),m.exportProperty(n,"valueHasMutated",n.valueHasMutated),m.exportProperty(n,"valueWillMutate",n.valueWillMutate),n},m.observable.fn={equalityComparer:u};var b=m.observable.protoProperty="__ko_proto__";m.observable.fn[b]=m.observable,m.utils.canSetPrototype&&m.utils.setPrototypeOf(m.observable.fn,m.subscribable.fn),m.hasPrototype=function(e,n){return null===e||e===t||e[b]===t?!1:e[b]===n?!0:m.hasPrototype(e[b],n)},m.isObservable=function(e){return m.hasPrototype(e,m.observable)},m.isWriteableObservable=function(e){return"function"==typeof e&&e[b]===m.observable?!0:"function"==typeof e&&e[b]===m.dependentObservable&&e.hasWriteFunction?!0:!1},m.exportSymbol("observable",m.observable),m.exportSymbol("isObservable",m.isObservable),m.exportSymbol("isWriteableObservable",m.isWriteableObservable),m.exportSymbol("isWritableObservable",m.isWriteableObservable),m.observableArray=function(e){if(e=e||[],"object"!=typeof e||!("length"in e))throw new Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");var t=m.observable(e);return m.utils.setPrototypeOfOrExtend(t,m.observableArray.fn),t.extend({trackArrayChanges:!0})},m.observableArray.fn={remove:function(e){for(var t=this.peek(),n=[],i="function"!=typeof e||m.isObservable(e)?function(t){return t===e}:e,o=0;o<t.length;o++){var r=t[o];i(r)&&(0===n.length&&this.valueWillMutate(),n.push(r),t.splice(o,1),o--)}return n.length&&this.valueHasMutated(),n},removeAll:function(e){if(e===t){var n=this.peek(),i=n.slice(0);return this.valueWillMutate(),n.splice(0,n.length),this.valueHasMutated(),i}return e?this.remove(function(t){return m.utils.arrayIndexOf(e,t)>=0}):[]},destroy:function(e){var t=this.peek(),n="function"!=typeof e||m.isObservable(e)?function(t){return t===e}:e;this.valueWillMutate();for(var i=t.length-1;i>=0;i--){var o=t[i];n(o)&&(t[i]._destroy=!0)}this.valueHasMutated()},destroyAll:function(e){return e===t?this.destroy(function(){return!0}):e?this.destroy(function(t){return m.utils.arrayIndexOf(e,t)>=0}):[]},indexOf:function(e){var t=this();return m.utils.arrayIndexOf(t,e)},replace:function(e,t){var n=this.indexOf(e);n>=0&&(this.valueWillMutate(),this.peek()[n]=t,this.valueHasMutated())}},m.utils.arrayForEach(["pop","push","reverse","shift","sort","splice","unshift"],function(e){m.observableArray.fn[e]=function(){var t=this.peek();this.valueWillMutate(),this.cacheDiffForKnownOperation(t,e,arguments);var n=t[e].apply(t,arguments);return this.valueHasMutated(),n}}),m.utils.arrayForEach(["slice"],function(e){m.observableArray.fn[e]=function(){var t=this();return t[e].apply(t,arguments)}}),m.utils.canSetPrototype&&m.utils.setPrototypeOf(m.observableArray.fn,m.observable.fn),m.exportSymbol("observableArray",m.observableArray);var w="arrayChange";m.extenders.trackArrayChanges=function(e){function t(){if(!i){i=!0;var t=e.notifySubscribers;e.notifySubscribers=function(e,n){return n&&n!==v||++r,t.apply(this,arguments)};var s=[].concat(e.peek()||[]);o=null,e.subscribe(function(t){if(t=[].concat(t||[]),e.hasSubscriptionsForEvent(w)){var i=n(s,t);i.length&&e.notifySubscribers(i,w)}s=t,o=null,r=0})}}function n(e,t){return(!o||r>1)&&(o=m.utils.compareArrays(e,t,{sparse:!0})),o}if(!e.cacheDiffForKnownOperation){var i=!1,o=null,r=0,s=e.subscribe;e.subscribe=e.subscribe=function(e,n,i){return i===w&&t(),s.apply(this,arguments)},e.cacheDiffForKnownOperation=function(e,t,n){function s(e,t,n){return a[a.length]={status:e,value:t,index:n}}if(i&&!r){var a=[],l=e.length,u=n.length,c=0;switch(t){case"push":c=l;case"unshift":for(var d=0;u>d;d++)s("added",n[d],c+d);break;case"pop":c=l-1;case"shift":l&&s("deleted",e[c],c);break;case"splice":for(var h=Math.min(Math.max(0,n[0]<0?l+n[0]:n[0]),l),p=1===u?l:Math.min(h+(n[1]||0),l),f=h+u-2,g=Math.max(p,f),v=[],y=[],d=h,b=2;g>d;++d,++b)p>d&&y.push(s("deleted",e[d],d)),f>d&&v.push(s("added",n[b],d));m.utils.findMovesInArrayComparison(y,v);break;default:return}o=a}}}},m.computed=m.dependentObservable=function(n,i,o){function r(e,t){T[t]||(T[t]=e.subscribe(l),++E)}function s(){m.utils.objectForEach(T,function(e,t){t.dispose()}),T={}}function a(){s(),E=0,y=!0,f=!1}function l(){var e=c.throttleEvaluation;e&&e>=0?(clearTimeout(A),A=setTimeout(u,e)):c._evalRateLimited?c._evalRateLimited():u()}function u(n){if(g){if(w)throw Error("A 'pure' computed must not be called recursively")}else if(!y){if(_&&_()){if(!v)return void S()}else v=!1;if(g=!0,C)try{var o={};m.dependencyDetection.begin({callback:function(e,t){o[t]||(o[t]=1,++E)},computed:c,isInitial:t}),E=0,p=b.call(i)}finally{m.dependencyDetection.end(),g=!1}else try{var s=T,a=E;m.dependencyDetection.begin({callback:function(e,t){y||(a&&s[t]?(T[t]=s[t],++E,delete s[t],--a):r(e,t))},computed:c,isInitial:w?t:!E}),T={},E=0;try{var l=i?b.call(i):b()}finally{m.dependencyDetection.end(),a&&m.utils.objectForEach(s,function(e,t){t.dispose()}),f=!1}c.isDifferent(p,l)&&(c.notifySubscribers(p,"beforeChange"),p=l,e&&(c._latestValue=p),n!==!0&&c.notifySubscribers(p))}finally{g=!1}E||S()}}function c(){if(arguments.length>0){if("function"!=typeof k)throw new Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return k.apply(i,arguments),this}return m.dependencyDetection.registerDependency(c),f&&u(!0),p}function d(){return f&&!E&&u(!0),p}function h(){return f||E>0}var p,f=!0,g=!1,v=!1,y=!1,b=n,w=!1,C=!1;if(b&&"object"==typeof b?(o=b,b=o.read):(o=o||{},b||(b=o.read)),"function"!=typeof b)throw new Error("Pass a function that returns the value of the ko.computed");var k=o.write,x=o.disposeWhenNodeIsRemoved||o.disposeWhenNodeIsRemoved||null,D=o.disposeWhen||o.disposeWhen,_=D,S=a,T={},E=0,A=null;i||(i=o.owner),m.subscribable.call(c),m.utils.setPrototypeOfOrExtend(c,m.dependentObservable.fn),c.peek=d,c.getDependenciesCount=function(){return E},c.hasWriteFunction="function"==typeof o.write,c.dispose=function(){S()},c.isActive=h;var M=c.limit;return c.limit=function(e){M.call(c,e),c._evalRateLimited=function(){c._rateLimitedBeforeChange(p),f=!0,c._rateLimitedChange(c)}},o.pure?(w=!0,C=!0,c.beforeSubscriptionAdd=function(){C&&(C=!1,u(!0))},c.afterSubscriptionRemove=function(){c.getSubscriptionsCount()||(s(),C=f=!0)}):o.deferEvaluation&&(c.beforeSubscriptionAdd=function(){d(),delete c.beforeSubscriptionAdd}),m.exportProperty(c,"peek",c.peek),m.exportProperty(c,"dispose",c.dispose),m.exportProperty(c,"isActive",c.isActive),m.exportProperty(c,"getDependenciesCount",c.getDependenciesCount),x&&(v=!0,x.nodeType&&(_=function(){return!m.utils.domNodeIsAttachedToDocument(x)||D&&D()})),C||o.deferEvaluation||u(),x&&h()&&x.nodeType&&(S=function(){m.utils.domNodeDisposal.removeDisposeCallback(x,S),a()},m.utils.domNodeDisposal.addDisposeCallback(x,S)),c},m.isComputed=function(e){return m.hasPrototype(e,m.dependentObservable)};var C=m.observable.protoProperty;m.dependentObservable[C]=m.observable,m.dependentObservable.fn={equalityComparer:u},m.dependentObservable.fn[C]=m.dependentObservable,m.utils.canSetPrototype&&m.utils.setPrototypeOf(m.dependentObservable.fn,m.subscribable.fn),m.exportSymbol("dependentObservable",m.dependentObservable),m.exportSymbol("computed",m.dependentObservable),m.exportSymbol("isComputed",m.isComputed),m.pureComputed=function(e,t){return"function"==typeof e?m.computed(e,t,{pure:!0}):(e=m.utils.extend({},e),e.pure=!0,m.computed(e,t))},m.exportSymbol("pureComputed",m.pureComputed),function(){function e(o,r,s){s=s||new i,o=r(o);var a=!("object"!=typeof o||null===o||o===t||o instanceof Date||o instanceof String||o instanceof Number||o instanceof Boolean);if(!a)return o;var l=o instanceof Array?[]:{};return s.save(o,l),n(o,function(n){var i=r(o[n]);switch(typeof i){case"boolean":case"number":case"string":case"function":l[n]=i;break;case"object":case"undefined":var a=s.get(i);l[n]=a!==t?a:e(i,r,s)}}),l}function n(e,t){if(e instanceof Array){for(var n=0;n<e.length;n++)t(n);"function"==typeof e.toJSON&&t("toJSON")}else for(var i in e)t(i)}function i(){this.keys=[],this.values=[]}var o=10;m.toJS=function(t){if(0==arguments.length)throw new Error("When calling ko.toJS, pass the object you want to convert.");return e(t,function(e){for(var t=0;m.isObservable(e)&&o>t;t++)e=e();return e})},m.toJSON=function(e,t,n){var i=m.toJS(e);return m.utils.stringifyJson(i,t,n)},i.prototype={constructor:i,save:function(e,t){var n=m.utils.arrayIndexOf(this.keys,e);n>=0?this.values[n]=t:(this.keys.push(e),this.values.push(t))},get:function(e){var n=m.utils.arrayIndexOf(this.keys,e);return n>=0?this.values[n]:t}}}(),m.exportSymbol("toJS",m.toJS),m.exportSymbol("toJSON",m.toJSON),function(){var e="__ko__hasDomDataOptionValue__";m.selectExtensions={readValue:function(n){switch(m.utils.tagNameLower(n)){case"option":return n[e]===!0?m.utils.domData.get(n,m.bindingHandlers.options.optionValueDomDataKey):m.utils.ieVersion<=7?n.getAttributeNode("value")&&n.getAttributeNode("value").specified?n.value:n.text:n.value;case"select":return n.selectedIndex>=0?m.selectExtensions.readValue(n.options[n.selectedIndex]):t;default:return n.value}},writeValue:function(n,i,o){switch(m.utils.tagNameLower(n)){case"option":switch(typeof i){case"string":m.utils.domData.set(n,m.bindingHandlers.options.optionValueDomDataKey,t),e in n&&delete n[e],n.value=i;break;default:m.utils.domData.set(n,m.bindingHandlers.options.optionValueDomDataKey,i),n[e]=!0,n.value="number"==typeof i?i:""}break;case"select":(""===i||null===i)&&(i=t);for(var r,s=-1,a=0,l=n.options.length;l>a;++a)if(r=m.selectExtensions.readValue(n.options[a]),r==i||""==r&&i===t){s=a;break}(o||s>=0||i===t&&n.size>1)&&(n.selectedIndex=s);break;default:(null===i||i===t)&&(i=""),n.value=i}}}}(),m.exportSymbol("selectExtensions",m.selectExtensions),m.exportSymbol("selectExtensions.readValue",m.selectExtensions.readValue),m.exportSymbol("selectExtensions.writeValue",m.selectExtensions.writeValue),m.expressionRewriting=function(){function e(e){if(m.utils.arrayIndexOf(i,e)>=0)return!1;var t=e.match(o);return null===t?!1:t[1]?"Object("+t[1]+")"+t[2]:e}function t(e){var t=m.utils.stringTrim(e);123===t.charCodeAt(0)&&(t=t.slice(1,-1));var n,i,o=[],r=t.match(d),s=0;if(r){r.push(",");for(var a,l=0;a=r[l];++l){var u=a.charCodeAt(0);if(44===u){if(0>=s){n&&o.push(i?{key:n,value:i.join("")}:{unknown:n}),n=i=s=0;continue}}else if(58===u){if(!i)continue}else if(47===u&&l&&a.length>1){var c=r[l-1].match(h);c&&!p[c[0]]&&(t=t.substr(t.indexOf(a)+1),r=t.match(d),r.push(","),l=-1,a="/")}else if(40===u||123===u||91===u)++s;else if(41===u||125===u||93===u)--s;else if(!n&&!i){n=34===u||39===u?a.slice(1,-1):a;continue}i?i.push(a):i=[a]}}return o}function n(n,i){function o(t,n){function i(e){return e&&e.preprocess?n=e.preprocess(n,t,o):!0}var u;if(!l){if(!i(m.getBindingHandler(t)))return;f[t]&&(u=e(n))&&s.push("'"+t+"':function(_z){"+u+"=_z}")}a&&(n="function(){return "+n+" }"),r.push("'"+t+"':"+n)}i=i||{};var r=[],s=[],a=i.valueAccessors,l=i.bindingParams,u="string"==typeof n?t(n):n;return m.utils.arrayForEach(u,function(e){o(e.key||e.unknown,e.value)}),s.length&&o("_ko_property_writers","{"+s.join(",")+" }"),r.join(",")}var i=["true","false","null","undefined"],o=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,r='"(?:[^"\\\\]|\\\\.)*"',s="'(?:[^'\\\\]|\\\\.)*'",a="/(?:[^/\\\\]|\\\\.)*/w*",l=",\"'{}()/:[\\]",u="[^\\s:,/][^"+l+"]*[^\\s"+l+"]",c="[^\\s]",d=RegExp(r+"|"+s+"|"+a+"|"+u+"|"+c,"g"),h=/[\])"'A-Za-z0-9_$]+$/,p={"in":1,"return":1,"typeof":1},f={};return{bindingRewriteValidators:[],twoWayBindings:f,parseObjectLiteral:t,preProcessBindings:n,keyValueArrayContainsKey:function(e,t){for(var n=0;n<e.length;n++)if(e[n].key==t)return!0;return!1},writeValueToProperty:function(e,t,n,i,o){if(e&&m.isObservable(e))!m.isWriteableObservable(e)||o&&e.peek()===i||e(i);else{var r=t.get("_ko_property_writers");r&&r[n]&&r[n](i)}}}}(),m.exportSymbol("expressionRewriting",m.expressionRewriting),m.exportSymbol("expressionRewriting.bindingRewriteValidators",m.expressionRewriting.bindingRewriteValidators),m.exportSymbol("expressionRewriting.parseObjectLiteral",m.expressionRewriting.parseObjectLiteral),m.exportSymbol("expressionRewriting.preProcessBindings",m.expressionRewriting.preProcessBindings),m.exportSymbol("expressionRewriting._twoWayBindings",m.expressionRewriting.twoWayBindings),m.exportSymbol("jsonExpressionRewriting",m.expressionRewriting),m.exportSymbol("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",m.expressionRewriting.preProcessBindings),function(){function e(e){return 8==e.nodeType&&a.test(s?e.text:e.nodeValue)}function t(e){return 8==e.nodeType&&l.test(s?e.text:e.nodeValue)}function n(n,i){for(var o=n,r=1,s=[];o=o.nextSibling;){if(t(o)&&(r--,0===r))return s;s.push(o),e(o)&&r++}if(!i)throw new Error("Cannot find closing comment tag to match: "+n.nodeValue);return null}function o(e,t){var i=n(e,t);return i?i.length>0?i[i.length-1].nextSibling:e.nextSibling:null}function r(n){var i=n.firstChild,r=null;if(i)do if(r)r.push(i);else if(e(i)){var s=o(i,!0);s?i=s:r=[i]}else t(i)&&(r=[i]);while(i=i.nextSibling);return r}var s=i&&"<!--test-->"===i.createComment("test").text,a=s?/^<!--\s*ko(?:\s+([\s\S]+))?\s*-->$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,l=s?/^<!--\s*\/ko\s*-->$/:/^\s*\/ko\s*$/,u={ul:!0,ol:!0};m.virtualElements={allowedBindings:{},childNodes:function(t){return e(t)?n(t):t.childNodes},emptyNode:function(t){if(e(t))for(var n=m.virtualElements.childNodes(t),i=0,o=n.length;o>i;i++)m.removeNode(n[i]);else m.utils.emptyDomNode(t)},setDomNodeChildren:function(t,n){if(e(t)){m.virtualElements.emptyNode(t);for(var i=t.nextSibling,o=0,r=n.length;r>o;o++)i.parentNode.insertBefore(n[o],i)}else m.utils.setDomNodeChildren(t,n)},prepend:function(t,n){e(t)?t.parentNode.insertBefore(n,t.nextSibling):t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)},insertAfter:function(t,n,i){i?e(t)?t.parentNode.insertBefore(n,i.nextSibling):i.nextSibling?t.insertBefore(n,i.nextSibling):t.appendChild(n):m.virtualElements.prepend(t,n)},firstChild:function(n){return e(n)?!n.nextSibling||t(n.nextSibling)?null:n.nextSibling:n.firstChild},nextSibling:function(n){return e(n)&&(n=o(n)),n.nextSibling&&t(n.nextSibling)?null:n.nextSibling},hasBindingValue:e,virtualNodeBindingValue:function(e){var t=(s?e.text:e.nodeValue).match(a);return t?t[1]:null},normaliseVirtualElementDomStructure:function(e){if(u[m.utils.tagNameLower(e)]){var t=e.firstChild;if(t)do if(1===t.nodeType){var n=r(t);if(n)for(var i=t.nextSibling,o=0;o<n.length;o++)i?e.insertBefore(n[o],i):e.appendChild(n[o])}while(t=t.nextSibling)}}}}(),m.exportSymbol("virtualElements",m.virtualElements),m.exportSymbol("virtualElements.allowedBindings",m.virtualElements.allowedBindings),m.exportSymbol("virtualElements.emptyNode",m.virtualElements.emptyNode),m.exportSymbol("virtualElements.insertAfter",m.virtualElements.insertAfter),m.exportSymbol("virtualElements.prepend",m.virtualElements.prepend),m.exportSymbol("virtualElements.setDomNodeChildren",m.virtualElements.setDomNodeChildren),function(){function e(e,n,i){var o=e+(i&&i.valueAccessors||"");return n[o]||(n[o]=t(e,i))}function t(e,t){var n=m.expressionRewriting.preProcessBindings(e,t),i="with($context){with($data||{}){return{"+n+"}}}";return new Function("$context","$element",i)}var n="data-bind";m.bindingProvider=function(){this.bindingCache={}},m.utils.extend(m.bindingProvider.prototype,{nodeHasBindings:function(e){switch(e.nodeType){case 1:return null!=e.getAttribute(n)||m.components.getComponentNameForNode(e);case 8:return m.virtualElements.hasBindingValue(e);default:return!1}},getBindings:function(e,t){var n=this.getBindingsString(e,t),i=n?this.parseBindingsString(n,t,e):null;return m.components.addBindingsForCustomElement(i,e,t,!1)},getBindingAccessors:function(e,t){var n=this.getBindingsString(e,t),i=n?this.parseBindingsString(n,t,e,{valueAccessors:!0}):null;
return m.components.addBindingsForCustomElement(i,e,t,!0)},getBindingsString:function(e){switch(e.nodeType){case 1:return e.getAttribute(n);case 8:return m.virtualElements.virtualNodeBindingValue(e);default:return null}},parseBindingsString:function(t,n,i,o){try{var r=e(t,this.bindingCache,o);return r(n,i)}catch(s){throw s.message="Unable to parse bindings.\nBindings value: "+t+"\nMessage: "+s.message,s}}}),m.bindingProvider.instance=new m.bindingProvider}(),m.exportSymbol("bindingProvider",m.bindingProvider),function(){function e(e){return function(){return e}}function i(e){return e()}function o(e){return m.utils.objectMap(m.dependencyDetection.ignore(e),function(t,n){return function(){return e()[n]}})}function s(t,n,i){return"function"==typeof t?o(t.bind(null,n,i)):m.utils.objectMap(t,e)}function a(e,t){return o(this.getBindings.bind(this,e,t))}function l(e){var t=m.virtualElements.allowedBindings[e];if(!t)throw new Error("The binding '"+e+"' cannot be used with virtual elements")}function u(e,t,n){var i,o=m.virtualElements.firstChild(t),r=m.bindingProvider.instance,s=r.preprocessNode;if(s){for(;i=o;)o=m.virtualElements.nextSibling(i),s.call(r,i);o=m.virtualElements.firstChild(t)}for(;i=o;)o=m.virtualElements.nextSibling(i),c(e,i,n)}function c(e,t,n){var i=!0,o=1===t.nodeType;o&&m.virtualElements.normaliseVirtualElementDomStructure(t);var r=o&&n||m.bindingProvider.instance.nodeHasBindings(t);r&&(i=h(t,null,e,n).shouldBindDescendants),i&&!f[m.utils.tagNameLower(t)]&&u(e,t,!o)}function d(e){var t=[],n={},i=[];return m.utils.objectForEach(e,function o(r){if(!n[r]){var s=m.getBindingHandler(r);s&&(s.after&&(i.push(r),m.utils.arrayForEach(s.after,function(t){if(e[t]){if(-1!==m.utils.arrayIndexOf(i,t))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+i.join(", "));o(t)}}),i.length--),t.push({key:r,handler:s})),n[r]=!0}}),t}function h(e,n,o,r){function s(){return m.utils.objectMap(f?f():c,i)}var u=m.utils.domData.get(e,g);if(!n){if(u)throw Error("You cannot apply bindings multiple times to the same element.");m.utils.domData.set(e,g,!0)}!u&&r&&m.storedBindingContextForNode(e,o);var c;if(n&&"function"!=typeof n)c=n;else{var h=m.bindingProvider.instance,p=h.getBindingAccessors||a,f=m.dependentObservable(function(){return c=n?n(o,e):p.call(h,e,o),c&&o._subscribable&&o._subscribable(),c},null,{disposeWhenNodeIsRemoved:e});c&&f.isActive()||(f=null)}var v;if(c){var y=f?function(e){return function(){return i(f()[e])}}:function(e){return c[e]};s.get=function(e){return c[e]&&i(y(e))},s.has=function(e){return e in c};var b=d(c);m.utils.arrayForEach(b,function(n){var i=n.handler.init,r=n.handler.update,a=n.key;8===e.nodeType&&l(a);try{"function"==typeof i&&m.dependencyDetection.ignore(function(){var n=i(e,y(a),s,o.$data,o);if(n&&n.controlsDescendantBindings){if(v!==t)throw new Error("Multiple bindings ("+v+" and "+a+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");v=a}}),"function"==typeof r&&m.dependentObservable(function(){r(e,y(a),s,o.$data,o)},null,{disposeWhenNodeIsRemoved:e})}catch(u){throw u.message='Unable to process binding "'+a+": "+c[a]+'"\nMessage: '+u.message,u}})}return{shouldBindDescendants:v===t}}function p(e){return e&&e instanceof m.bindingContext?e:new m.bindingContext(e)}m.bindingHandlers={};var f={script:!0};m.getBindingHandler=function(e){return m.bindingHandlers[e]},m.bindingContext=function(e,n,i,o){function r(){var t=u?e():e,r=m.utils.unwrapObservable(t);return n?(n._subscribable&&n._subscribable(),m.utils.extend(l,n),c&&(l._subscribable=c)):(l.$parents=[],l.$root=r,l.ko=m),l.$rawData=t,l.$data=r,i&&(l[i]=r),o&&o(l,n,r),l.$data}function s(){return a&&!m.utils.anyDomNodeIsAttachedToDocument(a)}var a,l=this,u="function"==typeof e&&!m.isObservable(e),c=m.dependentObservable(r,null,{disposeWhen:s,disposeWhenNodeIsRemoved:!0});c.isActive()&&(l._subscribable=c,c.equalityComparer=null,a=[],c._addNode=function(e){a.push(e),m.utils.domNodeDisposal.addDisposeCallback(e,function(e){m.utils.arrayRemoveItem(a,e),a.length||(c.dispose(),l._subscribable=c=t)})})},m.bindingContext.prototype.createChildContext=function(e,t,n){return new m.bindingContext(e,this,t,function(e,t){e.$parentContext=t,e.$parent=t.$data,e.$parents=(t.$parents||[]).slice(0),e.$parents.unshift(e.$parent),n&&n(e)})},m.bindingContext.prototype.extend=function(e){return new m.bindingContext(this._subscribable||this.$data,this,null,function(t,n){t.$rawData=n.$rawData,m.utils.extend(t,"function"==typeof e?e():e)})};var g=m.utils.domData.nextKey(),v=m.utils.domData.nextKey();m.storedBindingContextForNode=function(e,t){return 2!=arguments.length?m.utils.domData.get(e,v):(m.utils.domData.set(e,v,t),void(t._subscribable&&t._subscribable._addNode(e)))},m.applyBindingAccessorsToNode=function(e,t,n){return 1===e.nodeType&&m.virtualElements.normaliseVirtualElementDomStructure(e),h(e,t,p(n),!0)},m.applyBindingsToNode=function(e,t,n){var i=p(n);return m.applyBindingAccessorsToNode(e,s(t,i,e),i)},m.applyBindingsToDescendants=function(e,t){(1===t.nodeType||8===t.nodeType)&&u(p(e),t,!0)},m.applyBindings=function(e,t){if(!r&&n.jQuery&&(r=n.jQuery),t&&1!==t.nodeType&&8!==t.nodeType)throw new Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");t=t||n.document.body,c(p(e),t,!0)},m.contextFor=function(e){switch(e.nodeType){case 1:case 8:var n=m.storedBindingContextForNode(e);if(n)return n;if(e.parentNode)return m.contextFor(e.parentNode)}return t},m.dataFor=function(e){var n=m.contextFor(e);return n?n.$data:t},m.exportSymbol("bindingHandlers",m.bindingHandlers),m.exportSymbol("applyBindings",m.applyBindings),m.exportSymbol("applyBindingsToDescendants",m.applyBindingsToDescendants),m.exportSymbol("applyBindingAccessorsToNode",m.applyBindingAccessorsToNode),m.exportSymbol("applyBindingsToNode",m.applyBindingsToNode),m.exportSymbol("contextFor",m.contextFor),m.exportSymbol("dataFor",m.dataFor)}(),function(e){function t(t,n){return t.hasOwnProperty(n)?t[n]:e}function n(e,n){var o,a=t(r,e);a||(a=r[e]=new m.subscribable,i(e,function(t){s[e]=t,delete r[e],o?a.notifySubscribers(t):setTimeout(function(){a.notifySubscribers(t)},0)}),o=!0),a.subscribe(n)}function i(e,t){o("getConfig",[e],function(n){n?o("loadComponent",[e,n],function(e){t(e)}):t(null)})}function o(t,n,i,r){r||(r=m.components.loaders.slice(0));var s=r.shift();if(s){var a=s[t];if(a){var l=!1,u=a.apply(s,n.concat(function(e){l?i(null):null!==e?i(e):o(t,n,i,r)}));if(u!==e&&(l=!0,!s.suppressLoaderExceptions))throw new Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.")}else o(t,n,i,r)}else i(null)}var r={},s={};m.components={get:function(e,i){var o=t(s,e);o?setTimeout(function(){i(o)},0):n(e,i)},clearCachedDefinition:function(e){delete s[e]},_getFirstResultFromLoaders:o},m.components.loaders=[],m.exportSymbol("components",m.components),m.exportSymbol("components.get",m.components.get),m.exportSymbol("components.clearCachedDefinition",m.components.clearCachedDefinition)}(),function(){function e(e,t,n,i){var o={},r=2,s=function(){0===--r&&i(o)},a=n.template,l=n.viewModel;a?u(t,a,function(t){m.components._getFirstResultFromLoaders("loadTemplate",[e,t],function(e){o.template=e,s()})}):s(),l?u(t,l,function(t){m.components._getFirstResultFromLoaders("loadViewModel",[e,t],function(e){o[h]=e,s()})}):s()}function t(e,t,n){if("string"==typeof t)n(m.utils.parseHtmlFragment(t));else if(t instanceof Array)n(t);else if(a(t))n(m.utils.makeArray(t.childNodes));else if(t.element){var o=t.element;if(s(o))n(r(o));else if("string"==typeof o){var l=i.getElementById(o);l?n(r(l)):e("Cannot find element with ID "+o)}else e("Unknown element type: "+o)}else e("Unknown template value: "+t)}function o(e,t,n){if("function"==typeof t)n(function(e){return new t(e)});else if("function"==typeof t[h])n(t[h]);else if("instance"in t){var i=t.instance;n(function(){return i})}else"viewModel"in t?o(e,t.viewModel,n):e("Unknown viewModel value: "+t)}function r(e){switch(m.utils.tagNameLower(e)){case"script":return m.utils.parseHtmlFragment(e.text);case"textarea":return m.utils.parseHtmlFragment(e.value);case"template":if(a(e.content))return m.utils.cloneNodes(e.content.childNodes)}return m.utils.cloneNodes(e.childNodes)}function s(e){return n.HTMLElement?e instanceof HTMLElement:e&&e.tagName&&1===e.nodeType}function a(e){return n.DocumentFragment?e instanceof DocumentFragment:e&&11===e.nodeType}function u(e,t,i){"string"==typeof t.require?l||n.require?(l||n.require)([t.require],i):e("Uses require, but no AMD loader is present"):i(t)}function c(e){return function(t){throw new Error("Component '"+e+"': "+t)}}var d={};m.components.register=function(e,t){if(!t)throw new Error("Invalid configuration for "+e);if(m.components.isRegistered(e))throw new Error("Component "+e+" is already registered");d[e]=t},m.components.isRegistered=function(e){return e in d},m.components.unregister=function(e){delete d[e],m.components.clearCachedDefinition(e)},m.components.defaultLoader={getConfig:function(e,t){var n=d.hasOwnProperty(e)?d[e]:null;t(n)},loadComponent:function(t,n,i){var o=c(t);u(o,n,function(n){e(t,o,n,i)})},loadTemplate:function(e,n,i){t(c(e),n,i)},loadViewModel:function(e,t,n){o(c(e),t,n)}};var h="createViewModel";m.exportSymbol("components.register",m.components.register),m.exportSymbol("components.isRegistered",m.components.isRegistered),m.exportSymbol("components.unregister",m.components.unregister),m.exportSymbol("components.defaultLoader",m.components.defaultLoader),m.components.loaders.push(m.components.defaultLoader),m.components._allRegisteredComponents=d}(),function(){function e(e,n){var i=e.getAttribute("params");if(i){var o=t.parseBindingsString(i,n,e,{valueAccessors:!0,bindingParams:!0}),r=m.utils.objectMap(o,function(t){return m.computed(t,null,{disposeWhenNodeIsRemoved:e})}),s=m.utils.objectMap(r,function(t){return t.isActive()?m.computed(function(){return m.utils.unwrapObservable(t())},null,{disposeWhenNodeIsRemoved:e}):t.peek()});return s.hasOwnProperty("$raw")||(s.$raw=r),s}return{$raw:{}}}m.components.getComponentNameForNode=function(e){var t=m.utils.tagNameLower(e);return m.components.isRegistered(t)&&t},m.components.addBindingsForCustomElement=function(t,n,i,o){if(1===n.nodeType){var r=m.components.getComponentNameForNode(n);if(r){if(t=t||{},t.component)throw new Error('Cannot use the "component" binding on a custom element matching a component');var s={name:r,params:e(n,i)};t.component=o?function(){return s}:s}}return t};var t=new m.bindingProvider;m.utils.ieVersion<9&&(m.components.register=function(e){return function(t){return i.createElement(t),e.apply(this,arguments)}}(m.components.register),i.createDocumentFragment=function(e){return function(){var t=e(),n=m.components._allRegisteredComponents;for(var i in n)n.hasOwnProperty(i)&&t.createElement(i);return t}}(i.createDocumentFragment))}(),function(){function e(e,t,n){var i=t.template;if(!i)throw new Error("Component '"+e+"' has no template");var o=m.utils.cloneNodes(i);m.virtualElements.setDomNodeChildren(n,o)}function t(e,t,n){var i=e.createViewModel;return i?i.call(e,n,{element:t}):n}var n=0;m.bindingHandlers.component={init:function(i,o,r,s,a){var l,u,c=function(){var e=l&&l.dispose;"function"==typeof e&&e.call(l),u=null};return m.utils.domNodeDisposal.addDisposeCallback(i,c),m.computed(function(){var r,s,d=m.utils.unwrapObservable(o());if("string"==typeof d?r=d:(r=m.utils.unwrapObservable(d.name),s=m.utils.unwrapObservable(d.params)),!r)throw new Error("No component name specified");var h=u=++n;m.components.get(r,function(n){if(u===h){if(c(),!n)throw new Error("Unknown component '"+r+"'");e(r,n,i);var o=t(n,i,s),d=a.createChildContext(o);l=o,m.applyBindingsToDescendants(d,i)}})},null,{disposeWhenNodeIsRemoved:i}),{controlsDescendantBindings:!0}}},m.virtualElements.allowedBindings.component=!0}();var k={"class":"className","for":"htmlFor"};m.bindingHandlers.attr={update:function(e,n){var i=m.utils.unwrapObservable(n())||{};m.utils.objectForEach(i,function(n,i){i=m.utils.unwrapObservable(i);var o=i===!1||null===i||i===t;o&&e.removeAttribute(n),m.utils.ieVersion<=8&&n in k?(n=k[n],o?e.removeAttribute(n):e[n]=i):o||e.setAttribute(n,i.toString()),"name"===n&&m.utils.setElementName(e,o?"":i.toString())})}},function(){m.bindingHandlers.checked={after:["value","attr"],init:function(e,n,i){function o(){var t=e.checked,o=d?s():t;if(!m.computedContext.isInitial()&&(!l||t)){var r=m.dependencyDetection.ignore(n);u?c!==o?(t&&(m.utils.addOrRemoveItem(r,o,!0),m.utils.addOrRemoveItem(r,c,!1)),c=o):m.utils.addOrRemoveItem(r,o,t):m.expressionRewriting.writeValueToProperty(r,i,"checked",o,!0)}}function r(){var t=m.utils.unwrapObservable(n());e.checked=u?m.utils.arrayIndexOf(t,s())>=0:a?t:s()===t}var s=m.pureComputed(function(){return i.has("checkedValue")?m.utils.unwrapObservable(i.get("checkedValue")):i.has("value")?m.utils.unwrapObservable(i.get("value")):e.value}),a="checkbox"==e.type,l="radio"==e.type;if(a||l){var u=a&&m.utils.unwrapObservable(n())instanceof Array,c=u?s():t,d=l||u;l&&!e.name&&m.bindingHandlers.uniqueName.init(e,function(){return!0}),m.computed(o,null,{disposeWhenNodeIsRemoved:e}),m.utils.registerEventHandler(e,"click",o),m.computed(r,null,{disposeWhenNodeIsRemoved:e})}}},m.expressionRewriting.twoWayBindings.checked=!0,m.bindingHandlers.checkedValue={update:function(e,t){e.value=m.utils.unwrapObservable(t())}}}();var x="__ko__cssValue";m.bindingHandlers.css={update:function(e,t){var n=m.utils.unwrapObservable(t());"object"==typeof n?m.utils.objectForEach(n,function(t,n){n=m.utils.unwrapObservable(n),m.utils.toggleDomNodeCssClass(e,t,n)}):(n=String(n||""),m.utils.toggleDomNodeCssClass(e,e[x],!1),e[x]=n,m.utils.toggleDomNodeCssClass(e,n,!0))}},m.bindingHandlers.enable={update:function(e,t){var n=m.utils.unwrapObservable(t());n&&e.disabled?e.removeAttribute("disabled"):n||e.disabled||(e.disabled=!0)}},m.bindingHandlers.disable={update:function(e,t){m.bindingHandlers.enable.update(e,function(){return!m.utils.unwrapObservable(t())})}},m.bindingHandlers.event={init:function(e,t,n,i,o){var r=t()||{};m.utils.objectForEach(r,function(r){"string"==typeof r&&m.utils.registerEventHandler(e,r,function(e){var s,a=t()[r];if(a){try{var l=m.utils.makeArray(arguments);i=o.$data,l.unshift(i),s=a.apply(i,l)}finally{s!==!0&&(e.preventDefault?e.preventDefault():e.returnValue=!1)}var u=n.get(r+"Bubble")!==!1;u||(e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation())}})})}},m.bindingHandlers.foreach={makeTemplateValueAccessor:function(e){return function(){var t=e(),n=m.utils.peekObservable(t);return n&&"number"!=typeof n.length?(m.utils.unwrapObservable(t),{foreach:n.data,as:n.as,includeDestroyed:n.includeDestroyed,afterAdd:n.afterAdd,beforeRemove:n.beforeRemove,afterRender:n.afterRender,beforeMove:n.beforeMove,afterMove:n.afterMove,templateEngine:m.nativeTemplateEngine.instance}):{foreach:t,templateEngine:m.nativeTemplateEngine.instance}}},init:function(e,t){return m.bindingHandlers.template.init(e,m.bindingHandlers.foreach.makeTemplateValueAccessor(t))},update:function(e,t,n,i,o){return m.bindingHandlers.template.update(e,m.bindingHandlers.foreach.makeTemplateValueAccessor(t),n,i,o)}},m.expressionRewriting.bindingRewriteValidators.foreach=!1,m.virtualElements.allowedBindings.foreach=!0;var D="__ko_hasfocusUpdating",_="__ko_hasfocusLastValue";m.bindingHandlers.hasfocus={init:function(e,t,n){var i=function(i){e[D]=!0;var o=e.ownerDocument;if("activeElement"in o){var r;try{r=o.activeElement}catch(s){r=o.body}i=r===e}var a=t();m.expressionRewriting.writeValueToProperty(a,n,"hasfocus",i,!0),e[_]=i,e[D]=!1},o=i.bind(null,!0),r=i.bind(null,!1);m.utils.registerEventHandler(e,"focus",o),m.utils.registerEventHandler(e,"focusin",o),m.utils.registerEventHandler(e,"blur",r),m.utils.registerEventHandler(e,"focusout",r)},update:function(e,t){var n=!!m.utils.unwrapObservable(t());e[D]||e[_]===n||(n?e.focus():e.blur(),m.dependencyDetection.ignore(m.utils.triggerEvent,null,[e,n?"focusin":"focusout"]))}},m.expressionRewriting.twoWayBindings.hasfocus=!0,m.bindingHandlers.hasFocus=m.bindingHandlers.hasfocus,m.expressionRewriting.twoWayBindings.hasFocus=!0,m.bindingHandlers.html={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){m.utils.setHtml(e,t())}},f("if"),f("ifnot",!1,!0),f("with",!0,!1,function(e,t){return e.createChildContext(t)});var S={};m.bindingHandlers.options={init:function(e){if("select"!==m.utils.tagNameLower(e))throw new Error("options binding applies only to SELECT elements");for(;e.length>0;)e.remove(0);return{controlsDescendantBindings:!0}},update:function(e,n,i){function o(){return m.utils.arrayFilter(e.options,function(e){return e.selected})}function r(e,t,n){var i=typeof t;return"function"==i?t(e):"string"==i?e[t]:n}function s(n,o,s){s.length&&(c=s[0].selected?[m.selectExtensions.readValue(s[0])]:[],v=!0);var a=e.ownerDocument.createElement("option");if(n===S)m.utils.setTextContent(a,i.get("optionsCaption")),m.selectExtensions.writeValue(a,t);else{var l=r(n,i.get("optionsValue"),n);m.selectExtensions.writeValue(a,m.utils.unwrapObservable(l));var u=r(n,i.get("optionsText"),l);m.utils.setTextContent(a,u)}return[a]}function a(t,n){if(c.length){var i=m.utils.arrayIndexOf(c,m.selectExtensions.readValue(n[0]))>=0;m.utils.setOptionNodeSelectionState(n[0],i),v&&!i&&m.dependencyDetection.ignore(m.utils.triggerEvent,null,[e,"change"])}}var l,u,c,d=0==e.length,h=!d&&e.multiple?e.scrollTop:null,p=m.utils.unwrapObservable(n()),f=i.get("optionsIncludeDestroyed"),g={};c=e.multiple?m.utils.arrayMap(o(),m.selectExtensions.readValue):e.selectedIndex>=0?[m.selectExtensions.readValue(e.options[e.selectedIndex])]:[],p&&("undefined"==typeof p.length&&(p=[p]),u=m.utils.arrayFilter(p,function(e){return f||e===t||null===e||!m.utils.unwrapObservable(e._destroy)}),i.has("optionsCaption")&&(l=m.utils.unwrapObservable(i.get("optionsCaption")),null!==l&&l!==t&&u.unshift(S)));var v=!1;g.beforeRemove=function(t){e.removeChild(t)};var y=a;i.has("optionsAfterRender")&&(y=function(e,n){a(e,n),m.dependencyDetection.ignore(i.get("optionsAfterRender"),null,[n[0],e!==S?e:t])}),m.utils.setDomNodeChildrenFromArrayMapping(e,u,s,g,y),m.dependencyDetection.ignore(function(){if(i.get("valueAllowUnset")&&i.has("value"))m.selectExtensions.writeValue(e,m.utils.unwrapObservable(i.get("value")),!0);else{var t;t=e.multiple?c.length&&o().length<c.length:c.length&&e.selectedIndex>=0?m.selectExtensions.readValue(e.options[e.selectedIndex])!==c[0]:c.length||e.selectedIndex>=0,t&&m.utils.triggerEvent(e,"change")}}),m.utils.ensureSelectElementIsRenderedCorrectly(e),h&&Math.abs(h-e.scrollTop)>20&&(e.scrollTop=h)}},m.bindingHandlers.options.optionValueDomDataKey=m.utils.domData.nextKey(),m.bindingHandlers.selectedOptions={after:["options","foreach"],init:function(e,t,n){m.utils.registerEventHandler(e,"change",function(){var i=t(),o=[];m.utils.arrayForEach(e.getElementsByTagName("option"),function(e){e.selected&&o.push(m.selectExtensions.readValue(e))}),m.expressionRewriting.writeValueToProperty(i,n,"selectedOptions",o)})},update:function(e,t){if("select"!=m.utils.tagNameLower(e))throw new Error("values binding applies only to SELECT elements");var n=m.utils.unwrapObservable(t());n&&"number"==typeof n.length&&m.utils.arrayForEach(e.getElementsByTagName("option"),function(e){var t=m.utils.arrayIndexOf(n,m.selectExtensions.readValue(e))>=0;m.utils.setOptionNodeSelectionState(e,t)})}},m.expressionRewriting.twoWayBindings.selectedOptions=!0,m.bindingHandlers.style={update:function(e,n){var i=m.utils.unwrapObservable(n()||{});m.utils.objectForEach(i,function(n,i){i=m.utils.unwrapObservable(i),(null===i||i===t||i===!1)&&(i=""),e.style[n]=i})}},m.bindingHandlers.submit={init:function(e,t,n,i,o){if("function"!=typeof t())throw new Error("The value for a submit binding must be a function");m.utils.registerEventHandler(e,"submit",function(n){var i,r=t();try{i=r.call(o.$data,e)}finally{i!==!0&&(n.preventDefault?n.preventDefault():n.returnValue=!1)}})}},m.bindingHandlers.text={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){m.utils.setTextContent(e,t())}},m.virtualElements.allowedBindings.text=!0,function(){if(n&&n.navigator)var i=function(e){return e?parseFloat(e[1]):void 0},o=n.opera&&n.opera.version&&parseInt(n.opera.version()),r=n.navigator.userAgent,s=i(r.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),a=i(r.match(/Firefox\/([^ ]*)/));if(m.utils.ieVersion<10)var l=m.utils.domData.nextKey(),u=m.utils.domData.nextKey(),c=function(e){var t=this.activeElement,n=t&&m.utils.domData.get(t,u);n&&n(e)},d=function(e,t){var n=e.ownerDocument;m.utils.domData.get(n,l)||(m.utils.domData.set(n,l,!0),m.utils.registerEventHandler(n,"selectionchange",c)),m.utils.domData.set(e,u,t)};m.bindingHandlers.textInput={init:function(n,i,r){var l,u,c=n.value,h=function(o){clearTimeout(l),u=l=t;var s=n.value;c!==s&&(e&&o&&(n._ko_textInputProcessedEvent=o.type),c=s,m.expressionRewriting.writeValueToProperty(i(),r,"textInput",s))},p=function(t){if(!l){u=n.value;var i=e?h.bind(n,{type:t.type}):h;l=setTimeout(i,4)}},f=function(){var e=m.utils.unwrapObservable(i());return(null===e||e===t)&&(e=""),u!==t&&e===u?void setTimeout(f,4):void(n.value!==e&&(c=e,n.value=e))},g=function(e,t){m.utils.registerEventHandler(n,e,t)};e&&m.bindingHandlers.textInput._forceUpdateOn?m.utils.arrayForEach(m.bindingHandlers.textInput._forceUpdateOn,function(e){"after"==e.slice(0,5)?g(e.slice(5),p):g(e,h)}):m.utils.ieVersion<10?(g("propertychange",function(e){"value"===e.propertyName&&h(e)}),8==m.utils.ieVersion&&(g("keyup",h),g("keydown",h)),m.utils.ieVersion>=8&&(d(n,h),g("dragend",p))):(g("input",h),5>s&&"textarea"===m.utils.tagNameLower(n)?(g("keydown",p),g("paste",p),g("cut",p)):11>o?g("keydown",p):4>a&&(g("DOMAutoComplete",h),g("dragdrop",h),g("drop",h))),g("change",h),m.computed(f,null,{disposeWhenNodeIsRemoved:n})}},m.expressionRewriting.twoWayBindings.textInput=!0,m.bindingHandlers.textinput={preprocess:function(e,t,n){n("textInput",e)}}}(),m.bindingHandlers.uniqueName={init:function(e,t){if(t()){var n="ko_unique_"+ ++m.bindingHandlers.uniqueName.currentIndex;m.utils.setElementName(e,n)}}},m.bindingHandlers.uniqueName.currentIndex=0,m.bindingHandlers.value={after:["options","foreach"],init:function(e,t,n){if("input"==e.tagName.toLowerCase()&&("checkbox"==e.type||"radio"==e.type))return void m.applyBindingAccessorsToNode(e,{checkedValue:t});var i=["change"],o=n.get("valueUpdate"),r=!1,s=null;o&&("string"==typeof o&&(o=[o]),m.utils.arrayPushAll(i,o),i=m.utils.arrayGetDistinctValues(i));var a=function(){s=null,r=!1;var i=t(),o=m.selectExtensions.readValue(e);m.expressionRewriting.writeValueToProperty(i,n,"value",o)},l=m.utils.ieVersion&&"input"==e.tagName.toLowerCase()&&"text"==e.type&&"off"!=e.autocomplete&&(!e.form||"off"!=e.form.autocomplete);l&&-1==m.utils.arrayIndexOf(i,"propertychange")&&(m.utils.registerEventHandler(e,"propertychange",function(){r=!0}),m.utils.registerEventHandler(e,"focus",function(){r=!1}),m.utils.registerEventHandler(e,"blur",function(){r&&a()})),m.utils.arrayForEach(i,function(t){var n=a;m.utils.stringStartsWith(t,"after")&&(n=function(){s=m.selectExtensions.readValue(e),setTimeout(a,0)},t=t.substring("after".length)),m.utils.registerEventHandler(e,t,n)});var u=function(){var i=m.utils.unwrapObservable(t()),o=m.selectExtensions.readValue(e);if(null!==s&&i===s)return void setTimeout(u,0);var r=i!==o;if(r)if("select"===m.utils.tagNameLower(e)){var a=n.get("valueAllowUnset"),l=function(){m.selectExtensions.writeValue(e,i,a)};l(),a||i===m.selectExtensions.readValue(e)?setTimeout(l,0):m.dependencyDetection.ignore(m.utils.triggerEvent,null,[e,"change"])}else m.selectExtensions.writeValue(e,i)};m.computed(u,null,{disposeWhenNodeIsRemoved:e})},update:function(){}},m.expressionRewriting.twoWayBindings.value=!0,m.bindingHandlers.visible={update:function(e,t){var n=m.utils.unwrapObservable(t()),i=!("none"==e.style.display);n&&!i?e.style.display="":!n&&i&&(e.style.display="none")}},p("click"),m.templateEngine=function(){},m.templateEngine.prototype.renderTemplateSource=function(){throw new Error("Override renderTemplateSource")},m.templateEngine.prototype.createJavaScriptEvaluatorBlock=function(){throw new Error("Override createJavaScriptEvaluatorBlock")},m.templateEngine.prototype.makeTemplateSource=function(e,t){if("string"==typeof e){t=t||i;var n=t.getElementById(e);if(!n)throw new Error("Cannot find template with ID "+e);return new m.templateSources.domElement(n)}if(1==e.nodeType||8==e.nodeType)return new m.templateSources.anonymousTemplate(e);throw new Error("Unknown template type: "+e)},m.templateEngine.prototype.renderTemplate=function(e,t,n,i){var o=this.makeTemplateSource(e,i);return this.renderTemplateSource(o,t,n)},m.templateEngine.prototype.isTemplateRewritten=function(e,t){return this.allowTemplateRewriting===!1?!0:this.makeTemplateSource(e,t).data("isRewritten")},m.templateEngine.prototype.rewriteTemplate=function(e,t,n){var i=this.makeTemplateSource(e,n),o=t(i.text());i.text(o),i.data("isRewritten",!0)},m.exportSymbol("templateEngine",m.templateEngine),m.templateRewriting=function(){function e(e){for(var t=m.expressionRewriting.bindingRewriteValidators,n=0;n<e.length;n++){var i=e[n].key;if(t.hasOwnProperty(i)){var o=t[i];if("function"==typeof o){var r=o(e[n].value);if(r)throw new Error(r)}else if(!o)throw new Error("This template engine does not support the '"+i+"' binding within its templates")}}}function t(t,n,i,o){var r=m.expressionRewriting.parseObjectLiteral(t);e(r);var s=m.expressionRewriting.preProcessBindings(r,{valueAccessors:!0}),a="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+s+" } })()},'"+i.toLowerCase()+"')";return o.createJavaScriptEvaluatorBlock(a)+n}var n=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,i=/<!--\s*ko\b\s*([\s\S]*?)\s*-->/g;return{ensureTemplateIsRewritten:function(e,t,n){t.isTemplateRewritten(e,n)||t.rewriteTemplate(e,function(e){return m.templateRewriting.memoizeBindingAttributeSyntax(e,t)},n)},memoizeBindingAttributeSyntax:function(e,o){return e.replace(n,function(){return t(arguments[4],arguments[1],arguments[2],o)}).replace(i,function(){return t(arguments[1],"<!-- ko -->","#comment",o)})},applyMemoizedBindingsToNextSibling:function(e,t){return m.memoization.memoize(function(n,i){var o=n.nextSibling;o&&o.nodeName.toLowerCase()===t&&m.applyBindingAccessorsToNode(o,e,i)})}}}(),m.exportSymbol("__tr_ambtns",m.templateRewriting.applyMemoizedBindingsToNextSibling),function(){m.templateSources={},m.templateSources.domElement=function(e){this.domElement=e},m.templateSources.domElement.prototype.text=function(){var e=m.utils.tagNameLower(this.domElement),t="script"===e?"text":"textarea"===e?"value":"innerHTML";if(0==arguments.length)return this.domElement[t];var n=arguments[0];"innerHTML"===t?m.utils.setHtml(this.domElement,n):this.domElement[t]=n};var e=m.utils.domData.nextKey()+"_";m.templateSources.domElement.prototype.data=function(t){return 1===arguments.length?m.utils.domData.get(this.domElement,e+t):void m.utils.domData.set(this.domElement,e+t,arguments[1])};var n=m.utils.domData.nextKey();m.templateSources.anonymousTemplate=function(e){this.domElement=e},m.templateSources.anonymousTemplate.prototype=new m.templateSources.domElement,m.templateSources.anonymousTemplate.prototype.constructor=m.templateSources.anonymousTemplate,m.templateSources.anonymousTemplate.prototype.text=function(){if(0==arguments.length){var e=m.utils.domData.get(this.domElement,n)||{};return e.textData===t&&e.containerData&&(e.textData=e.containerData.innerHTML),e.textData}var i=arguments[0];m.utils.domData.set(this.domElement,n,{textData:i})},m.templateSources.domElement.prototype.nodes=function(){if(0==arguments.length){var e=m.utils.domData.get(this.domElement,n)||{};return e.containerData}var t=arguments[0];m.utils.domData.set(this.domElement,n,{containerData:t})},m.exportSymbol("templateSources",m.templateSources),m.exportSymbol("templateSources.domElement",m.templateSources.domElement),m.exportSymbol("templateSources.anonymousTemplate",m.templateSources.anonymousTemplate)}(),function(){function e(e,t,n){for(var i,o=e,r=m.virtualElements.nextSibling(t);o&&(i=o)!==r;)o=m.virtualElements.nextSibling(i),n(i,o)}function n(t,n){if(t.length){var i=t[0],o=t[t.length-1],r=i.parentNode,s=m.bindingProvider.instance,a=s.preprocessNode;if(a){if(e(i,o,function(e,t){var n=e.previousSibling,r=a.call(s,e);r&&(e===i&&(i=r[0]||t),e===o&&(o=r[r.length-1]||n))}),t.length=0,!i)return;i===o?t.push(i):(t.push(i,o),m.utils.fixUpContinuousNodeArray(t,r))}e(i,o,function(e){(1===e.nodeType||8===e.nodeType)&&m.applyBindings(n,e)}),e(i,o,function(e){(1===e.nodeType||8===e.nodeType)&&m.memoization.unmemoizeDomNodeAndDescendants(e,[n])}),m.utils.fixUpContinuousNodeArray(t,r)}}function i(e){return e.nodeType?e:e.length>0?e[0]:null}function o(e,t,o,r,s){s=s||{};var l=e&&i(e),u=l&&l.ownerDocument,c=s.templateEngine||a;m.templateRewriting.ensureTemplateIsRewritten(o,c,u);var d=c.renderTemplate(o,r,s,u);if("number"!=typeof d.length||d.length>0&&"number"!=typeof d[0].nodeType)throw new Error("Template engine must return an array of DOM nodes");var h=!1;switch(t){case"replaceChildren":m.virtualElements.setDomNodeChildren(e,d),h=!0;break;case"replaceNode":m.utils.replaceDomNodes(e,d),h=!0;break;case"ignoreTargetNode":break;default:throw new Error("Unknown renderMode: "+t)}return h&&(n(d,r),s.afterRender&&m.dependencyDetection.ignore(s.afterRender,null,[d,r.$data])),d}function r(e,t,n){return m.isObservable(e)?e():"function"==typeof e?e(t,n):e}function s(e,n){var i=m.utils.domData.get(e,l);i&&"function"==typeof i.dispose&&i.dispose(),m.utils.domData.set(e,l,n&&n.isActive()?n:t)}var a;m.setTemplateEngine=function(e){if(e!=t&&!(e instanceof m.templateEngine))throw new Error("templateEngine must inherit from ko.templateEngine");a=e},m.renderTemplate=function(e,n,s,l,u){if(s=s||{},(s.templateEngine||a)==t)throw new Error("Set a template engine before calling renderTemplate");if(u=u||"replaceChildren",l){var c=i(l),d=function(){return!c||!m.utils.domNodeIsAttachedToDocument(c)},h=c&&"replaceNode"==u?c.parentNode:c;return m.dependentObservable(function(){var t=n&&n instanceof m.bindingContext?n:new m.bindingContext(m.utils.unwrapObservable(n)),a=r(e,t.$data,t),d=o(l,u,a,t,s);"replaceNode"==u&&(l=d,c=i(l))},null,{disposeWhen:d,disposeWhenNodeIsRemoved:h})}return m.memoization.memoize(function(t){m.renderTemplate(e,n,s,t,"replaceNode")})},m.renderTemplateForEach=function(e,i,s,a,l){var u,c=function(t,n){u=l.createChildContext(t,s.as,function(e){e.$index=n});var i=r(e,t,u);return o(null,"ignoreTargetNode",i,u,s)},d=function(e,t){n(t,u),s.afterRender&&s.afterRender(t,e)};return m.dependentObservable(function(){var e=m.utils.unwrapObservable(i)||[];"undefined"==typeof e.length&&(e=[e]);var n=m.utils.arrayFilter(e,function(e){return s.includeDestroyed||e===t||null===e||!m.utils.unwrapObservable(e._destroy)});m.dependencyDetection.ignore(m.utils.setDomNodeChildrenFromArrayMapping,null,[a,n,c,s,d])},null,{disposeWhenNodeIsRemoved:a})};var l=m.utils.domData.nextKey();m.bindingHandlers.template={init:function(e,t){var n=m.utils.unwrapObservable(t());if("string"==typeof n||n.name)m.virtualElements.emptyNode(e);else{var i=m.virtualElements.childNodes(e),o=m.utils.moveCleanedNodesToContainerElement(i);new m.templateSources.anonymousTemplate(e).nodes(o)}return{controlsDescendantBindings:!0}},update:function(e,t,n,i,o){var r,a,l=t(),u=m.utils.unwrapObservable(l),c=!0,d=null;if("string"==typeof u?(a=l,u={}):(a=u.name,"if"in u&&(c=m.utils.unwrapObservable(u["if"])),c&&"ifnot"in u&&(c=!m.utils.unwrapObservable(u.ifnot)),r=m.utils.unwrapObservable(u.data)),"foreach"in u){var h=c&&u.foreach||[];d=m.renderTemplateForEach(a||e,h,u,e,o)
}else if(c){var p="data"in u?o.createChildContext(r,u.as):o;d=m.renderTemplate(a||e,p,u,e)}else m.virtualElements.emptyNode(e);s(e,d)}},m.expressionRewriting.bindingRewriteValidators.template=function(e){var t=m.expressionRewriting.parseObjectLiteral(e);return 1==t.length&&t[0].unknown?null:m.expressionRewriting.keyValueArrayContainsKey(t,"name")?null:"This template engine does not support anonymous templates nested within its templates"},m.virtualElements.allowedBindings.template=!0}(),m.exportSymbol("setTemplateEngine",m.setTemplateEngine),m.exportSymbol("renderTemplate",m.renderTemplate),m.utils.findMovesInArrayComparison=function(e,t,n){if(e.length&&t.length){var i,o,r,s,a;for(i=o=0;(!n||n>i)&&(s=e[o]);++o){for(r=0;a=t[r];++r)if(s.value===a.value){s.moved=a.index,a.moved=s.index,t.splice(r,1),i=r=0;break}i+=r}}},m.utils.compareArrays=function(){function e(e,o,r){return r="boolean"==typeof r?{dontLimitMoves:r}:r||{},e=e||[],o=o||[],e.length<=o.length?t(e,o,n,i,r):t(o,e,i,n,r)}function t(e,t,n,i,o){var r,s,a,l,u,c,d=Math.min,h=Math.max,p=[],f=e.length,g=t.length,v=g-f||1,y=f+g+1;for(r=0;f>=r;r++)for(l=a,p.push(a=[]),u=d(g,r+v),c=h(0,r-1),s=c;u>=s;s++)if(s)if(r)if(e[r-1]===t[s-1])a[s]=l[s-1];else{var b=l[s]||y,w=a[s-1]||y;a[s]=d(b,w)+1}else a[s]=s+1;else a[s]=r+1;var C,k=[],x=[],D=[];for(r=f,s=g;r||s;)C=p[r][s]-1,s&&C===p[r][s-1]?x.push(k[k.length]={status:n,value:t[--s],index:s}):r&&C===p[r-1][s]?D.push(k[k.length]={status:i,value:e[--r],index:r}):(--s,--r,o.sparse||k.push({status:"retained",value:t[s]}));return m.utils.findMovesInArrayComparison(x,D,10*f),k.reverse()}var n="added",i="deleted";return e}(),m.exportSymbol("utils.compareArrays",m.utils.compareArrays),function(){function e(e,n,i,o,r){var s=[],a=m.dependentObservable(function(){var t=n(i,r,m.utils.fixUpContinuousNodeArray(s,e))||[];s.length>0&&(m.utils.replaceDomNodes(s,t),o&&m.dependencyDetection.ignore(o,null,[i,t,r])),s.length=0,m.utils.arrayPushAll(s,t)},null,{disposeWhenNodeIsRemoved:e,disposeWhen:function(){return!m.utils.anyDomNodeIsAttachedToDocument(s)}});return{mappedNodes:s,dependentObservable:a.isActive()?a:t}}var n=m.utils.domData.nextKey();m.utils.setDomNodeChildrenFromArrayMapping=function(i,o,r,s,a){function l(e,t){c=f[t],w!==t&&(D[e]=c),c.indexObservable(w++),m.utils.fixUpContinuousNodeArray(c.mappedNodes,i),y.push(c),k.push(c)}function u(e,t){if(e)for(var n=0,i=t.length;i>n;n++)t[n]&&m.utils.arrayForEach(t[n].mappedNodes,function(i){e(i,n,t[n].arrayEntry)})}o=o||[],s=s||{};for(var c,d,h,p=m.utils.domData.get(i,n)===t,f=m.utils.domData.get(i,n)||[],g=m.utils.arrayMap(f,function(e){return e.arrayEntry}),v=m.utils.compareArrays(g,o,s.dontLimitMoves),y=[],b=0,w=0,C=[],k=[],x=[],D=[],_=[],S=0;d=v[S];S++)switch(h=d.moved,d.status){case"deleted":h===t&&(c=f[b],c.dependentObservable&&c.dependentObservable.dispose(),C.push.apply(C,m.utils.fixUpContinuousNodeArray(c.mappedNodes,i)),s.beforeRemove&&(x[S]=c,k.push(c))),b++;break;case"retained":l(S,b++);break;case"added":h!==t?l(S,h):(c={arrayEntry:d.value,indexObservable:m.observable(w++)},y.push(c),k.push(c),p||(_[S]=c))}u(s.beforeMove,D),m.utils.arrayForEach(C,s.beforeRemove?m.cleanNode:m.removeNode);for(var T,E,S=0,A=m.virtualElements.firstChild(i);c=k[S];S++){c.mappedNodes||m.utils.extend(c,e(i,r,c.arrayEntry,a,c.indexObservable));for(var M=0;E=c.mappedNodes[M];A=E.nextSibling,T=E,M++)E!==A&&m.virtualElements.insertAfter(i,E,T);!c.initialized&&a&&(a(c.arrayEntry,c.mappedNodes,c.indexObservable),c.initialized=!0)}u(s.beforeRemove,x),u(s.afterMove,D),u(s.afterAdd,_),m.utils.domData.set(i,n,y)}}(),m.exportSymbol("utils.setDomNodeChildrenFromArrayMapping",m.utils.setDomNodeChildrenFromArrayMapping),m.nativeTemplateEngine=function(){this.allowTemplateRewriting=!1},m.nativeTemplateEngine.prototype=new m.templateEngine,m.nativeTemplateEngine.prototype.constructor=m.nativeTemplateEngine,m.nativeTemplateEngine.prototype.renderTemplateSource=function(e){var t=!(m.utils.ieVersion<9),n=t?e.nodes:null,i=n?e.nodes():null;if(i)return m.utils.makeArray(i.cloneNode(!0).childNodes);var o=e.text();return m.utils.parseHtmlFragment(o)},m.nativeTemplateEngine.instance=new m.nativeTemplateEngine,m.setTemplateEngine(m.nativeTemplateEngine.instance),m.exportSymbol("nativeTemplateEngine",m.nativeTemplateEngine),function(){m.jqueryTmplTemplateEngine=function(){function e(){if(2>n)throw new Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.")}function t(e,t,n){return r.tmpl(e,t,n)}var n=this.jQueryTmplVersion=function(){if(!r||!r.tmpl)return 0;try{if(r.tmpl.tag.tmpl.open.toString().indexOf("__")>=0)return 2}catch(e){}return 1}();this.renderTemplateSource=function(n,o,s){s=s||{},e();var a=n.data("precompiled");if(!a){var l=n.text()||"";l="{{ko_with $item.koBindingContext}}"+l+"{{/ko_with}}",a=r.template(null,l),n.data("precompiled",a)}var u=[o.$data],c=r.extend({koBindingContext:o},s.templateOptions),d=t(a,u,c);return d.appendTo(i.createElement("div")),r.fragments={},d},this.createJavaScriptEvaluatorBlock=function(e){return"{{ko_code ((function() { return "+e+" })()) }}"},this.addTemplate=function(e,t){i.write("<script type='text/html' id='"+e+"'>"+t+"</script>")},n>0&&(r.tmpl.tag.ko_code={open:"__.push($1 || '');"},r.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},m.jqueryTmplTemplateEngine.prototype=new m.templateEngine,m.jqueryTmplTemplateEngine.prototype.constructor=m.jqueryTmplTemplateEngine;var e=new m.jqueryTmplTemplateEngine;e.jQueryTmplVersion>0&&m.setTemplateEngine(e),m.exportSymbol("jqueryTmplTemplateEngine",m.jqueryTmplTemplateEngine)}()})}()}(),!function(e,t){"use strict";function n(e){function t(t){return n.identifier&&t[n.identifier]===e[n.identifier]}var n=this;return this.rows.contains(t)?!1:(this.rows.push(e),!0)}function i(t){return t?e.extend({},this.cachedParams,{ctx:t}):this.cachedParams}function o(){var t={current:this.current,rowCount:this.rowCount,sort:this.sort,searchPhrase:this.searchPhrase},n=this.options.post;return n=e.isFunction(n)?n():n,this.options.requestHandler(e.extend(!0,t,n))}function r(t){return"."+e.trim(t).replace(/\s+/gm,".")}function s(){var t=this.options.url;return e.isFunction(t)?t():t}function a(){this.element.trigger("initialize"+M),c.call(this),this.selection=this.options.selection&&null!=this.identifier,h.call(this),p.call(this),S.call(this),_.call(this),f.call(this),d.call(this),this.element.trigger("initialized"+M)}function l(){this.options.highlightRows}function u(e){return e.visible}function c(){var t=this,n=this.element.find("thead > tr").first(),i=!1;n.children().each(function(){var n=e(this),o=n.data(),r={id:o.columnId,identifier:null==t.identifier&&o.identifier||!1,converter:t.options.converters[o.converter||o.type]||t.options.converters.string,text:n.text(),align:o.align||"left",headerAlign:o.headerAlign||"left",cssClass:o.cssClass||"",headerCssClass:o.headerCssClass||"",formatter:t.options.formatters[o.formatter]||null,order:i||"asc"!==o.order&&"desc"!==o.order?null:o.order,searchable:!(o.searchable===!1),sortable:!(o.sortable===!1),visible:!(o.visible===!1)};t.columns.push(r),null!=r.order&&(t.sort[r.id]=r.order),r.identifier&&(t.identifier=r.id,t.converter=r.converter),t.options.multiSort||null===r.order||(i=!0)})}function d(){function n(e){for(var t,n=new RegExp(r.searchPhrase,r.options.caseSensitive?"g":"gi"),i=0;i<r.columns.length;i++)if(t=r.columns[i],t.searchable&&t.visible&&t.converter.to(e[t.id]).search(n)>-1)return!0;return!1}function i(e,t){r.currentRows=e,r.total=t,r.totalPages=Math.ceil(t/r.rowCount),r.options.keepSelection||(r.selectedRows=[]),x.call(r,e),y.call(r),w.call(r),r.element._bgBusyAria(!1).trigger("loaded"+M)}var r=this,a=o.call(this),l=s.call(this);if(this.options.ajax&&(null==l||"string"!=typeof l||0===l.length))throw new Error("Url setting must be a none empty string or a function that returns one.");if(this.element._bgBusyAria(!0).trigger("load"+M),E.call(this),this.options.ajax)r.xqr&&r.xqr.abort(),r.xqr=e.post(l,a,function(t){r.xqr=null,"string"==typeof t&&(t=e.parseJSON(t)),t=r.options.responseHandler(t),r.current=t.current,i(t.rows,t.total)}).fail(function(e,t){r.xqr=null,"abort"!==t&&(b.call(r),r.element._bgBusyAria(!1).trigger("loaded"+M))});else{var u=this.searchPhrase.length>0?this.rows.where(n):this.rows,c=u.length;-1!==this.rowCount&&(u=u.page(this.current,this.rowCount)),t.setTimeout(function(){i(u,c)},10)}}function h(){if(!this.options.ajax){var t=this,i=this.element.find("tbody > tr");i.each(function(){var i=e(this),o=i.children("td"),r={};e.each(t.columns,function(e,t){r[t.id]=t.converter.from(o.eq(e).text())}),n.call(t,r)}),this.total=this.rows.length,this.totalPages=-1===this.rowCount?1:Math.ceil(this.total/this.rowCount),A.call(this)}}function p(){var t=this.options.templates,n=this.element.parent().hasClass(this.options.css.responsiveTable)?this.element.parent():this.element;this.element.addClass(this.options.css.table),0===this.element.children("tbody").length&&this.element.append(t.body),1&this.options.navigation&&(this.header=e(t.header.resolve(i.call(this,{id:this.element._bgId()+"-header"}))),n.before(this.header)),2&this.options.navigation&&(this.footer=e(t.footer.resolve(i.call(this,{id:this.element._bgId()+"-footer"}))),n.after(this.footer))}function f(){if(0!==this.options.navigation){var t=this.options.css,n=r(t.actions),o=this.header.find(n),s=this.footer.find(n);if(o.length+s.length>0){var a=this,l=this.options.templates,u=e(l.actions.resolve(i.call(this)));if(this.options.ajax){var c=l.icon.resolve(i.call(this,{iconCss:t.iconRefresh})),h=e(l.actionButton.resolve(i.call(this,{content:c,text:this.options.labels.refresh}))).on("click"+M,function(e){e.stopPropagation(),a.current=1,d.call(a)});u.append(h)}k.call(this,u),m.call(this,u),g.call(this,u),T.call(this,o,u,1),T.call(this,s,u,2)}}}function m(t){if(this.options.columnSelection&&this.columns.length>1){var n=this,o=this.options.css,s=this.options.templates,a=s.icon.resolve(i.call(this,{iconCss:o.iconColumns})),l=e(s.actionDropDown.resolve(i.call(this,{content:a}))),c=r(o.dropDownItem),h=r(o.dropDownItemCheckbox),p=r(o.dropDownMenuItems);e.each(this.columns,function(t,a){var f=e(s.actionDropDownCheckboxItem.resolve(i.call(n,{name:a.id,label:a.text,checked:a.visible}))).on("click"+M,c,function(t){t.stopPropagation();var i=e(this),o=i.find(h);if(!o.prop("disabled")){a.visible=o.prop("checked");var r=n.columns.where(u).length>1;i.parents(p).find(c+":has("+h+":checked)")._bgEnableAria(r).find(h)._bgEnableField(r),n.element.find("tbody").empty(),S.call(n),d.call(n)}});l.find(r(o.dropDownMenuItems)).append(f)}),t.append(l)}}function g(t){var n=this,o=this.options.css,r=this.options.templates,s=r.icon.resolve(i.call(this,{iconCss:o.iconFilters})),a=e(r.actionShowFilters.resolve(i.call(this,{content:s,text:this.options.labels.filters}))).on("click"+M,function(e){e.stopPropagation(),v.call(n)});t.append(a)}function v(){this.options.showFilters=!this.options.showFilters,this.options.showFiltersHandler(this.options.showFilters)}function y(){if(0!==this.options.navigation){var t=r(this.options.css.infos),n=this.header.find(t),o=this.footer.find(t);if(n.length+o.length>0){var s=this.current*this.rowCount,a=e(this.options.templates.infos.resolve(i.call(this,{end:0===this.total||-1===s||s>this.total?this.total:s,start:0===this.total?0:s-this.rowCount+1,total:this.total})));T.call(this,n,a,1),T.call(this,o,a,2)}}}function b(){var e=this.element.children("tbody").first(),t=this.options.templates,n=this.columns.where(u).length;this.selection&&(n+=1),e.html(t.noResults.resolve(i.call(this,{columns:n})))}function w(){if(0!==this.options.navigation){var t=r(this.options.css.pagination),n=this.header.find(t)._bgShowAria(-1!==this.rowCount),o=this.footer.find(t)._bgShowAria(-1!==this.rowCount);if(-1!==this.rowCount&&n.length+o.length>0){var s=this.options.templates,a=this.current,l=this.totalPages,u=e(s.pagination.resolve(i.call(this))),c=l-a,d=-1*(this.options.padding-a),h=c>=this.options.padding?Math.max(d,1):Math.max(d-this.options.padding+c,1),p=2*this.options.padding+1,f=l>=p?p:l;C.call(this,u,"first","&laquo;","first")._bgEnableAria(a>1),C.call(this,u,"prev","&lt;","prev")._bgEnableAria(a>1);for(var m=0;f>m;m++){var g=m+h;C.call(this,u,g,g,"page-"+g)._bgEnableAria()._bgSelectAria(g===a)}0===f&&C.call(this,u,1,1,"page-1")._bgEnableAria(!1)._bgSelectAria(),C.call(this,u,"next","&gt;","next")._bgEnableAria(l>a),C.call(this,u,"last","&raquo;","last")._bgEnableAria(l>a),T.call(this,n,u,1),T.call(this,o,u,2)}}}function C(t,n,o,s){var a=this,l=this.options.templates,u=this.options.css,c=i.call(this,{css:s,text:o,uri:"#"+n}),h=e(l.paginationItem.resolve(c)).on("click"+M,r(u.paginationButton),function(t){t.stopPropagation();var n=e(this),i=n.parent();if(!i.hasClass("active")&&!i.hasClass("disabled")){var o={first:1,prev:a.current-1,next:a.current+1,last:a.totalPages},r=n.attr("href").substr(1);a.current=o[r]||+r,d.call(a)}n.trigger("blur")});return t.append(h),h}function k(t){function n(e){return-1===e?o.options.labels.all:e}var o=this,s=this.options.rowCount;if(e.isArray(s)){var a=this.options.css,l=this.options.templates,u=e(l.actionDropDown.resolve(i.call(this,{content:this.rowCount}))),c=r(a.dropDownMenu),h=r(a.dropDownMenuText),p=r(a.dropDownMenuItems),f=r(a.dropDownItemButton);e.each(s,function(t,r){var s=e(l.actionDropDownItem.resolve(i.call(o,{text:n(r),uri:"#"+r})))._bgSelectAria(r===o.rowCount).on("click"+M,f,function(t){t.preventDefault();var i=e(this),r=+i.attr("href").substr(1);r!==o.rowCount&&(o.current=1,o.rowCount=r,i.parents(p).children().each(function(){var t=e(this),n=+t.find(f).attr("href").substr(1);t._bgSelectAria(n===r)}),i.parents(c).find(h).text(n(r)),d.call(o))});u.find(p).append(s)}),t.append(u)}}function x(t){if(t.length>0){var n=this,o=this.options.css,s=this.options.templates,a=this.element.children("tbody").first(),l=!0,u="",c="",d="",h="";e.each(t,function(t,r){if(c="",d=' data-row-id="'+(null==n.identifier?t:r[n.identifier])+'"',h="",n.selection){var a=-1!==e.inArray(r[n.identifier],n.selectedRows),p=s.select.resolve(i.call(n,{type:"checkbox",value:r[n.identifier],checked:a}));c+=s.cell.resolve(i.call(n,{content:p,css:o.selectCell})),l=l&&a,a&&(h+=o.selected,d+=' aria-selected="true"')}e.each(n.columns,function(t,a){if(a.visible){var l=e.isFunction(a.formatter)?a.formatter.call(n,a,r):a.converter.to(r[a.id]),u=a.cssClass.length>0?" "+a.cssClass:"";c+=s.cell.resolve(i.call(n,{content:null==l||""===l?"&nbsp;":l,css:("right"===a.align?o.right:"center"===a.align?o.center:o.left)+u}))}}),h.length>0&&(d+=' class="'+h+'"'),u+=s.row.resolve(i.call(n,{attr:d,cells:c}))}),n.element.find("thead "+r(n.options.css.selectBox)).prop("checked",l),a.html(u),D.call(this,a)}else b.call(this)}function D(t){var n=this,i=r(this.options.css.selectBox);this.selection&&t.off("click"+M,i).on("click"+M,i,function(t){t.stopPropagation();var i=e(this),o=n.converter.from(i.val());i.prop("checked")?n.select([o]):n.deselect([o])}),t.off("click"+M,"> tr").on("click"+M,"> tr",function(t){t.stopPropagation();var i=e(this),o=null==n.identifier?i.data("row-id"):n.converter.from(i.data("row-id")+""),r=null==n.identifier?n.currentRows[o]:n.currentRows.first(function(e){return e[n.identifier]===o});n.selection&&n.options.rowSelect&&(i.hasClass(n.options.css.selected)?n.deselect([o]):n.select([o])),n.element.trigger("click"+M,[n.columns,r])})}function _(){if(0!==this.options.navigation){var n=this.options.css,o=r(n.search),s=this.header.find(o),a=this.footer.find(o);if(s.length+a.length>0){var l=this,u=this.options.templates,c=null,d="",h=r(n.searchField),p=e(u.search.resolve(i.call(this))),f=p.is(h)?p:p.find(h);f.on("change"+M,function(n){n.stopPropagation();var i=e(this).val();d!==i&&(d=i,t.clearTimeout(c),c=t.setTimeout(function(){l.search(i)},250))}),T.call(this,s,p,1),T.call(this,a,p,2)}}}function S(){var t=this,n=this.element.find("thead > tr"),o=this.options.css,s=this.options.templates,a="",l=this.options.sorting;if(this.selection){var u=this.options.multiSelect?s.select.resolve(i.call(t,{type:"checkbox",value:"all"})):"";a+=s.rawHeaderCell.resolve(i.call(t,{content:u,css:o.selectCell}))}if(e.each(this.columns,function(e,n){if(n.visible){var r=t.sort[n.id],u=l&&r&&"asc"===r?o.iconUp:l&&r&&"desc"===r?o.iconDown:"",c=s.icon.resolve(i.call(t,{iconCss:u})),d=n.headerAlign,h=n.headerCssClass.length>0?" "+n.headerCssClass:"";a+=s.headerCell.resolve(i.call(t,{column:n,icon:c,sortable:l&&n.sortable&&o.sortable||"",css:("right"===d?o.right:"center"===d?o.center:o.left)+h}))}}),n.html(a),l){var c=r(o.sortable),h=r(o.icon);n.off("click"+M,c).on("click"+M,c,function(n){n.preventDefault();var i=e(this),r=i.data("column-id")||i.parents("th").first().data("column-id"),s=t.sort[r],a=i.find(h);if(t.options.multiSort||(i.parents("tr").first().find(h).removeClass(o.iconDown+" "+o.iconUp),t.sort={}),s&&"asc"===s)t.sort[r]="desc",a.removeClass(o.iconUp).addClass(o.iconDown);else if(s&&"desc"===s)if(t.options.multiSort){var l={};for(var u in t.sort)u!==r&&(l[u]=t.sort[u]);t.sort=l,a.removeClass(o.iconDown)}else t.sort[r]="asc",a.removeClass(o.iconDown).addClass(o.iconUp);else t.sort[r]="asc",a.addClass(o.iconUp);A.call(t),d.call(t)})}if(this.selection&&this.options.multiSelect){var p=r(o.selectBox);n.off("click"+M,p).on("click"+M,p,function(n){n.stopPropagation(),e(this).prop("checked")?t.select():t.deselect()})}}function T(t,n,i){this.options.navigation&i&&t.each(function(t,i){e(i).before(n.clone(!0)).remove()})}function E(){var e=this.options.templates,t=this.element.children("thead").first(),n=this.element.children("tbody").first(),o=n.find("tr > td").first(),r=this.element.height()-t.height()-(o.height()+20),s=this.columns.where(u).length;this.selection&&(s+=1),n.html(e.loading.resolve(i.call(this,{columns:s}))),-1!==this.rowCount&&r>0&&n.find("tr > td").css("padding","20px 0 "+r+"px")}function A(){function e(n,i,o){function r(e){return"asc"===a.order?e:-1*e}o=o||0;var s=o+1,a=t[o];return n[a.id]>i[a.id]?r(1):n[a.id]<i[a.id]?r(-1):t.length>s?e(n,i,s):0}var t=[];if(!this.options.ajax){for(var n in this.sort)(this.options.multiSort||0===t.length)&&t.push({id:n,order:this.sort[n]});t.length>0&&this.rows.sort(e)}}var M=".rs.jquery.bootgrid",N=function(t,n){this.element=e(t),this.origin=this.element.clone(),this.options=e.extend(!0,{},N.defaults,this.element.data(),n);var i=this.options.rowCount=this.element.data().rowCount||n.rowCount||this.options.rowCount;this.columns=[],this.current=1,this.currentRows=[],this.identifier=null,this.selection=!1,this.converter=null,this.rowCount=e.isArray(i)?i[0]:i,this.rows=[],this.searchPhrase="",this.selectedRows=[],this.sort={},this.total=0,this.totalPages=0,this.cachedParams={lbl:this.options.labels,css:this.options.css,ctx:{}},this.header=null,this.footer=null,this.xqr=null};if(N.defaults={navigation:3,padding:2,columnSelection:!0,rowCount:[10,25,50,-1],showFilters:!1,selection:!1,multiSelect:!1,rowSelect:!1,keepSelection:!1,highlightRows:!1,sorting:!0,multiSort:!1,ajax:!1,post:{},url:"",caseSensitive:!0,requestHandler:function(e){return e},showFiltersHandler:function(){},responseHandler:function(e){return e},converters:{numeric:{from:function(e){return+e},to:function(e){return e+""}},string:{from:function(e){return e},to:function(e){return e}}},css:{actions:"actions btn-group",center:"text-center",columnHeaderAnchor:"column-header-anchor",columnHeaderText:"text",dropDownItem:"dropdown-item",dropDownItemButton:"dropdown-item-button",dropDownItemCheckbox:"dropdown-item-checkbox",dropDownMenu:"dropdown btn-group",dropDownMenuItems:"dropdown-menu pull-right",dropDownMenuText:"dropdown-text",footer:"bootgrid-footer container-fluid",header:"bootgrid-header container-fluid",icon:"icon glyphicon",iconColumns:"glyphicon-th-list",iconDown:"glyphicon-chevron-down",iconRefresh:"glyphicon-refresh",iconFilters:"glyphicon-filter",iconUp:"glyphicon-chevron-up",infos:"infos",left:"text-left",pagination:"pagination",paginationButton:"button",responsiveTable:"table-responsive",right:"text-right",search:"search form-group",searchField:"search-field form-control",selectBox:"select-box",selectCell:"select-cell",selected:"active",sortable:"sortable",table:"bootgrid-table table"},formatters:{},labels:{all:"All",infos:"Showing {{ctx.start}} to {{ctx.end}} of {{ctx.total}} entries",loading:"Loading...",noResults:"No results found!",refresh:"Refresh",filters:"Filters",search:"Search"},templates:{actionButton:'<button class="btn btn-default" type="button" title="{{ctx.text}}">{{ctx.content}}</button>',actionDropDown:'<div class="{{css.dropDownMenu}}"><button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown"><span class="{{css.dropDownMenuText}}">{{ctx.content}}</span> <span class="caret"></span></button><ul class="{{css.dropDownMenuItems}}" role="menu"></ul></div>',actionDropDownItem:'<li><a href="{{ctx.uri}}" class="{{css.dropDownItem}} {{css.dropDownItemButton}}">{{ctx.text}}</a></li>',actionDropDownCheckboxItem:'<li><label class="{{css.dropDownItem}}"><input name="{{ctx.name}}" type="checkbox" value="1" class="{{css.dropDownItemCheckbox}}" {{ctx.checked}} /> {{ctx.label}}</label></li>',actionShowFilters:'<span class="btn btn-default" type="button" title="{{ctx.text}}">{{ctx.content}}</span>',actions:'<div class="{{css.actions}}"></div>',body:"<tbody></tbody>",cell:'<td class="{{ctx.css}}">{{ctx.content}}</td>',footer:'<div id="{{ctx.id}}" class="{{css.footer}}"><div class="row"><div class="col-sm-6"><p class="{{css.pagination}}"></p></div><div class="col-sm-6 infoBar"><p class="{{css.infos}}"></p></div></div></div>',header:'<div id="{{ctx.id}}" class="{{css.header}}"><div class="row"><div class="col-sm-12 actionBar"><p class="{{css.search}}"></p><p class="{{css.actions}}"></p></div></div></div>',headerCell:'<th data-column-id="{{ctx.column.id}}" class="{{ctx.css}}"><a href="javascript:void(0);" class="{{css.columnHeaderAnchor}} {{ctx.sortable}}"><span class="{{css.columnHeaderText}}">{{ctx.column.text}}</span>{{ctx.icon}}</a></th>',icon:'<span class="{{css.icon}} {{ctx.iconCss}}"></span>',infos:'<div class="{{css.infos}}">{{lbl.infos}}</div>',loading:'<tr><td colspan="{{ctx.columns}}" class="loading">{{lbl.loading}}</td></tr>',noResults:'<tr><td colspan="{{ctx.columns}}" class="no-results">{{lbl.noResults}}</td></tr>',pagination:'<ul class="{{css.pagination}}"></ul>',paginationItem:'<li class="{{ctx.css}}"><a href="{{ctx.uri}}" class="{{css.paginationButton}}">{{ctx.text}}</a></li>',rawHeaderCell:'<th class="{{ctx.css}}">{{ctx.content}}</th>',row:"<tr{{ctx.attr}}>{{ctx.cells}}</tr>",search:'<div class="{{css.search}}"><div class="input-group"><span class="{{css.icon}} input-group-addon glyphicon-search"></span> <input type="text" class="{{css.searchField}}" placeholder="{{lbl.search}}" /></div></div>',select:'<input name="select" type="{{ctx.type}}" class="{{css.selectBox}}" value="{{ctx.value}}" {{ctx.checked}} />'}},N.prototype.append=function(e){if(this.options.ajax);else{for(var t=[],i=0;i<e.length;i++)n.call(this,e[i])&&t.push(e[i]);A.call(this),l.call(this,t),d.call(this),this.element.trigger("appended"+M,[t])}return this},N.prototype.clear=function(){if(this.options.ajax);else{var t=e.extend([],this.rows);this.rows=[],this.current=1,this.total=0,d.call(this),this.element.trigger("cleared"+M,[t])}return this},N.prototype.destroy=function(){return e(t).off(M),1&this.options.navigation&&this.header.remove(),2&this.options.navigation&&this.footer.remove(),this.element.before(this.origin).remove(),this},N.prototype.reload=function(){return this.current=1,d.call(this),this},N.prototype.remove=function(e){if(null!=this.identifier)if(this.options.ajax);else{e=e||this.selectedRows;for(var t,n=[],i=0;i<e.length;i++){t=e[i];for(var o=0;o<this.rows.length;o++)if(this.rows[o][this.identifier]===t){n.push(this.rows[o]),this.rows.splice(o,1);break}}this.current=1,d.call(this),this.element.trigger("removed"+M,[n])}return this},N.prototype.search=function(e){return this.searchPhrase!==e&&(this.current=1,this.searchPhrase=e,d.call(this)),this},N.prototype.select=function(t){if(this.selection){t=t||this.currentRows.propValues(this.identifier);for(var n,i,o=[];t.length>0&&(this.options.multiSelect||1!==o.length);)if(n=t.pop(),-1===e.inArray(n,this.selectedRows))for(i=0;i<this.currentRows.length;i++)if(this.currentRows[i][this.identifier]===n){o.push(this.currentRows[i]),this.selectedRows.push(n);break}if(o.length>0){var s=r(this.options.css.selectBox),a=this.selectedRows.length>=this.currentRows.length;for(i=0;!this.options.keepSelection&&a&&i<this.currentRows.length;)a=-1!==e.inArray(this.currentRows[i++][this.identifier],this.selectedRows);for(this.element.find("thead "+s).prop("checked",a),this.options.multiSelect||this.element.find("tbody > tr "+s+":checked").trigger("click"+M),i=0;i<this.selectedRows.length;i++)this.element.find('tbody > tr[data-row-id="'+this.selectedRows[i]+'"]').addClass(this.options.css.selected)._bgAria("selected","true").find(s).prop("checked",!0);this.element.trigger("selected"+M,[o])}}return this},N.prototype.deselect=function(t){if(this.selection){t=t||this.currentRows.propValues(this.identifier);for(var n,i,o,s=[];t.length>0;)if(n=t.pop(),o=e.inArray(n,this.selectedRows),-1!==o)for(i=0;i<this.currentRows.length;i++)if(this.currentRows[i][this.identifier]===n){s.push(this.currentRows[i]),this.selectedRows.splice(o,1);break}if(s.length>0){var a=r(this.options.css.selectBox);for(this.element.find("thead "+a).prop("checked",!1),i=0;i<s.length;i++)this.element.find('tbody > tr[data-row-id="'+s[i][this.identifier]+'"]').removeClass(this.options.css.selected)._bgAria("selected","false").find(a).prop("checked",!1);this.element.trigger("deselected"+M,[s])}}return this},N.prototype.sort=function(t){var n=t?e.extend({},t):{};return n===this.sort?this:(this.sort=n,S.call(this),A.call(this),d.call(this),this)},N.prototype.getColumnSettings=function(t){return e.merge(t,this.columns),this},e.fn.extend({_bgAria:function(e,t){return this.attr("aria-"+e,t)},_bgBusyAria:function(e){return null==e||e?this._bgAria("busy","true"):this._bgAria("busy","false")},_bgRemoveAria:function(e){return this.removeAttr("aria-"+e)},_bgEnableAria:function(e){return null==e||e?this.removeClass("disabled")._bgAria("disabled","false"):this.addClass("disabled")._bgAria("disabled","true")},_bgEnableField:function(e){return null==e||e?this.removeAttr("disabled"):this.attr("disabled","disable")},_bgShowAria:function(e){return null==e||e?this.show()._bgAria("hidden","false"):this.hide()._bgAria("hidden","true")},_bgSelectAria:function(e){return null==e||e?this.addClass("active")._bgAria("selected","true"):this.removeClass("active")._bgAria("selected","false")},_bgId:function(e){return e?this.attr("id",e):this.attr("id")}}),!String.prototype.resolve){var F={checked:function(e){return"boolean"==typeof e?e?'checked="checked"':"":e}};String.prototype.resolve=function(t,n){var i=this;return e.each(t,function(t,o){if(null!=o&&"function"!=typeof o)if("object"==typeof o){var r=n?e.extend([],n):[];r.push(t),i=i.resolve(o,r)+""}else{F&&F[t]&&"function"==typeof F[t]&&(o=F[t](o)),t=n?n.join(".")+"."+t:t;var s=new RegExp("\\{\\{"+t+"\\}\\}","gm");i=i.replace(s,o.replace?o.replace(/\$/gi,"&#36;"):o)}}),i}}Array.prototype.first||(Array.prototype.first=function(e){for(var t=0;t<this.length;t++){var n=this[t];if(e(n))return n}return null}),Array.prototype.contains||(Array.prototype.contains=function(e){for(var t=0;t<this.length;t++){var n=this[t];if(e(n))return!0}return!1}),Array.prototype.page||(Array.prototype.page=function(e,t){var n=(e-1)*t,i=n+t;return this.length>n?this.length>i?this.slice(n,i):this.slice(n):[]}),Array.prototype.where||(Array.prototype.where=function(e){for(var t=[],n=0;n<this.length;n++){var i=this[n];e(i)&&t.push(i)}return t}),Array.prototype.propValues||(Array.prototype.propValues=function(e){for(var t=[],n=0;n<this.length;n++)t.push(this[n][e]);return t});var O=e.fn.bootgrid;e.fn.bootgrid=function(t){var n=Array.prototype.slice.call(arguments,1);return this.each(function(){var i=e(this),o=i.data(M),r="object"==typeof t&&t;return o||"destroy"!==t?(o||(i.data(M,o=new N(this,r)),a.call(o)),"string"==typeof t?o[t].apply(o,n):void 0):void 0})},e.fn.bootgrid.Constructor=N,e.fn.bootgrid.noConflict=function(){return e.fn.bootgrid=O,this},e('[data-toggle="bootgrid"]').bootgrid()}(jQuery,window),function(e){e.fn.extend({slimScroll:function(n){var i=e.extend({width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},n);return this.each(function(){function o(t){if(u){t=t||window.event;var n=0;t.wheelDelta&&(n=-t.wheelDelta/120),t.detail&&(n=t.detail/3),e(t.target||t.srcTarget||t.srcElement).closest("."+i.wrapperClass).is(y.parent())&&r(n,!0),t.preventDefault&&!v&&t.preventDefault(),v||(t.returnValue=!1)}}function r(e,t,n){v=!1;var o=e,r=y.outerHeight()-w.outerHeight();t&&(o=parseInt(w.css("top"))+e*parseInt(i.wheelStep)/100*w.outerHeight(),o=Math.min(Math.max(o,0),r),o=e>0?Math.ceil(o):Math.floor(o),w.css({top:o+"px"})),m=parseInt(w.css("top"))/(y.outerHeight()-w.outerHeight()),o=m*(y[0].scrollHeight-y.outerHeight()),n&&(o=e,e=o/y[0].scrollHeight*y.outerHeight(),e=Math.min(Math.max(e,0),r),w.css({top:e+"px"})),y.scrollTop(o),y.trigger("slimscrolling",~~o),a(),l()}function s(){f=Math.max(y.outerHeight()/y[0].scrollHeight*y.outerHeight(),30),w.css({height:f+"px"});var e=f==y.outerHeight()?"none":"block";w.css({display:e})}function a(){s(),clearTimeout(h),m==~~m?(v=i.allowPageScroll,g!=m&&y.trigger("slimscroll",0==~~m?"top":"bottom")):v=!1,g=m,f>=y.outerHeight()?v=!0:(w.stop(!0,!0).fadeIn("fast"),i.railVisible&&C.stop(!0,!0).fadeIn("fast"))}function l(){i.alwaysVisible||(h=setTimeout(function(){i.disableFadeOut&&u||c||d||(w.fadeOut("slow"),C.fadeOut("slow"))},1e3))}var u,c,d,h,p,f,m,g,v=!1,y=e(this);if(y.parent().hasClass(i.wrapperClass)){var b=y.scrollTop(),w=y.closest("."+i.barClass),C=y.closest("."+i.railClass);if(s(),e.isPlainObject(n)){if("height"in n&&"auto"==n.height){y.parent().css("height","auto"),y.css("height","auto");var k=y.parent().parent().height();y.parent().css("height",k),y.css("height",k)}if("scrollTo"in n)b=parseInt(i.scrollTo);else if("scrollBy"in n)b+=parseInt(i.scrollBy);else if("destroy"in n)return w.remove(),C.remove(),void y.unwrap();r(b,!1,!0)}}else if(!(e.isPlainObject(n)&&"destroy"in n)){i.height="auto"==i.height?y.parent().height():i.height,b=e("<div></div>").addClass(i.wrapperClass).css({position:"relative",overflow:"hidden",width:i.width,height:i.height}),y.css({overflow:"hidden",width:i.width,height:i.height});var C=e("<div></div>").addClass(i.railClass).css({width:i.size,height:"100%",position:"absolute",top:0,display:i.alwaysVisible&&i.railVisible?"block":"none","border-radius":i.railBorderRadius,background:i.railColor,opacity:i.railOpacity,zIndex:90}),w=e("<div></div>").addClass(i.barClass).css({background:i.color,width:i.size,position:"absolute",top:0,opacity:i.opacity,display:i.alwaysVisible?"block":"none","border-radius":i.borderRadius,BorderRadius:i.borderRadius,MozBorderRadius:i.borderRadius,WebkitBorderRadius:i.borderRadius,zIndex:99}),k="right"==i.position?{right:i.distance}:{left:i.distance};C.css(k),w.css(k),y.wrap(b),y.parent().append(w),y.parent().append(C),i.railDraggable&&w.bind("mousedown",function(n){var i=e(document);return d=!0,t=parseFloat(w.css("top")),pageY=n.pageY,i.bind("mousemove.slimscroll",function(e){currTop=t+e.pageY-pageY,w.css("top",currTop),r(0,w.position().top,!1)}),i.bind("mouseup.slimscroll",function(){d=!1,l(),i.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(e){return e.stopPropagation(),e.preventDefault(),!1
}),C.hover(function(){a()},function(){l()}),w.hover(function(){c=!0},function(){c=!1}),y.hover(function(){u=!0,a(),l()},function(){u=!1,l()}),y.bind("touchstart",function(e){e.originalEvent.touches.length&&(p=e.originalEvent.touches[0].pageY)}),y.bind("touchmove",function(e){v||e.originalEvent.preventDefault(),e.originalEvent.touches.length&&(r((p-e.originalEvent.touches[0].pageY)/i.touchScrollStep,!0),p=e.originalEvent.touches[0].pageY)}),s(),"bottom"===i.start?(w.css({top:y.outerHeight()-w.outerHeight()}),r(0,!0)):"top"!==i.start&&(r(e(i.start).position().top,null,!0),i.alwaysVisible||w.hide()),window.addEventListener?(this.addEventListener("DOMMouseScroll",o,!1),this.addEventListener("mousewheel",o,!1)):document.attachEvent("onmousewheel",o)}}),this}}),e.fn.extend({slimscroll:e.fn.slimScroll})}(jQuery),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){var t=function(){if(e&&e.fn&&e.fn.select2&&e.fn.select2.amd)var t=e.fn.select2.amd;var t;return function(){if(!t||!t.requirejs){t?n=t:t={};var e,n,i;!function(t){function o(e,t){return w.call(e,t)}function r(e,t){var n,i,o,r,s,a,l,u,c,d,h,p=t&&t.split("/"),f=y.map,m=f&&f["*"]||{};if(e&&"."===e.charAt(0))if(t){for(e=e.split("/"),s=e.length-1,y.nodeIdCompat&&k.test(e[s])&&(e[s]=e[s].replace(k,"")),e=p.slice(0,p.length-1).concat(e),c=0;c<e.length;c+=1)if(h=e[c],"."===h)e.splice(c,1),c-=1;else if(".."===h){if(1===c&&(".."===e[2]||".."===e[0]))break;c>0&&(e.splice(c-1,2),c-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((p||m)&&f){for(n=e.split("/"),c=n.length;c>0;c-=1){if(i=n.slice(0,c).join("/"),p)for(d=p.length;d>0;d-=1)if(o=f[p.slice(0,d).join("/")],o&&(o=o[i])){r=o,a=c;break}if(r)break;!l&&m&&m[i]&&(l=m[i],u=c)}!r&&l&&(r=l,a=u),r&&(n.splice(0,a,r),e=n.join("/"))}return e}function s(e,n){return function(){var i=C.call(arguments,0);return"string"!=typeof i[0]&&1===i.length&&i.push(null),p.apply(t,i.concat([e,n]))}}function a(e){return function(t){return r(t,e)}}function l(e){return function(t){g[e]=t}}function u(e){if(o(v,e)){var n=v[e];delete v[e],b[e]=!0,h.apply(t,n)}if(!o(g,e)&&!o(b,e))throw new Error("No "+e);return g[e]}function c(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function d(e){return function(){return y&&y.config&&y.config[e]||{}}}var h,p,f,m,g={},v={},y={},b={},w=Object.prototype.hasOwnProperty,C=[].slice,k=/\.js$/;f=function(e,t){var n,i=c(e),o=i[0];return e=i[1],o&&(o=r(o,t),n=u(o)),o?e=n&&n.normalize?n.normalize(e,a(t)):r(e,t):(e=r(e,t),i=c(e),o=i[0],e=i[1],o&&(n=u(o))),{f:o?o+"!"+e:e,n:e,pr:o,p:n}},m={require:function(e){return s(e)},exports:function(e){var t=g[e];return"undefined"!=typeof t?t:g[e]={}},module:function(e){return{id:e,uri:"",exports:g[e],config:d(e)}}},h=function(e,n,i,r){var a,c,d,h,p,y,w=[],C=typeof i;if(r=r||e,"undefined"===C||"function"===C){for(n=!n.length&&i.length?["require","exports","module"]:n,p=0;p<n.length;p+=1)if(h=f(n[p],r),c=h.f,"require"===c)w[p]=m.require(e);else if("exports"===c)w[p]=m.exports(e),y=!0;else if("module"===c)a=w[p]=m.module(e);else if(o(g,c)||o(v,c)||o(b,c))w[p]=u(c);else{if(!h.p)throw new Error(e+" missing "+c);h.p.load(h.n,s(r,!0),l(c),{}),w[p]=g[c]}d=i?i.apply(g[e],w):void 0,e&&(a&&a.exports!==t&&a.exports!==g[e]?g[e]=a.exports:d===t&&y||(g[e]=d))}else e&&(g[e]=i)},e=n=p=function(e,n,i,o,r){if("string"==typeof e)return m[e]?m[e](n):u(f(e,n).f);if(!e.splice){if(y=e,y.deps&&p(y.deps,y.callback),!n)return;n.splice?(e=n,n=i,i=null):e=t}return n=n||function(){},"function"==typeof i&&(i=o,o=r),o?h(t,e,n,i):setTimeout(function(){h(t,e,n,i)},4),p},p.config=function(e){return p(e)},e._defined=g,i=function(e,t,n){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");t.splice||(n=t,t=[]),o(g,e)||o(v,e)||(v[e]=[e,t,n])},i.amd={jQuery:!0}}(),t.requirejs=e,t.require=n,t.define=i}}(),t.define("almond",function(){}),t.define("jquery",[],function(){var t=e||$;return null==t&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),t}),t.define("select2/utils",["jquery"],function(e){function t(e){var t=e.prototype,n=[];for(var i in t){var o=t[i];"function"==typeof o&&"constructor"!==i&&n.push(i)}return n}var n={};n.Extend=function(e,t){function n(){this.constructor=e}var i={}.hasOwnProperty;for(var o in t)i.call(t,o)&&(e[o]=t[o]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},n.Decorate=function(e,n){function i(){var t=Array.prototype.unshift,i=n.prototype.constructor.length,o=e.prototype.constructor;i>0&&(t.call(arguments,e.prototype.constructor),o=n.prototype.constructor),o.apply(this,arguments)}function o(){this.constructor=i}var r=t(n),s=t(e);n.displayName=e.displayName,i.prototype=new o;for(var a=0;a<s.length;a++){var l=s[a];i.prototype[l]=e.prototype[l]}for(var u=(function(e){var t=function(){};e in i.prototype&&(t=i.prototype[e]);var o=n.prototype[e];return function(){var e=Array.prototype.unshift;return e.call(arguments,t),o.apply(this,arguments)}}),c=0;c<r.length;c++){var d=r[c];i.prototype[d]=u(d)}return i};var i=function(){this.listeners={}};return i.prototype.on=function(e,t){this.listeners=this.listeners||{},e in this.listeners?this.listeners[e].push(t):this.listeners[e]=[t]},i.prototype.trigger=function(e){var t=Array.prototype.slice;this.listeners=this.listeners||{},e in this.listeners&&this.invoke(this.listeners[e],t.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},i.prototype.invoke=function(e,t){for(var n=0,i=e.length;i>n;n++)e[n].apply(this,t)},n.Observable=i,n.generateChars=function(e){for(var t="",n=0;e>n;n++){var i=Math.floor(36*Math.random());t+=i.toString(36)}return t},n.bind=function(e,t){return function(){e.apply(t,arguments)}},n._convertData=function(e){for(var t in e){var n=t.split("-"),i=e;if(1!==n.length){for(var o=0;o<n.length;o++){var r=n[o];r=r.substring(0,1).toLowerCase()+r.substring(1),r in i||(i[r]={}),o==n.length-1&&(i[r]=e[t]),i=i[r]}delete e[t]}}return e},n.hasScroll=function(t,n){var i=e(n),o=n.style.overflowX,r=n.style.overflowY;return o!==r||"hidden"!==r&&"visible"!==r?"scroll"===o||"scroll"===r?!0:i.innerHeight()<n.scrollHeight||i.innerWidth()<n.scrollWidth:!1},n.escapeMarkup=function(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof e?e:String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})},n.appendMany=function(t,n){if("1.7"===e.fn.jquery.substr(0,3)){var i=e();e.map(n,function(e){i=i.add(e)}),n=i}t.append(n)},n}),t.define("select2/results",["jquery","./utils"],function(e,t){function n(e,t,i){this.$element=e,this.data=i,this.options=t,n.__super__.constructor.call(this)}return t.Extend(n,t.Observable),n.prototype.render=function(){var t=e('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&t.attr("aria-multiselectable","true"),this.$results=t,t},n.prototype.clear=function(){this.$results.empty()},n.prototype.displayMessage=function(t){var n=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var i=e('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>'),o=this.options.get("translations").get(t.message);i.append(n(o(t.args))),i[0].className+=" select2-results__message",this.$results.append(i)},n.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},n.prototype.append=function(e){this.hideLoading();var t=[];if(null==e.results||0===e.results.length)return void(0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"}));e.results=this.sort(e.results);for(var n=0;n<e.results.length;n++){var i=e.results[n],o=this.option(i);t.push(o)}this.$results.append(t)},n.prototype.position=function(e,t){var n=t.find(".select2-results");n.append(e)},n.prototype.sort=function(e){var t=this.options.get("sorter");return t(e)},n.prototype.setClasses=function(){var t=this;this.data.current(function(n){var i=e.map(n,function(e){return e.id.toString()}),o=t.$results.find(".select2-results__option[aria-selected]");o.each(function(){var t=e(this),n=e.data(this,"data"),o=""+n.id;null!=n.element&&n.element.selected||null==n.element&&e.inArray(o,i)>-1?t.attr("aria-selected","true"):t.attr("aria-selected","false")});var r=o.filter("[aria-selected=true]");r.length>0?r.first().trigger("mouseenter"):o.first().trigger("mouseenter")})},n.prototype.showLoading=function(e){this.hideLoading();var t=this.options.get("translations").get("searching"),n={disabled:!0,loading:!0,text:t(e)},i=this.option(n);i.className+=" loading-results",this.$results.prepend(i)},n.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},n.prototype.option=function(t){var n=document.createElement("li");n.className="select2-results__option";var i={role:"treeitem","aria-selected":"false"};t.disabled&&(delete i["aria-selected"],i["aria-disabled"]="true"),null==t.id&&delete i["aria-selected"],null!=t._resultId&&(n.id=t._resultId),t.title&&(n.title=t.title),t.children&&(i.role="group",i["aria-label"]=t.text,delete i["aria-selected"]);for(var o in i){var r=i[o];n.setAttribute(o,r)}if(t.children){var s=e(n),a=document.createElement("strong");a.className="select2-results__group",e(a),this.template(t,a);for(var l=[],u=0;u<t.children.length;u++){var c=t.children[u],d=this.option(c);l.push(d)}var h=e("<ul></ul>",{"class":"select2-results__options select2-results__options--nested"});h.append(l),s.append(a),s.append(h)}else this.template(t,n);return e.data(n,"data",t),n},n.prototype.bind=function(t){var n=this,i=t.id+"-results";this.$results.attr("id",i),t.on("results:all",function(e){n.clear(),n.append(e.data),t.isOpen()&&n.setClasses()}),t.on("results:append",function(e){n.append(e.data),t.isOpen()&&n.setClasses()}),t.on("query",function(e){n.hideMessages(),n.showLoading(e)}),t.on("select",function(){t.isOpen()&&n.setClasses()}),t.on("unselect",function(){t.isOpen()&&n.setClasses()}),t.on("open",function(){n.$results.attr("aria-expanded","true"),n.$results.attr("aria-hidden","false"),n.setClasses(),n.ensureHighlightVisible()}),t.on("close",function(){n.$results.attr("aria-expanded","false"),n.$results.attr("aria-hidden","true"),n.$results.removeAttr("aria-activedescendant")}),t.on("results:toggle",function(){var e=n.getHighlightedResults();0!==e.length&&e.trigger("mouseup")}),t.on("results:select",function(){var e=n.getHighlightedResults();if(0!==e.length){var t=e.data("data");"true"==e.attr("aria-selected")?n.trigger("close",{}):n.trigger("select",{data:t})}}),t.on("results:previous",function(){var e=n.getHighlightedResults(),t=n.$results.find("[aria-selected]"),i=t.index(e);if(0!==i){var o=i-1;0===e.length&&(o=0);var r=t.eq(o);r.trigger("mouseenter");var s=n.$results.offset().top,a=r.offset().top,l=n.$results.scrollTop()+(a-s);0===o?n.$results.scrollTop(0):0>a-s&&n.$results.scrollTop(l)}}),t.on("results:next",function(){var e=n.getHighlightedResults(),t=n.$results.find("[aria-selected]"),i=t.index(e),o=i+1;if(!(o>=t.length)){var r=t.eq(o);r.trigger("mouseenter");var s=n.$results.offset().top+n.$results.outerHeight(!1),a=r.offset().top+r.outerHeight(!1),l=n.$results.scrollTop()+a-s;0===o?n.$results.scrollTop(0):a>s&&n.$results.scrollTop(l)}}),t.on("results:focus",function(e){e.element.addClass("select2-results__option--highlighted")}),t.on("results:message",function(e){n.displayMessage(e)}),e.fn.mousewheel&&this.$results.on("mousewheel",function(e){var t=n.$results.scrollTop(),i=n.$results.get(0).scrollHeight-t+e.deltaY,o=e.deltaY>0&&t-e.deltaY<=0,r=e.deltaY<0&&i<=n.$results.height();o?(n.$results.scrollTop(0),e.preventDefault(),e.stopPropagation()):r&&(n.$results.scrollTop(n.$results.get(0).scrollHeight-n.$results.height()),e.preventDefault(),e.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(t){var i=e(this),o=i.data("data");return"true"===i.attr("aria-selected")?void(n.options.get("multiple")?n.trigger("unselect",{originalEvent:t,data:o}):n.trigger("close",{})):void n.trigger("select",{originalEvent:t,data:o})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(){var t=e(this).data("data");n.getHighlightedResults().removeClass("select2-results__option--highlighted"),n.trigger("results:focus",{data:t,element:e(this)})})},n.prototype.getHighlightedResults=function(){var e=this.$results.find(".select2-results__option--highlighted");return e},n.prototype.destroy=function(){this.$results.remove()},n.prototype.ensureHighlightVisible=function(){var e=this.getHighlightedResults();if(0!==e.length){var t=this.$results.find("[aria-selected]"),n=t.index(e),i=this.$results.offset().top,o=e.offset().top,r=this.$results.scrollTop()+(o-i),s=o-i;r-=2*e.outerHeight(!1),2>=n?this.$results.scrollTop(0):(s>this.$results.outerHeight()||0>s)&&this.$results.scrollTop(r)}},n.prototype.template=function(t,n){var i=this.options.get("templateResult"),o=this.options.get("escapeMarkup"),r=i(t,n);null==r?n.style.display="none":"string"==typeof r?n.innerHTML=o(r):e(n).append(r)},n}),t.define("select2/keys",[],function(){var e={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46};return e}),t.define("select2/selection/base",["jquery","../utils","../keys"],function(e,t,n){function i(e,t){this.$element=e,this.options=t,i.__super__.constructor.call(this)}return t.Extend(i,t.Observable),i.prototype.render=function(){var t=e('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),t.attr("title",this.$element.attr("title")),t.attr("tabindex",this._tabindex),this.$selection=t,t},i.prototype.bind=function(e){var t=this,i=(e.id+"-container",e.id+"-results");this.container=e,this.$selection.on("focus",function(e){t.trigger("focus",e)}),this.$selection.on("blur",function(e){t._handleBlur(e)}),this.$selection.on("keydown",function(e){t.trigger("keypress",e),e.which===n.SPACE&&e.preventDefault()}),e.on("results:focus",function(e){t.$selection.attr("aria-activedescendant",e.data._resultId)}),e.on("selection:update",function(e){t.update(e.data)}),e.on("open",function(){t.$selection.attr("aria-expanded","true"),t.$selection.attr("aria-owns",i),t._attachCloseHandler(e)}),e.on("close",function(){t.$selection.attr("aria-expanded","false"),t.$selection.removeAttr("aria-activedescendant"),t.$selection.removeAttr("aria-owns"),t.$selection.focus(),t._detachCloseHandler(e)}),e.on("enable",function(){t.$selection.attr("tabindex",t._tabindex)}),e.on("disable",function(){t.$selection.attr("tabindex","-1")})},i.prototype._handleBlur=function(t){var n=this;window.setTimeout(function(){document.activeElement==n.$selection[0]||e.contains(n.$selection[0],document.activeElement)||n.trigger("blur",t)},1)},i.prototype._attachCloseHandler=function(t){e(document.body).on("mousedown.select2."+t.id,function(t){var n=e(t.target),i=n.closest(".select2"),o=e(".select2.select2-container--open");o.each(function(){var t=e(this);if(this!=i[0]){var n=t.data("element");n.select2("close")}})})},i.prototype._detachCloseHandler=function(t){e(document.body).off("mousedown.select2."+t.id)},i.prototype.position=function(e,t){var n=t.find(".selection");n.append(e)},i.prototype.destroy=function(){this._detachCloseHandler(this.container)},i.prototype.update=function(){throw new Error("The `update` method must be defined in child classes.")},i}),t.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(e,t,n){function i(){i.__super__.constructor.apply(this,arguments)}return n.Extend(i,t),i.prototype.render=function(){var e=i.__super__.render.call(this);return e.addClass("select2-selection--single"),e.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),e},i.prototype.bind=function(e){var t=this;i.__super__.bind.apply(this,arguments);var n=e.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",n),this.$selection.attr("aria-labelledby",n),this.$selection.on("mousedown",function(e){1===e.which&&t.trigger("toggle",{originalEvent:e})}),this.$selection.on("focus",function(){}),this.$selection.on("blur",function(){}),e.on("selection:update",function(e){t.update(e.data)})},i.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},i.prototype.display=function(e,t){var n=this.options.get("templateSelection"),i=this.options.get("escapeMarkup");return i(n(e,t))},i.prototype.selectionContainer=function(){return e("<span></span>")},i.prototype.update=function(e){if(0===e.length)return void this.clear();var t=e[0],n=this.$selection.find(".select2-selection__rendered"),i=this.display(t,n);n.empty().append(i),n.prop("title",t.title||t.text)},i}),t.define("select2/selection/multiple",["jquery","./base","../utils"],function(e,t,n){function i(){i.__super__.constructor.apply(this,arguments)}return n.Extend(i,t),i.prototype.render=function(){var e=i.__super__.render.call(this);return e.addClass("select2-selection--multiple"),e.html('<ul class="select2-selection__rendered"></ul>'),e},i.prototype.bind=function(){var t=this;i.__super__.bind.apply(this,arguments),this.$selection.on("click",function(e){t.trigger("toggle",{originalEvent:e})}),this.$selection.on("click",".select2-selection__choice__remove",function(n){if(!t.options.get("disabled")){var i=e(this),o=i.parent(),r=o.data("data");t.trigger("unselect",{originalEvent:n,data:r})}})},i.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},i.prototype.display=function(e,t){var n=this.options.get("templateSelection"),i=this.options.get("escapeMarkup");return i(n(e,t))},i.prototype.selectionContainer=function(){var t=e('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>');return t},i.prototype.update=function(e){if(this.clear(),0!==e.length){for(var t=[],i=0;i<e.length;i++){var o=e[i],r=this.selectionContainer(),s=this.display(o,r);r.append(s),r.prop("title",o.title||o.text),r.data("data",o),t.push(r)}var a=this.$selection.find(".select2-selection__rendered");n.appendMany(a,t)}},i}),t.define("select2/selection/placeholder",["../utils"],function(){function e(e,t,n){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),e.call(this,t,n)}return e.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},e.prototype.createPlaceholder=function(e,t){var n=this.selectionContainer();return n.html(this.display(t)),n.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),n},e.prototype.update=function(e,t){var n=1==t.length&&t[0].id!=this.placeholder.id,i=t.length>1;if(i||n)return e.call(this,t);this.clear();var o=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(o)},e}),t.define("select2/selection/allowClear",["jquery","../keys"],function(e,t){function n(){}return n.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(e){i._handleClear(e)}),t.on("keypress",function(e){i._handleKeyboardClear(e,t)})},n.prototype._handleClear=function(e,t){if(!this.options.get("disabled")){var n=this.$selection.find(".select2-selection__clear");if(0!==n.length){t.stopPropagation();for(var i=n.data("data"),o=0;o<i.length;o++){var r={data:i[o]};if(this.trigger("unselect",r),r.prevented)return}this.$element.val(this.placeholder.id).trigger("change"),this.trigger("toggle",{})}}},n.prototype._handleKeyboardClear=function(e,n,i){i.isOpen()||(n.which==t.DELETE||n.which==t.BACKSPACE)&&this._handleClear(n)},n.prototype.update=function(t,n){if(t.call(this,n),!(this.$selection.find(".select2-selection__placeholder").length>0||0===n.length)){var i=e('<span class="select2-selection__clear">&times;</span>');i.data("data",n),this.$selection.find(".select2-selection__rendered").prepend(i)}},n}),t.define("select2/selection/search",["jquery","../utils","../keys"],function(e,t,n){function i(e,t,n){e.call(this,t,n)}return i.prototype.render=function(t){var n=e('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>');this.$searchContainer=n,this.$search=n.find("input");var i=t.call(this);return this._transferTabIndex(),i},i.prototype.bind=function(e,t,i){var o=this;e.call(this,t,i),t.on("open",function(){o.$search.trigger("focus")}),t.on("close",function(){o.$search.val(""),o.$search.removeAttr("aria-activedescendant"),o.$search.trigger("focus")}),t.on("enable",function(){o.$search.prop("disabled",!1),o._transferTabIndex()}),t.on("disable",function(){o.$search.prop("disabled",!0)}),t.on("focus",function(){o.$search.trigger("focus")}),t.on("results:focus",function(e){o.$search.attr("aria-activedescendant",e.id)}),this.$selection.on("focusin",".select2-search--inline",function(e){o.trigger("focus",e)}),this.$selection.on("focusout",".select2-search--inline",function(e){o._handleBlur(e)}),this.$selection.on("keydown",".select2-search--inline",function(e){e.stopPropagation(),o.trigger("keypress",e),o._keyUpPrevented=e.isDefaultPrevented();var t=e.which;if(t===n.BACKSPACE&&""===o.$search.val()){var i=o.$searchContainer.prev(".select2-selection__choice");if(i.length>0){var r=i.data("data");o.searchRemoveChoice(r),e.preventDefault()}}});var r=document.documentMode,s=r&&11>=r;this.$selection.on("input.searchcheck",".select2-search--inline",function(){return s?void o.$selection.off("input.search input.searchcheck"):void o.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(e){if(s&&"input"===e.type)return void o.$selection.off("input.search input.searchcheck");var t=e.which;t!=n.SHIFT&&t!=n.CTRL&&t!=n.ALT&&t!=n.TAB&&o.handleSearch(e)})},i.prototype._transferTabIndex=function(){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},i.prototype.createPlaceholder=function(e,t){this.$search.attr("placeholder",t.text)},i.prototype.update=function(e,t){var n=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),e.call(this,t),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),n&&this.$search.focus()},i.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},i.prototype.searchRemoveChoice=function(e,t){this.trigger("unselect",{data:t}),this.$search.val(t.text),this.handleSearch()},i.prototype.resizeSearch=function(){this.$search.css("width","25px");var e="";if(""!==this.$search.attr("placeholder"))e=this.$selection.find(".select2-selection__rendered").innerWidth();else{var t=this.$search.val().length+1;e=.75*t+"em"}this.$search.css("width",e)},i}),t.define("select2/selection/eventRelay",["jquery"],function(e){function t(){}return t.prototype.bind=function(t,n,i){var o=this,r=["open","opening","close","closing","select","selecting","unselect","unselecting"],s=["opening","closing","selecting","unselecting"];t.call(this,n,i),n.on("*",function(t,n){if(-1!==e.inArray(t,r)){n=n||{};var i=e.Event("select2:"+t,{params:n});o.$element.trigger(i),-1!==e.inArray(t,s)&&(n.prevented=i.isDefaultPrevented())}})},t}),t.define("select2/translation",["jquery","require"],function(e,t){function n(e){this.dict=e||{}}return n.prototype.all=function(){return this.dict},n.prototype.get=function(e){return this.dict[e]},n.prototype.extend=function(t){this.dict=e.extend({},t.all(),this.dict)},n._cache={},n.loadPath=function(e){if(!(e in n._cache)){var i=t(e);n._cache[e]=i}return new n(n._cache[e])},n}),t.define("select2/diacritics",[],function(){var e={"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};return e}),t.define("select2/data/base",["../utils"],function(e){function t(){t.__super__.constructor.call(this)}return e.Extend(t,e.Observable),t.prototype.current=function(){throw new Error("The `current` method must be defined in child classes.")},t.prototype.query=function(){throw new Error("The `query` method must be defined in child classes.")},t.prototype.bind=function(){},t.prototype.destroy=function(){},t.prototype.generateResultId=function(t,n){var i=t.id+"-result-";return i+=e.generateChars(4),i+=null!=n.id?"-"+n.id.toString():"-"+e.generateChars(4)},t}),t.define("select2/data/select",["./base","../utils","jquery"],function(e,t,n){function i(e,t){this.$element=e,this.options=t,i.__super__.constructor.call(this)
}return t.Extend(i,e),i.prototype.current=function(e){var t=[],i=this;this.$element.find(":selected").each(function(){var e=n(this),o=i.item(e);t.push(o)}),e(t)},i.prototype.select=function(e){var t=this;if(e.selected=!0,n(e.element).is("option"))return e.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(i){var o=[];e=[e],e.push.apply(e,i);for(var r=0;r<e.length;r++){var s=e[r].id;-1===n.inArray(s,o)&&o.push(s)}t.$element.val(o),t.$element.trigger("change")});else{var i=e.id;this.$element.val(i),this.$element.trigger("change")}},i.prototype.unselect=function(e){var t=this;return this.$element.prop("multiple")?(e.selected=!1,n(e.element).is("option")?(e.element.selected=!1,void this.$element.trigger("change")):void this.current(function(i){for(var o=[],r=0;r<i.length;r++){var s=i[r].id;s!==e.id&&-1===n.inArray(s,o)&&o.push(s)}t.$element.val(o),t.$element.trigger("change")})):void 0},i.prototype.bind=function(e){var t=this;this.container=e,e.on("select",function(e){t.select(e.data)}),e.on("unselect",function(e){t.unselect(e.data)})},i.prototype.destroy=function(){this.$element.find("*").each(function(){n.removeData(this,"data")})},i.prototype.query=function(e,t){var i=[],o=this,r=this.$element.children();r.each(function(){var t=n(this);if(t.is("option")||t.is("optgroup")){var r=o.item(t),s=o.matches(e,r);null!==s&&i.push(s)}}),t({results:i})},i.prototype.addOptions=function(e){t.appendMany(this.$element,e)},i.prototype.option=function(e){var t;e.children?(t=document.createElement("optgroup"),t.label=e.text):(t=document.createElement("option"),void 0!==t.textContent?t.textContent=e.text:t.innerText=e.text),e.id&&(t.value=e.id),e.disabled&&(t.disabled=!0),e.selected&&(t.selected=!0),e.title&&(t.title=e.title);var i=n(t),o=this._normalizeItem(e);return o.element=t,n.data(t,"data",o),i},i.prototype.item=function(e){var t={};if(t=n.data(e[0],"data"),null!=t)return t;if(e.is("option"))t={id:e.val(),text:e.text(),disabled:e.prop("disabled"),selected:e.prop("selected"),title:e.prop("title")};else if(e.is("optgroup")){t={text:e.prop("label"),children:[],title:e.prop("title")};for(var i=e.children("option"),o=[],r=0;r<i.length;r++){var s=n(i[r]),a=this.item(s);o.push(a)}t.children=o}return t=this._normalizeItem(t),t.element=e[0],n.data(e[0],"data",t),t},i.prototype._normalizeItem=function(e){n.isPlainObject(e)||(e={id:e,text:e}),e=n.extend({},{text:""},e);var t={selected:!1,disabled:!1};return null!=e.id&&(e.id=e.id.toString()),null!=e.text&&(e.text=e.text.toString()),null==e._resultId&&e.id&&null!=this.container&&(e._resultId=this.generateResultId(this.container,e)),n.extend({},t,e)},i.prototype.matches=function(e,t){var n=this.options.get("matcher");return n(e,t)},i}),t.define("select2/data/array",["./select","../utils","jquery"],function(e,t,n){function i(e,t){var n=t.get("data")||[];i.__super__.constructor.call(this,e,t),this.addOptions(this.convertToOptions(n))}return t.Extend(i,e),i.prototype.select=function(e){var t=this.$element.find("option").filter(function(t,n){return n.value==e.id.toString()});0===t.length&&(t=this.option(e),this.addOptions(t)),i.__super__.select.call(this,e)},i.prototype.convertToOptions=function(e){function i(e){return function(){return n(this).val()==e.id}}for(var o=this,r=this.$element.find("option"),s=r.map(function(){return o.item(n(this)).id}).get(),a=[],l=0;l<e.length;l++){var u=this._normalizeItem(e[l]);if(n.inArray(u.id,s)>=0){var c=r.filter(i(u)),d=this.item(c),h=n.extend(!0,{},u,d),p=this.option(h);c.replaceWith(p)}else{var f=this.option(u);if(u.children){var m=this.convertToOptions(u.children);t.appendMany(f,m)}a.push(f)}}return a},i}),t.define("select2/data/ajax",["./array","../utils","jquery"],function(e,t,n){function i(e,t){this.ajaxOptions=this._applyDefaults(t.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),i.__super__.constructor.call(this,e,t)}return t.Extend(i,e),i.prototype._applyDefaults=function(e){var t={data:function(e){return n.extend({},e,{q:e.term})},transport:function(e,t,i){var o=n.ajax(e);return o.then(t),o.fail(i),o}};return n.extend({},t,e,!0)},i.prototype.processResults=function(e){return e},i.prototype.query=function(e,t){function i(){var i=r.transport(r,function(i){var r=o.processResults(i,e);o.options.get("debug")&&window.console&&console.error&&(r&&r.results&&n.isArray(r.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),t(r)},function(){o.trigger("results:message",{message:"errorLoading"})});o._request=i}var o=this;null!=this._request&&(n.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var r=n.extend({type:"GET"},this.ajaxOptions);"function"==typeof r.url&&(r.url=r.url.call(this.$element,e)),"function"==typeof r.data&&(r.data=r.data.call(this.$element,e)),this.ajaxOptions.delay&&""!==e.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(i,this.ajaxOptions.delay)):i()},i}),t.define("select2/data/tags",["jquery"],function(e){function t(t,n,i){var o=i.get("tags"),r=i.get("createTag");void 0!==r&&(this.createTag=r);var s=i.get("insertTag");if(void 0!==s&&(this.insertTag=s),t.call(this,n,i),e.isArray(o))for(var a=0;a<o.length;a++){var l=o[a],u=this._normalizeItem(l),c=this.option(u);this.$element.append(c)}}return t.prototype.query=function(e,t,n){function i(e,r){for(var s=e.results,a=0;a<s.length;a++){var l=s[a],u=null!=l.children&&!i({results:l.children},!0),c=l.text===t.term;if(c||u)return r?!1:(e.data=s,void n(e))}if(r)return!0;var d=o.createTag(t);if(null!=d){var h=o.option(d);h.attr("data-select2-tag",!0),o.addOptions([h]),o.insertTag(s,d)}e.results=s,n(e)}var o=this;return this._removeOldTags(),null==t.term||null!=t.page?void e.call(this,t,n):void e.call(this,t,i)},t.prototype.createTag=function(t,n){var i=e.trim(n.term);return""===i?null:{id:i,text:i}},t.prototype.insertTag=function(e,t,n){t.unshift(n)},t.prototype._removeOldTags=function(){var t=(this._lastTag,this.$element.find("option[data-select2-tag]"));t.each(function(){this.selected||e(this).remove()})},t}),t.define("select2/data/tokenizer",["jquery"],function(e){function t(e,t,n){var i=n.get("tokenizer");void 0!==i&&(this.tokenizer=i),e.call(this,t,n)}return t.prototype.bind=function(e,t,n){e.call(this,t,n),this.$search=t.dropdown.$search||t.selection.$search||n.find(".select2-search__field")},t.prototype.query=function(e,t,n){function i(e){o.trigger("select",{data:e})}var o=this;t.term=t.term||"";var r=this.tokenizer(t,this.options,i);r.term!==t.term&&(this.$search.length&&(this.$search.val(r.term),this.$search.focus()),t.term=r.term),e.call(this,t,n)},t.prototype.tokenizer=function(t,n,i,o){for(var r=i.get("tokenSeparators")||[],s=n.term,a=0,l=this.createTag||function(e){return{id:e.term,text:e.term}};a<s.length;){var u=s[a];if(-1!==e.inArray(u,r)){var c=s.substr(0,a),d=e.extend({},n,{term:c}),h=l(d);null!=h?(o(h),s=s.substr(a+1)||"",a=0):a++}else a++}return{term:s}},t}),t.define("select2/data/minimumInputLength",[],function(){function e(e,t,n){this.minimumInputLength=n.get("minimumInputLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){return t.term=t.term||"",t.term.length<this.minimumInputLength?void this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:t.term,params:t}}):void e.call(this,t,n)},e}),t.define("select2/data/maximumInputLength",[],function(){function e(e,t,n){this.maximumInputLength=n.get("maximumInputLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){return t.term=t.term||"",this.maximumInputLength>0&&t.term.length>this.maximumInputLength?void this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:t.term,params:t}}):void e.call(this,t,n)},e}),t.define("select2/data/maximumSelectionLength",[],function(){function e(e,t,n){this.maximumSelectionLength=n.get("maximumSelectionLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){var i=this;this.current(function(o){var r=null!=o?o.length:0;return i.maximumSelectionLength>0&&r>=i.maximumSelectionLength?void i.trigger("results:message",{message:"maximumSelected",args:{maximum:i.maximumSelectionLength}}):void e.call(i,t,n)})},e}),t.define("select2/dropdown",["jquery","./utils"],function(e,t){function n(e,t){this.$element=e,this.options=t,n.__super__.constructor.call(this)}return t.Extend(n,t.Observable),n.prototype.render=function(){var t=e('<span class="select2-dropdown"><span class="select2-results"></span></span>');return t.attr("dir",this.options.get("dir")),this.$dropdown=t,t},n.prototype.bind=function(){},n.prototype.position=function(){},n.prototype.destroy=function(){this.$dropdown.remove()},n}),t.define("select2/dropdown/search",["jquery","../utils"],function(e){function t(){}return t.prototype.render=function(t){var n=t.call(this),i=e('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=i,this.$search=i.find("input"),n.prepend(i),n},t.prototype.bind=function(t,n,i){var o=this;t.call(this,n,i),this.$search.on("keydown",function(e){o.trigger("keypress",e),o._keyUpPrevented=e.isDefaultPrevented()}),this.$search.on("input",function(){e(this).off("keyup")}),this.$search.on("keyup input",function(e){o.handleSearch(e)}),n.on("open",function(){o.$search.attr("tabindex",0),o.$search.focus(),window.setTimeout(function(){o.$search.focus()},0)}),n.on("close",function(){o.$search.attr("tabindex",-1),o.$search.val("")}),n.on("results:all",function(e){if(null==e.query.term||""===e.query.term){var t=o.showSearch(e);t?o.$searchContainer.removeClass("select2-search--hide"):o.$searchContainer.addClass("select2-search--hide")}})},t.prototype.handleSearch=function(){if(!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},t.prototype.showSearch=function(){return!0},t}),t.define("select2/dropdown/hidePlaceholder",[],function(){function e(e,t,n,i){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),e.call(this,t,n,i)}return e.prototype.append=function(e,t){t.results=this.removePlaceholder(t.results),e.call(this,t)},e.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},e.prototype.removePlaceholder=function(e,t){for(var n=t.slice(0),i=t.length-1;i>=0;i--){var o=t[i];this.placeholder.id===o.id&&n.splice(i,1)}return n},e}),t.define("select2/dropdown/infiniteScroll",["jquery"],function(e){function t(e,t,n,i){this.lastParams={},e.call(this,t,n,i),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return t.prototype.append=function(e,t){this.$loadingMore.remove(),this.loading=!1,e.call(this,t),this.showLoadingMore(t)&&this.$results.append(this.$loadingMore)},t.prototype.bind=function(t,n,i){var o=this;t.call(this,n,i),n.on("query",function(e){o.lastParams=e,o.loading=!0}),n.on("query:append",function(e){o.lastParams=e,o.loading=!0}),this.$results.on("scroll",function(){var t=e.contains(document.documentElement,o.$loadingMore[0]);if(!o.loading&&t){var n=o.$results.offset().top+o.$results.outerHeight(!1),i=o.$loadingMore.offset().top+o.$loadingMore.outerHeight(!1);n+50>=i&&o.loadMore()}})},t.prototype.loadMore=function(){this.loading=!0;var t=e.extend({},{page:1},this.lastParams);t.page++,this.trigger("query:append",t)},t.prototype.showLoadingMore=function(e,t){return t.pagination&&t.pagination.more},t.prototype.createLoadingMore=function(){var t=e('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'),n=this.options.get("translations").get("loadingMore");return t.html(n(this.lastParams)),t},t}),t.define("select2/dropdown/attachBody",["jquery","../utils"],function(e,t){function n(t,n,i){this.$dropdownParent=i.get("dropdownParent")||e(document.body),t.call(this,n,i)}return n.prototype.bind=function(e,t,n){var i=this,o=!1;e.call(this,t,n),t.on("open",function(){i._showDropdown(),i._attachPositioningHandler(t),o||(o=!0,t.on("results:all",function(){i._positionDropdown(),i._resizeDropdown()}),t.on("results:append",function(){i._positionDropdown(),i._resizeDropdown()}))}),t.on("close",function(){i._hideDropdown(),i._detachPositioningHandler(t)}),this.$dropdownContainer.on("mousedown",function(e){e.stopPropagation()})},n.prototype.destroy=function(e){e.call(this),this.$dropdownContainer.remove()},n.prototype.position=function(e,t,n){t.attr("class",n.attr("class")),t.removeClass("select2"),t.addClass("select2-container--open"),t.css({position:"absolute",top:-999999}),this.$container=n},n.prototype.render=function(t){var n=e("<span></span>"),i=t.call(this);return n.append(i),this.$dropdownContainer=n,n},n.prototype._hideDropdown=function(){this.$dropdownContainer.detach()},n.prototype._attachPositioningHandler=function(n,i){var o=this,r="scroll.select2."+i.id,s="resize.select2."+i.id,a="orientationchange.select2."+i.id,l=this.$container.parents().filter(t.hasScroll);l.each(function(){e(this).data("select2-scroll-position",{x:e(this).scrollLeft(),y:e(this).scrollTop()})}),l.on(r,function(){var t=e(this).data("select2-scroll-position");e(this).scrollTop(t.y)}),e(window).on(r+" "+s+" "+a,function(){o._positionDropdown(),o._resizeDropdown()})},n.prototype._detachPositioningHandler=function(n,i){var o="scroll.select2."+i.id,r="resize.select2."+i.id,s="orientationchange.select2."+i.id,a=this.$container.parents().filter(t.hasScroll);a.off(o),e(window).off(o+" "+r+" "+s)},n.prototype._positionDropdown=function(){var t=e(window),n=this.$dropdown.hasClass("select2-dropdown--above"),i=this.$dropdown.hasClass("select2-dropdown--below"),o=null,r=this.$container.offset();r.bottom=r.top+this.$container.outerHeight(!1);var s={height:this.$container.outerHeight(!1)};s.top=r.top,s.bottom=r.top+s.height;var a={height:this.$dropdown.outerHeight(!1)},l={top:t.scrollTop(),bottom:t.scrollTop()+t.height()},u=l.top<r.top-a.height,c=l.bottom>r.bottom+a.height,d={left:r.left,top:s.bottom},h=this.$dropdownParent;"static"===h.css("position")&&(h=h.offsetParent());var p=h.offset();d.top-=p.top,d.left-=p.left,n||i||(o="below"),c||!u||n?!u&&c&&n&&(o="below"):o="above",("above"==o||n&&"below"!==o)&&(d.top=s.top-a.height),null!=o&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+o),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+o)),this.$dropdownContainer.css(d)},n.prototype._resizeDropdown=function(){var e={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(e.minWidth=e.width,e.width="auto"),this.$dropdown.css(e)},n.prototype._showDropdown=function(){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},n}),t.define("select2/dropdown/minimumResultsForSearch",[],function(){function e(t){for(var n=0,i=0;i<t.length;i++){var o=t[i];o.children?n+=e(o.children):n++}return n}function t(e,t,n,i){this.minimumResultsForSearch=n.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),e.call(this,t,n,i)}return t.prototype.showSearch=function(t,n){return e(n.data.results)<this.minimumResultsForSearch?!1:t.call(this,n)},t}),t.define("select2/dropdown/selectOnClose",[],function(){function e(){}return e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("close",function(){i._handleSelectOnClose()})},e.prototype._handleSelectOnClose=function(){var e=this.getHighlightedResults();if(!(e.length<1)){var t=e.data("data");null!=t.element&&t.element.selected||null==t.element&&t.selected||this.trigger("select",{data:t})}},e}),t.define("select2/dropdown/closeOnSelect",[],function(){function e(){}return e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("select",function(e){i._selectTriggered(e)}),t.on("unselect",function(e){i._selectTriggered(e)})},e.prototype._selectTriggered=function(e,t){var n=t.originalEvent;n&&n.ctrlKey||this.trigger("close",{})},e}),t.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(e){var t=e.input.length-e.maximum,n="Please delete "+t+" character";return 1!=t&&(n+="s"),n},inputTooShort:function(e){var t=e.minimum-e.input.length,n="Please enter "+t+" or more characters";return n},loadingMore:function(){return"Loading more results"},maximumSelected:function(e){var t="You can only select "+e.maximum+" item";return 1!=e.maximum&&(t+="s"),t},noResults:function(){return"No results found"},searching:function(){return"Searching"}}}),t.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(e,t,n,i,o,r,s,a,l,u,c,d,h,p,f,m,g,v,y,b,w,C,k,x,D,_,S,T,E){function A(){this.reset()}A.prototype.apply=function(d){if(d=e.extend(!0,{},this.defaults,d),null==d.dataAdapter){if(d.dataAdapter=null!=d.ajax?f:null!=d.data?p:h,d.minimumInputLength>0&&(d.dataAdapter=u.Decorate(d.dataAdapter,v)),d.maximumInputLength>0&&(d.dataAdapter=u.Decorate(d.dataAdapter,y)),d.maximumSelectionLength>0&&(d.dataAdapter=u.Decorate(d.dataAdapter,b)),d.tags&&(d.dataAdapter=u.Decorate(d.dataAdapter,m)),(null!=d.tokenSeparators||null!=d.tokenizer)&&(d.dataAdapter=u.Decorate(d.dataAdapter,g)),null!=d.query){var E=t(d.amdBase+"compat/query");d.dataAdapter=u.Decorate(d.dataAdapter,E)}if(null!=d.initSelection){var A=t(d.amdBase+"compat/initSelection");d.dataAdapter=u.Decorate(d.dataAdapter,A)}}if(null==d.resultsAdapter&&(d.resultsAdapter=n,null!=d.ajax&&(d.resultsAdapter=u.Decorate(d.resultsAdapter,x)),null!=d.placeholder&&(d.resultsAdapter=u.Decorate(d.resultsAdapter,k)),d.selectOnClose&&(d.resultsAdapter=u.Decorate(d.resultsAdapter,S))),null==d.dropdownAdapter){if(d.multiple)d.dropdownAdapter=w;else{var M=u.Decorate(w,C);d.dropdownAdapter=M}if(0!==d.minimumResultsForSearch&&(d.dropdownAdapter=u.Decorate(d.dropdownAdapter,_)),d.closeOnSelect&&(d.dropdownAdapter=u.Decorate(d.dropdownAdapter,T)),null!=d.dropdownCssClass||null!=d.dropdownCss||null!=d.adaptDropdownCssClass){var N=t(d.amdBase+"compat/dropdownCss");d.dropdownAdapter=u.Decorate(d.dropdownAdapter,N)}d.dropdownAdapter=u.Decorate(d.dropdownAdapter,D)}if(null==d.selectionAdapter){if(d.selectionAdapter=d.multiple?o:i,null!=d.placeholder&&(d.selectionAdapter=u.Decorate(d.selectionAdapter,r)),d.allowClear&&(d.selectionAdapter=u.Decorate(d.selectionAdapter,s)),d.multiple&&(d.selectionAdapter=u.Decorate(d.selectionAdapter,a)),null!=d.containerCssClass||null!=d.containerCss||null!=d.adaptContainerCssClass){var F=t(d.amdBase+"compat/containerCss");d.selectionAdapter=u.Decorate(d.selectionAdapter,F)}d.selectionAdapter=u.Decorate(d.selectionAdapter,l)}if("string"==typeof d.language)if(d.language.indexOf("-")>0){var O=d.language.split("-"),I=O[0];d.language=[d.language,I]}else d.language=[d.language];if(e.isArray(d.language)){var $=new c;d.language.push("en");for(var P=d.language,R=0;R<P.length;R++){var H=P[R],L={};try{L=c.loadPath(H)}catch(U){try{H=this.defaults.amdLanguageBase+H,L=c.loadPath(H)}catch(z){d.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+H+'" could not be automatically loaded. A fallback will be used instead.');continue}}$.extend(L)}d.translations=$}else{var B=c.loadPath(this.defaults.amdLanguageBase+"en"),j=new c(d.language);j.extend(B),d.translations=j}return d},A.prototype.reset=function(){function t(e){function t(e){return d[e]||e}return e.replace(/[^\u0000-\u007E]/g,t)}function n(i,o){if(""===e.trim(i.term))return o;if(o.children&&o.children.length>0){for(var r=e.extend(!0,{},o),s=o.children.length-1;s>=0;s--){var a=o.children[s],l=n(i,a);null==l&&r.children.splice(s,1)}return r.children.length>0?r:n(i,r)}var u=t(o.text).toUpperCase(),c=t(i.term).toUpperCase();return u.indexOf(c)>-1?o:null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:u.escapeMarkup,language:E,matcher:n,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(e){return e},templateResult:function(e){return e.text},templateSelection:function(e){return e.text},theme:"default",width:"resolve"}},A.prototype.set=function(t,n){var i=e.camelCase(t),o={};o[i]=n;var r=u._convertData(o);e.extend(this.defaults,r)};var M=new A;return M}),t.define("select2/options",["require","jquery","./defaults","./utils"],function(e,t,n,i){function o(t,o){if(this.options=t,null!=o&&this.fromElement(o),this.options=n.apply(this.options),o&&o.is("input")){var r=e(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=i.Decorate(this.options.dataAdapter,r)}}return o.prototype.fromElement=function(e){var n=["select2"];null==this.options.multiple&&(this.options.multiple=e.prop("multiple")),null==this.options.disabled&&(this.options.disabled=e.prop("disabled")),null==this.options.language&&(e.prop("lang")?this.options.language=e.prop("lang").toLowerCase():e.closest("[lang]").prop("lang")&&(this.options.language=e.closest("[lang]").prop("lang"))),null==this.options.dir&&(this.options.dir=e.prop("dir")?e.prop("dir"):e.closest("[dir]").prop("dir")?e.closest("[dir]").prop("dir"):"ltr"),e.prop("disabled",this.options.disabled),e.prop("multiple",this.options.multiple),e.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),e.data("data",e.data("select2Tags")),e.data("tags",!0)),e.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),e.attr("ajax--url",e.data("ajaxUrl")),e.data("ajax--url",e.data("ajaxUrl")));var o={};o=t.fn.jquery&&"1."==t.fn.jquery.substr(0,2)&&e[0].dataset?t.extend(!0,{},e[0].dataset,e.data()):e.data();var r=t.extend(!0,{},o);r=i._convertData(r);for(var s in r)t.inArray(s,n)>-1||(t.isPlainObject(this.options[s])?t.extend(this.options[s],r[s]):this.options[s]=r[s]);return this},o.prototype.get=function(e){return this.options[e]},o.prototype.set=function(e,t){this.options[e]=t},o}),t.define("select2/core",["jquery","./options","./utils","./keys"],function(e,t,n,i){var o=function(e,n){null!=e.data("select2")&&e.data("select2").destroy(),this.$element=e,this.id=this._generateId(e),n=n||{},this.options=new t(n,e),o.__super__.constructor.call(this);var i=e.attr("tabindex")||0;e.data("old-tabindex",i),e.attr("tabindex","-1");var r=this.options.get("dataAdapter");this.dataAdapter=new r(e,this.options);var s=this.render();this._placeContainer(s);var a=this.options.get("selectionAdapter");this.selection=new a(e,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,s);var l=this.options.get("dropdownAdapter");this.dropdown=new l(e,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,s);var u=this.options.get("resultsAdapter");this.results=new u(e,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var c=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(e){c.trigger("selection:update",{data:e})}),e.addClass("select2-hidden-accessible"),e.attr("aria-hidden","true"),this._syncAttributes(),e.data("select2",this)};return n.Extend(o,n.Observable),o.prototype._generateId=function(e){var t="";return t=null!=e.attr("id")?e.attr("id"):null!=e.attr("name")?e.attr("name")+"-"+n.generateChars(2):n.generateChars(4),t=t.replace(/(:|\.|\[|\]|,)/g,""),t="select2-"+t},o.prototype._placeContainer=function(e){e.insertAfter(this.$element);var t=this._resolveWidth(this.$element,this.options.get("width"));null!=t&&e.css("width",t)},o.prototype._resolveWidth=function(e,t){var n=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==t){var i=this._resolveWidth(e,"style");return null!=i?i:this._resolveWidth(e,"element")}if("element"==t){var o=e.outerWidth(!1);return 0>=o?"auto":o+"px"}if("style"==t){var r=e.attr("style");if("string"!=typeof r)return null;for(var s=r.split(";"),a=0,l=s.length;l>a;a+=1){var u=s[a].replace(/\s/g,""),c=u.match(n);if(null!==c&&c.length>=1)return c[1]}return null}return t},o.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},o.prototype._registerDomEvents=function(){var t=this;this.$element.on("change.select2",function(){t.dataAdapter.current(function(e){t.trigger("selection:update",{data:e})})}),this._sync=n.bind(this._syncAttributes,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._sync);var i=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=i?(this._observer=new i(function(n){e.each(n,t._sync)}),this._observer.observe(this.$element[0],{attributes:!0,subtree:!1})):this.$element[0].addEventListener&&this.$element[0].addEventListener("DOMAttrModified",t._sync,!1)},o.prototype._registerDataEvents=function(){var e=this;this.dataAdapter.on("*",function(t,n){e.trigger(t,n)})},o.prototype._registerSelectionEvents=function(){var t=this,n=["toggle","focus"];this.selection.on("toggle",function(){t.toggleDropdown()}),this.selection.on("focus",function(e){t.focus(e)}),this.selection.on("*",function(i,o){-1===e.inArray(i,n)&&t.trigger(i,o)})},o.prototype._registerDropdownEvents=function(){var e=this;this.dropdown.on("*",function(t,n){e.trigger(t,n)})},o.prototype._registerResultsEvents=function(){var e=this;this.results.on("*",function(t,n){e.trigger(t,n)})},o.prototype._registerEvents=function(){var e=this;this.on("open",function(){e.$container.addClass("select2-container--open")}),this.on("close",function(){e.$container.removeClass("select2-container--open")}),this.on("enable",function(){e.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){e.$container.addClass("select2-container--disabled")}),this.on("blur",function(){e.$container.removeClass("select2-container--focus")}),this.on("query",function(t){e.isOpen()||e.trigger("open",{}),this.dataAdapter.query(t,function(n){e.trigger("results:all",{data:n,query:t})})}),this.on("query:append",function(t){this.dataAdapter.query(t,function(n){e.trigger("results:append",{data:n,query:t})})}),this.on("keypress",function(t){var n=t.which;e.isOpen()?n===i.ESC||n===i.TAB||n===i.UP&&t.altKey?(e.close(),t.preventDefault()):n===i.ENTER?(e.trigger("results:select",{}),t.preventDefault()):n===i.SPACE&&t.ctrlKey?(e.trigger("results:toggle",{}),t.preventDefault()):n===i.UP?(e.trigger("results:previous",{}),t.preventDefault()):n===i.DOWN&&(e.trigger("results:next",{}),t.preventDefault()):(n===i.ENTER||n===i.SPACE||n===i.DOWN&&t.altKey)&&(e.open(),t.preventDefault())})},o.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},o.prototype.trigger=function(e,t){var n=o.__super__.trigger,i={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(void 0===t&&(t={}),e in i){var r=i[e],s={prevented:!1,name:e,args:t};if(n.call(this,r,s),s.prevented)return void(t.prevented=!0)}n.call(this,e,t)},o.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},o.prototype.open=function(){this.isOpen()||this.trigger("query",{})},o.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},o.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},o.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},o.prototype.focus=function(){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},o.prototype.enable=function(e){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),(null==e||0===e.length)&&(e=[!0]);var t=!e[0];this.$element.prop("disabled",t)},o.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var e=[];return this.dataAdapter.current(function(t){e=t}),e},o.prototype.val=function(t){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==t||0===t.length)return this.$element.val();var n=t[0];e.isArray(n)&&(n=e.map(n,function(e){return e.toString()})),this.$element.val(n).trigger("change")},o.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._sync),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&this.$element[0].removeEventListener("DOMAttrModified",this._sync,!1),this._sync=null,this.$element.off(".select2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},o.prototype.render=function(){var t=e('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return t.attr("dir",this.options.get("dir")),this.$container=t,this.$container.addClass("select2-container--"+this.options.get("theme")),t.data("element",this.$element),t},o}),t.define("select2/compat/utils",["jquery"],function(e){function t(t,n,i){var o,r,s=[];o=e.trim(t.attr("class")),o&&(o=""+o,e(o.split(/\s+/)).each(function(){0===this.indexOf("select2-")&&s.push(this)})),o=e.trim(n.attr("class")),o&&(o=""+o,e(o.split(/\s+/)).each(function(){0!==this.indexOf("select2-")&&(r=i(this),null!=r&&s.push(r))})),t.attr("class",s.join(" "))}return{syncCssClasses:t}}),t.define("select2/compat/containerCss",["jquery","./utils"],function(e,t){function n(){return null}function i(){}return i.prototype.render=function(i){var o=i.call(this),r=this.options.get("containerCssClass")||"";e.isFunction(r)&&(r=r(this.$element));var s=this.options.get("adaptContainerCssClass");if(s=s||n,-1!==r.indexOf(":all:")){r=r.replace(":all:","");var a=s;
s=function(e){var t=a(e);return null!=t?t+" "+e:e}}var l=this.options.get("containerCss")||{};return e.isFunction(l)&&(l=l(this.$element)),t.syncCssClasses(o,this.$element,s),o.css(l),o.addClass(r),o},i}),t.define("select2/compat/dropdownCss",["jquery","./utils"],function(e,t){function n(){return null}function i(){}return i.prototype.render=function(i){var o=i.call(this),r=this.options.get("dropdownCssClass")||"";e.isFunction(r)&&(r=r(this.$element));var s=this.options.get("adaptDropdownCssClass");if(s=s||n,-1!==r.indexOf(":all:")){r=r.replace(":all:","");var a=s;s=function(e){var t=a(e);return null!=t?t+" "+e:e}}var l=this.options.get("dropdownCss")||{};return e.isFunction(l)&&(l=l(this.$element)),t.syncCssClasses(o,this.$element,s),o.css(l),o.addClass(r),o},i}),t.define("select2/compat/initSelection",["jquery"],function(e){function t(e,t,n){n.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `initSelection` option has been deprecated in favor of a custom data adapter that overrides the `current` method. This method is now called multiple times instead of a single time when the instance is initialized. Support will be removed for the `initSelection` option in future versions of Select2"),this.initSelection=n.get("initSelection"),this._isInitialized=!1,e.call(this,t,n)}return t.prototype.current=function(t,n){var i=this;return this._isInitialized?void t.call(this,n):void this.initSelection.call(null,this.$element,function(t){i._isInitialized=!0,e.isArray(t)||(t=[t]),n(t)})},t}),t.define("select2/compat/inputData",["jquery"],function(e){function t(e,t,n){this._currentData=[],this._valueSeparator=n.get("valueSeparator")||",","hidden"===t.prop("type")&&n.get("debug")&&console&&console.warn&&console.warn("Select2: Using a hidden input with Select2 is no longer supported and may stop working in the future. It is recommended to use a `<select>` element instead."),e.call(this,t,n)}return t.prototype.current=function(t,n){function i(t,n){var o=[];return t.selected||-1!==e.inArray(t.id,n)?(t.selected=!0,o.push(t)):t.selected=!1,t.children&&o.push.apply(o,i(t.children,n)),o}for(var o=[],r=0;r<this._currentData.length;r++){var s=this._currentData[r];o.push.apply(o,i(s,this.$element.val().split(this._valueSeparator)))}n(o)},t.prototype.select=function(t,n){if(this.options.get("multiple")){var i=this.$element.val();i+=this._valueSeparator+n.id,this.$element.val(i),this.$element.trigger("change")}else this.current(function(t){e.map(t,function(e){e.selected=!1})}),this.$element.val(n.id),this.$element.trigger("change")},t.prototype.unselect=function(e,t){var n=this;t.selected=!1,this.current(function(e){for(var i=[],o=0;o<e.length;o++){var r=e[o];t.id!=r.id&&i.push(r.id)}n.$element.val(i.join(n._valueSeparator)),n.$element.trigger("change")})},t.prototype.query=function(e,t,n){for(var i=[],o=0;o<this._currentData.length;o++){var r=this._currentData[o],s=this.matches(t,r);null!==s&&i.push(s)}n({results:i})},t.prototype.addOptions=function(t,n){var i=e.map(n,function(t){return e.data(t[0],"data")});this._currentData.push.apply(this._currentData,i)},t}),t.define("select2/compat/matcher",["jquery"],function(e){function t(t){function n(n,i){var o=e.extend(!0,{},i);if(null==n.term||""===e.trim(n.term))return o;if(i.children){for(var r=i.children.length-1;r>=0;r--){var s=i.children[r],a=t(n.term,s.text,s);a||o.children.splice(r,1)}if(o.children.length>0)return o}return t(n.term,i.text,i)?o:null}return n}return t}),t.define("select2/compat/query",[],function(){function e(e,t,n){n.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `query` option has been deprecated in favor of a custom data adapter that overrides the `query` method. Support will be removed for the `query` option in future versions of Select2."),e.call(this,t,n)}return e.prototype.query=function(e,t,n){t.callback=n;var i=this.options.get("query");i.call(null,t)},e}),t.define("select2/dropdown/attachContainer",[],function(){function e(e,t,n){e.call(this,t,n)}return e.prototype.position=function(e,t,n){var i=n.find(".dropdown-wrapper");i.append(t),t.addClass("select2-dropdown--below"),n.addClass("select2-container--below")},e}),t.define("select2/dropdown/stopPropagation",[],function(){function e(){}return e.prototype.bind=function(e,t,n){e.call(this,t,n);var i=["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"];this.$dropdown.on(i.join(" "),function(e){e.stopPropagation()})},e}),t.define("select2/selection/stopPropagation",[],function(){function e(){}return e.prototype.bind=function(e,t,n){e.call(this,t,n);var i=["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"];this.$selection.on(i.join(" "),function(e){e.stopPropagation()})},e}),function(n){"function"==typeof t.define&&t.define.amd?t.define("jquery-mousewheel",["jquery"],n):"object"==typeof exports?module.exports=n:n(e)}(function(e){function t(t){var s=t||window.event,a=l.call(arguments,1),u=0,d=0,h=0,p=0,f=0,m=0;if(t=e.event.fix(s),t.type="mousewheel","detail"in s&&(h=-1*s.detail),"wheelDelta"in s&&(h=s.wheelDelta),"wheelDeltaY"in s&&(h=s.wheelDeltaY),"wheelDeltaX"in s&&(d=-1*s.wheelDeltaX),"axis"in s&&s.axis===s.HORIZONTAL_AXIS&&(d=-1*h,h=0),u=0===h?d:h,"deltaY"in s&&(h=-1*s.deltaY,u=h),"deltaX"in s&&(d=s.deltaX,0===h&&(u=-1*d)),0!==h||0!==d){if(1===s.deltaMode){var g=e.data(this,"mousewheel-line-height");u*=g,h*=g,d*=g}else if(2===s.deltaMode){var v=e.data(this,"mousewheel-page-height");u*=v,h*=v,d*=v}if(p=Math.max(Math.abs(h),Math.abs(d)),(!r||r>p)&&(r=p,i(s,p)&&(r/=40)),i(s,p)&&(u/=40,d/=40,h/=40),u=Math[u>=1?"floor":"ceil"](u/r),d=Math[d>=1?"floor":"ceil"](d/r),h=Math[h>=1?"floor":"ceil"](h/r),c.settings.normalizeOffset&&this.getBoundingClientRect){var y=this.getBoundingClientRect();f=t.clientX-y.left,m=t.clientY-y.top}return t.deltaX=d,t.deltaY=h,t.deltaFactor=r,t.offsetX=f,t.offsetY=m,t.deltaMode=0,a.unshift(t,u,d,h),o&&clearTimeout(o),o=setTimeout(n,200),(e.event.dispatch||e.event.handle).apply(this,a)}}function n(){r=null}function i(e,t){return c.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120===0}var o,r,s=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],a="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(e.event.fixHooks)for(var u=s.length;u;)e.event.fixHooks[s[--u]]=e.event.mouseHooks;var c=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var n=a.length;n;)this.addEventListener(a[--n],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",c.getLineHeight(this)),e.data(this,"mousewheel-page-height",c.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var n=a.length;n;)this.removeEventListener(a[--n],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var n=e(t),i=n["offsetParent"in e.fn?"offsetParent":"parent"]();return i.length||(i=e("body")),parseInt(i.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),t.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults"],function(e,t,n,i){if(null==e.fn.select2){var o=["open","close","destroy"];e.fn.select2=function(t){if(t=t||{},"object"==typeof t)return this.each(function(){var i=e.extend(!0,{},t);new n(e(this),i)}),this;if("string"==typeof t){var i;return this.each(function(){var n=e(this).data("select2");null==n&&window.console&&console.error&&console.error("The select2('"+t+"') method was called on an element that is not using Select2.");var o=Array.prototype.slice.call(arguments,1);i=n[t].apply(n,o)}),e.inArray(t,o)>-1?this:i}throw new Error("Invalid arguments for Select2: "+t)}}return null==e.fn.select2.defaults&&(e.fn.select2.defaults=i),n}),{define:t.define,require:t.require}}(),n=t.require("jquery.select2");return e.fn.select2.amd=t,n}),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(window.jQuery)}(function(e){"use strict";var t,n=function(){var t=function(e){return function(t){return e===t}},n=function(e,t){return e===t},i=function(e){return function(t,n){return t[e]===n[e]}},o=function(){return!0},r=function(){return!1},s=function(e){return function(){return!e.apply(e,arguments)}},a=function(e,t){return function(n){return e(n)&&t(n)}},l=function(e){return e},u=function(e,t){return function(){return e[t].apply(e,arguments)}},c=0,d=function(e){var t=++c+"";return e?e+t:t},h=function(t){var n=e(document);return{top:t.top+n.scrollTop(),left:t.left+n.scrollLeft(),width:t.right-t.left,height:t.bottom-t.top}},p=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t},f=function(e,t){return t=t||"",t+e.split(".").map(function(e){return e.substring(0,1).toUpperCase()+e.substring(1)}).join("")};return{eq:t,eq2:n,peq2:i,ok:o,fail:r,self:l,not:s,and:a,invoke:u,uniqueId:d,rect2bnd:h,invertObject:p,namespaceToCamel:f}}(),i=function(){var t=function(e){return e[0]},i=function(e){return e[e.length-1]},o=function(e){return e.slice(0,e.length-1)},r=function(e){return e.slice(1)},s=function(e,t){for(var n=0,i=e.length;i>n;n++){var o=e[n];if(t(o))return o}},a=function(e,t){for(var n=0,i=e.length;i>n;n++)if(!t(e[n]))return!1;return!0},l=function(t,n){return e.inArray(n,t)},u=function(e,t){return-1!==l(e,t)},c=function(e,t){return t=t||n.self,e.reduce(function(e,n){return e+t(n)},0)},d=function(e){for(var t=[],n=-1,i=e.length;++n<i;)t[n]=e[n];return t},h=function(e){return!e||!e.length},p=function(e,n){if(!e.length)return[];var o=r(e);return o.reduce(function(e,t){var o=i(e);return n(i(o),t)?o[o.length]=t:e[e.length]=[t],e},[[t(e)]])},f=function(e){for(var t=[],n=0,i=e.length;i>n;n++)e[n]&&t.push(e[n]);return t},m=function(e){for(var t=[],n=0,i=e.length;i>n;n++)u(t,e[n])||t.push(e[n]);return t},g=function(e,t){var n=l(e,t);return-1===n?null:e[n+1]},v=function(e,t){var n=l(e,t);return-1===n?null:e[n-1]};return{head:t,last:i,initial:o,tail:r,prev:v,next:g,find:s,contains:u,all:a,sum:c,from:d,isEmpty:h,clusterBy:p,compact:f,unique:m}}(),o="function"==typeof define&&define.amd,r=function(t){var n="Comic Sans MS"===t?"Courier New":"Comic Sans MS",i=e("<div>").css({position:"absolute",left:"-9999px",top:"-9999px",fontSize:"200px"}).text("mmmmmmmmmwwwwwww").appendTo(document.body),o=i.css("fontFamily",n).width(),r=i.css("fontFamily",t+","+n).width();return i.remove(),o!==r},s=navigator.userAgent,a=/MSIE|Trident/i.test(s);if(a){var l=/MSIE (\d+[.]\d+)/.exec(s);l&&(t=parseFloat(l[1])),l=/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(s),l&&(t=parseFloat(l[1]))}var u=/Edge\/\d+/.test(s),c=!!window.CodeMirror;if(!c&&o&&require)if(require.hasOwnProperty("resolve"))try{require.resolve("codemirror"),c=!0}catch(d){c=!1}else require.hasOwnProperty("specified")&&(c=require.specified("codemirror"));var h={isMac:navigator.appVersion.indexOf("Mac")>-1,isMSIE:a,isEdge:u,isFF:!u&&/firefox/i.test(s),isPhantom:/PhantomJS/i.test(s),isWebkit:!u&&/webkit/i.test(s),isChrome:!u&&/chrome/i.test(s),isSafari:!u&&/safari/i.test(s),browserVersion:t,jqueryVersion:parseFloat(e.fn.jquery),isSupportAmd:o,hasCodeMirror:c,isFontInstalled:r,isW3CRangeSupport:!!document.createRange},p=String.fromCharCode(160),f="",m=function(){var t=function(t){return t&&e(t).hasClass("note-editable")},o=function(t){return t&&e(t).hasClass("note-control-sizing")},r=function(e){return e=e.toUpperCase(),function(t){return t&&t.nodeName.toUpperCase()===e}},s=function(e){return e&&3===e.nodeType},a=function(e){return e&&1===e.nodeType},l=function(e){return e&&/^BR|^IMG|^HR|^IFRAME|^BUTTON/.test(e.nodeName.toUpperCase())},u=function(e){return t(e)?!1:e&&/^DIV|^P|^LI|^H[1-7]/.test(e.nodeName.toUpperCase())},c=function(e){return e&&/^H[1-7]/.test(e.nodeName.toUpperCase())},d=r("PRE"),g=r("LI"),v=function(e){return u(e)&&!g(e)},y=r("TABLE"),b=function(e){return!(D(e)||w(e)||C(e)||u(e)||y(e)||x(e))},w=function(e){return e&&/^UL|^OL/.test(e.nodeName.toUpperCase())},C=r("HR"),k=function(e){return e&&/^TD|^TH/.test(e.nodeName.toUpperCase())},x=r("BLOCKQUOTE"),D=function(e){return k(e)||x(e)||t(e)},_=r("A"),S=function(e){return b(e)&&!!$(e,u)},T=function(e){return b(e)&&!$(e,u)},E=r("BODY"),A=function(e,t){return e.nextSibling===t||e.previousSibling===t},M=function(e,t){t=t||n.ok;var i=[];return e.previousSibling&&t(e.previousSibling)&&i.push(e.previousSibling),i.push(e),e.nextSibling&&t(e.nextSibling)&&i.push(e.nextSibling),i},N=h.isMSIE&&h.browserVersion<11?"&nbsp;":"<br>",F=function(e){return s(e)?e.nodeValue.length:e.childNodes.length},O=function(e){var t=F(e);return 0===t?!0:s(e)||1!==t||e.innerHTML!==N?i.all(e.childNodes,s)&&""===e.innerHTML?!0:!1:!0},I=function(e){l(e)||F(e)||(e.innerHTML=N)},$=function(e,n){for(;e;){if(n(e))return e;if(t(e))break;e=e.parentNode}return null},P=function(e,n){for(e=e.parentNode;e&&1===F(e);){if(n(e))return e;if(t(e))break;e=e.parentNode}return null},R=function(e,i){i=i||n.fail;var o=[];return $(e,function(e){return t(e)||o.push(e),i(e)}),o},H=function(e,t){var n=R(e);return i.last(n.filter(t))},L=function(t,n){for(var i=R(t),o=n;o;o=o.parentNode)if(e.inArray(o,i)>-1)return o;return null},U=function(e,t){t=t||n.fail;for(var i=[];e&&!t(e);)i.push(e),e=e.previousSibling;return i},z=function(e,t){t=t||n.fail;for(var i=[];e&&!t(e);)i.push(e),e=e.nextSibling;return i},B=function(e,t){var i=[];return t=t||n.ok,function o(n){e!==n&&t(n)&&i.push(n);for(var r=0,s=n.childNodes.length;s>r;r++)o(n.childNodes[r])}(e),i},j=function(t,n){var i=t.parentNode,o=e("<"+n+">")[0];return i.insertBefore(o,t),o.appendChild(t),o},Y=function(e,t){var n=t.nextSibling,i=t.parentNode;return n?i.insertBefore(e,n):i.appendChild(e),e},W=function(t,n){return e.each(n,function(e,n){t.appendChild(n)}),t},V=function(e){return 0===e.offset},q=function(e){return e.offset===F(e.node)},G=function(e){return V(e)||q(e)},K=function(e,t){for(;e&&e!==t;){if(0!==X(e))return!1;e=e.parentNode}return!0},J=function(e,t){for(;e&&e!==t;){if(X(e)!==F(e.parentNode)-1)return!1;e=e.parentNode}return!0},Q=function(e,t){return V(e)&&K(e.node,t)},Z=function(e,t){return q(e)&&J(e.node,t)},X=function(e){for(var t=0;e=e.previousSibling;)t+=1;return t},et=function(e){return!!(e&&e.childNodes&&e.childNodes.length)},tt=function(e,n){var i,o;if(0===e.offset){if(t(e.node))return null;i=e.node.parentNode,o=X(e.node)}else et(e.node)?(i=e.node.childNodes[e.offset-1],o=F(i)):(i=e.node,o=n?0:e.offset-1);return{node:i,offset:o}},nt=function(e,n){var i,o;if(F(e.node)===e.offset){if(t(e.node))return null;i=e.node.parentNode,o=X(e.node)+1}else et(e.node)?(i=e.node.childNodes[e.offset],o=0):(i=e.node,o=n?F(e.node):e.offset+1);return{node:i,offset:o}},it=function(e,t){return e.node===t.node&&e.offset===t.offset},ot=function(e){if(s(e.node)||!et(e.node)||O(e.node))return!0;var t=e.node.childNodes[e.offset-1],n=e.node.childNodes[e.offset];return t&&!l(t)||n&&!l(n)?!1:!0},rt=function(e,t){for(;e;){if(t(e))return e;e=tt(e)}return null},st=function(e,t){for(;e;){if(t(e))return e;e=nt(e)}return null},at=function(e){if(!s(e.node))return!1;var t=e.node.nodeValue.charAt(e.offset-1);return t&&" "!==t&&t!==p},lt=function(e,t,n,i){for(var o=e;o&&(n(o),!it(o,t));){var r=i&&e.node!==o.node&&t.node!==o.node;o=nt(o,r)}},ut=function(e,t){var i=R(t,n.eq(e));return i.map(X).reverse()},ct=function(e,t){for(var n=e,i=0,o=t.length;o>i;i++)n=n.childNodes.length<=t[i]?n.childNodes[n.childNodes.length-1]:n.childNodes[t[i]];return n},dt=function(e,t){var n=t&&t.isSkipPaddingBlankHTML,i=t&&t.isNotSplitEdgePoint;if(G(e)&&(s(e.node)||i)){if(V(e))return e.node;if(q(e))return e.node.nextSibling}if(s(e.node))return e.node.splitText(e.offset);var o=e.node.childNodes[e.offset],r=Y(e.node.cloneNode(!1),e.node);return W(r,z(o)),n||(I(e.node),I(r)),r},ht=function(e,t,i){var o=R(t.node,n.eq(e));return o.length?1===o.length?dt(t,i):o.reduce(function(e,n){return e===t.node&&(e=dt(t,i)),dt({node:n,offset:e?m.position(e):F(n)},i)}):null},pt=function(e,t){var n,o,r=t?u:D,s=R(e.node,r),a=i.last(s)||e.node;r(a)?(n=s[s.length-2],o=a):(n=a,o=n.parentNode);var l=n&&ht(n,e,{isSkipPaddingBlankHTML:t,isNotSplitEdgePoint:t});return l||o!==e.node||(l=e.node.childNodes[e.offset]),{rightNode:l,container:o}},ft=function(e){return document.createElement(e)},mt=function(e){return document.createTextNode(e)},gt=function(e,t){if(e&&e.parentNode){if(e.removeNode)return e.removeNode(t);var n=e.parentNode;if(!t){var i,o,r=[];for(i=0,o=e.childNodes.length;o>i;i++)r.push(e.childNodes[i]);for(i=0,o=r.length;o>i;i++)n.insertBefore(r[i],e)}n.removeChild(e)}},vt=function(e,n){for(;e&&!t(e)&&n(e);){var i=e.parentNode;gt(e),e=i}},yt=function(e,t){if(e.nodeName.toUpperCase()===t.toUpperCase())return e;var n=ft(t);return e.style.cssText&&(n.style.cssText=e.style.cssText),W(n,i.from(e.childNodes)),Y(n,e),gt(e),n},bt=r("TEXTAREA"),wt=function(e,t){var n=bt(e[0])?e.val():e.html();return t?n.replace(/[\n\r]/g,""):n},Ct=function(t,n){var i=wt(t);if(n){var o=/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g;i=i.replace(o,function(e,t,n){n=n.toUpperCase();var i=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(n)&&!!t,o=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(n);return e+(i||o?"\n":"")}),i=e.trim(i)}return i},kt=function(t){var n=e(t),i=n.offset(),o=n.outerHeight(!0);return{left:i.left,top:i.top+o}},xt=function(e,t){Object.keys(t).forEach(function(n){e.on(n,t[n])})},Dt=function(e,t){Object.keys(t).forEach(function(n){e.off(n,t[n])})};return{NBSP_CHAR:p,ZERO_WIDTH_NBSP_CHAR:f,blank:N,emptyPara:"<p>"+N+"</p>",makePredByNodeName:r,isEditable:t,isControlSizing:o,isText:s,isElement:a,isVoid:l,isPara:u,isPurePara:v,isHeading:c,isInline:b,isBlock:n.not(b),isBodyInline:T,isBody:E,isParaInline:S,isPre:d,isList:w,isTable:y,isCell:k,isBlockquote:x,isBodyContainer:D,isAnchor:_,isDiv:r("DIV"),isLi:g,isBR:r("BR"),isSpan:r("SPAN"),isB:r("B"),isU:r("U"),isS:r("S"),isI:r("I"),isImg:r("IMG"),isTextarea:bt,isEmpty:O,isEmptyAnchor:n.and(_,O),isClosestSibling:A,withClosestSiblings:M,nodeLength:F,isLeftEdgePoint:V,isRightEdgePoint:q,isEdgePoint:G,isLeftEdgeOf:K,isRightEdgeOf:J,isLeftEdgePointOf:Q,isRightEdgePointOf:Z,prevPoint:tt,nextPoint:nt,isSamePoint:it,isVisiblePoint:ot,prevPointUntil:rt,nextPointUntil:st,isCharPoint:at,walkPoint:lt,ancestor:$,singleChildAncestor:P,listAncestor:R,lastAncestor:H,listNext:z,listPrev:U,listDescendant:B,commonAncestor:L,wrap:j,insertAfter:Y,appendChildNodes:W,position:X,hasChildren:et,makeOffsetPath:ut,fromOffsetPath:ct,splitTree:ht,splitPoint:pt,create:ft,createText:mt,remove:gt,removeWhile:vt,replace:yt,html:Ct,value:wt,posFromPlaceholder:kt,attachEvents:xt,detachEvents:Dt}}(),g=function(t,o){var r=this,s=e.summernote.ui;return this.memos={},this.modules={},this.layoutInfo={},this.options=o,this.initialize=function(){return this.layoutInfo=s.createLayout(t,o),this._initialize(),t.hide(),this},this.destroy=function(){this._destroy(),t.removeData("summernote"),s.removeLayout(t,this.layoutInfo)},this.reset=function(){var e=r.isDisabled();this.code(m.emptyPara),this._destroy(),this._initialize(),e&&r.disable()},this._initialize=function(){var t=e.extend({},this.options.buttons);Object.keys(t).forEach(function(e){r.memo("button."+e,t[e])});var n=e.extend({},this.options.modules,e.summernote.plugins||{});Object.keys(n).forEach(function(e){r.module(e,n[e],!0)}),Object.keys(this.modules).forEach(function(e){r.initializeModule(e)})},this._destroy=function(){Object.keys(this.modules).reverse().forEach(function(e){r.removeModule(e)}),Object.keys(this.memos).forEach(function(e){r.removeMemo(e)})},this.code=function(e){var n=this.invoke("codeview.isActivated");return void 0===e?(this.invoke("codeview.sync"),n?this.layoutInfo.codable.val():this.layoutInfo.editable.html()):(n?this.layoutInfo.codable.val(e):this.layoutInfo.editable.html(e),t.val(e),void this.triggerEvent("change",e))},this.isDisabled=function(){return"false"===this.layoutInfo.editable.attr("contenteditable")},this.enable=function(){this.layoutInfo.editable.attr("contenteditable",!0),this.invoke("toolbar.activate",!0)},this.disable=function(){this.invoke("codeview.isActivated")&&this.invoke("codeview.deactivate"),this.layoutInfo.editable.attr("contenteditable",!1),this.invoke("toolbar.deactivate",!0)},this.triggerEvent=function(){var e=i.head(arguments),o=i.tail(i.from(arguments)),r=this.options.callbacks[n.namespaceToCamel(e,"on")];r&&r.apply(t[0],o),t.trigger("summernote."+e,o)},this.initializeModule=function(e){var i=this.modules[e];i.shouldInitialize=i.shouldInitialize||n.ok,i.shouldInitialize()&&(i.initialize&&i.initialize(),i.events&&m.attachEvents(t,i.events))},this.module=function(e,t,n){return 1===arguments.length?this.modules[e]:(this.modules[e]=new t(this),void(n||this.initializeModule(e)))},this.removeModule=function(e){var n=this.modules[e];n.shouldInitialize()&&(n.events&&m.detachEvents(t,n.events),n.destroy&&n.destroy()),delete this.modules[e]},this.memo=function(e,t){return 1===arguments.length?this.memos[e]:void(this.memos[e]=t)},this.removeMemo=function(e){this.memos[e]&&this.memos[e].destroy&&this.memos[e].destroy(),delete this.memos[e]},this.createInvokeHandler=function(t,n){return function(i){i.preventDefault(),r.invoke(t,n||e(i.target).closest("[data-value]").data("value"))}},this.invoke=function(){var e=i.head(arguments),t=i.tail(i.from(arguments)),n=e.split("."),o=n.length>1,r=o&&i.head(n),s=o?i.last(n):i.head(n),a=this.modules[r||"editor"];return!r&&this[s]?this[s].apply(this,t):a&&a[s]&&a.shouldInitialize()?a[s].apply(a,t):void 0},this.initialize()};e.fn.extend({summernote:function(){var t=e.type(i.head(arguments)),n="string"===t,o="object"===t,r=o?i.head(arguments):{};r=e.extend({},e.summernote.options,r),r.langInfo=e.extend(!0,{},e.summernote.lang["en-US"],e.summernote.lang[r.lang]),this.each(function(t,n){var i=e(n);if(!i.data("summernote")){var o=new g(i,r);i.data("summernote",o),i.data("summernote").triggerEvent("init",o.layoutInfo)}});var s=this.first();if(s.length){var a=s.data("summernote");if(n)return a.invoke.apply(a,i.from(arguments));r.focus&&a.invoke("editor.focus")}return this}});var v=function(t,n,i,o){this.render=function(r){var s=e(t);if(i&&i.contents&&s.html(i.contents),i&&i.className&&s.addClass(i.className),i&&i.data&&e.each(i.data,function(e,t){s.attr("data-"+e,t)}),i&&i.click&&s.on("click",i.click),n){var a=s.find(".note-children-container");n.forEach(function(e){e.render(a.length?a:s)})}return o&&o(s,i),i&&i.callback&&i.callback(s),r&&r.append(s),s}},y={create:function(t,n){return function(){var i=e.isArray(arguments[0])?arguments[0]:[],o="object"==typeof arguments[1]?arguments[1]:arguments[0];return o&&o.children&&(i=o.children),new v(t,i,o,n)}}},b=y.create('<div class="note-editor note-frame panel panel-default"/>'),w=y.create('<div class="note-toolbar panel-heading"/>'),C=y.create('<div class="note-editing-area"/>'),k=y.create('<textarea class="note-codable"/>'),x=y.create('<div class="note-editable panel-body" contentEditable="true"/>'),D=y.create(['<div class="note-statusbar">','  <div class="note-resizebar">','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>',"  </div>","</div>"].join("")),_=y.create('<div class="note-editor"/>'),S=y.create('<div class="note-editable" contentEditable="true"/>'),T=y.create('<div class="note-btn-group btn-group">'),E=y.create('<button type="button" class="note-btn btn btn-default btn-sm">',function(e,t){t&&t.tooltip&&e.attr({title:t.tooltip}).tooltip({container:"body",trigger:"hover",placement:"bottom"})}),A=y.create('<div class="dropdown-menu">',function(t,n){var i=e.isArray(n.items)?n.items.map(function(e){var t="string"==typeof e?e:e.value||"",i=n.template?n.template(e):e;return'<li><a href="#" data-value="'+t+'">'+i+"</a></li>"}).join(""):n.items;t.html(i)}),M=y.create('<div class="dropdown-menu note-check">',function(t,n){var i=e.isArray(n.items)?n.items.map(function(e){var t="string"==typeof e?e:e.value||"",i=n.template?n.template(e):e;return'<li><a href="#" data-value="'+t+'">'+I(n.checkClassName)+" "+i+"</a></li>"}).join(""):n.items;t.html(i)}),N=y.create('<div class="note-color-palette"/>',function(e,t){for(var n=[],i=0,o=t.colors.length;o>i;i++){for(var r=t.eventName,s=t.colors[i],a=[],l=0,u=s.length;u>l;l++){var c=s[l];a.push(['<button type="button" class="note-color-btn"','style="background-color:',c,'" ','data-event="',r,'" ','data-value="',c,'" ','title="',c,'" ','data-toggle="button" tabindex="-1"></button>'].join(""))}n.push('<div class="note-color-row">'+a.join("")+"</div>")}e.html(n.join("")),e.find(".note-color-btn").tooltip({container:"body",trigger:"hover",placement:"bottom"})}),F=y.create('<div class="modal" aria-hidden="false" tabindex="-1"/>',function(e,t){t.fade&&e.addClass("fade"),e.html(['<div class="modal-dialog">','  <div class="modal-content">',t.title?'    <div class="modal-header">      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>      <h4 class="modal-title">'+t.title+"</h4>    </div>":"",'    <div class="modal-body">'+t.body+"</div>",t.footer?'    <div class="modal-footer">'+t.footer+"</div>":"","  </div>","</div>"].join(""))}),O=y.create(['<div class="note-popover popover in">','  <div class="arrow"/>','  <div class="popover-content note-children-container"/>',"</div>"].join(""),function(e,t){var n="undefined"!=typeof t.direction?t.direction:"bottom";e.addClass(n),t.hideArrow&&e.find(".arrow").hide()}),I=function(e,t){return t=t||"i","<"+t+' class="'+e+'"/>'},$={editor:b,toolbar:w,editingArea:C,codable:k,editable:x,statusbar:D,airEditor:_,airEditable:S,buttonGroup:T,button:E,dropdown:A,dropdownCheck:M,palette:N,dialog:F,popover:O,icon:I,toggleBtn:function(e,t){e.toggleClass("disabled",!t),e.attr("disabled",!t)},toggleBtnActive:function(e,t){e.toggleClass("active",t)},onDialogShown:function(e,t){e.one("shown.bs.modal",t)},onDialogHidden:function(e,t){e.one("hidden.bs.modal",t)},showDialog:function(e){e.modal("show")},hideDialog:function(e){e.modal("hide")},createLayout:function(e,t){var n=(t.airMode?$.airEditor([$.editingArea([$.airEditable()])]):$.editor([$.toolbar(),$.editingArea([$.codable(),$.editable()]),$.statusbar()])).render();return n.insertAfter(e),{note:e,editor:n,toolbar:n.find(".note-toolbar"),editingArea:n.find(".note-editing-area"),editable:n.find(".note-editable"),codable:n.find(".note-codable"),statusbar:n.find(".note-statusbar")}},removeLayout:function(e,t){e.html(t.editable.html()),t.editor.remove(),e.show()}};e.summernote=e.summernote||{lang:{}},e.extend(e.summernote.lang,{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize Full",resizeHalf:"Resize Half",resizeQuarter:"Resize Quarter",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Float None",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL?",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},table:{table:"Table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",normal:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Undo",redo:"Redo"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}});var P,R=function(){var e={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221};return{isEdit:function(t){return i.contains([e.BACKSPACE,e.TAB,e.ENTER,e.SPACE],t)},isMove:function(t){return i.contains([e.LEFT,e.UP,e.RIGHT,e.DOWN],t)},nameFromCode:n.invertObject(e),code:e}}(),H=function(){var t=function(e,t){var n,o,r=e.parentElement(),s=document.body.createTextRange(),a=i.from(r.childNodes);for(n=0;n<a.length;n++)if(!m.isText(a[n])){if(s.moveToElementText(a[n]),s.compareEndPoints("StartToStart",e)>=0)break;o=a[n]}if(0!==n&&m.isText(a[n-1])){var l=document.body.createTextRange(),u=null;l.moveToElementText(o||r),l.collapse(!o),u=o?o.nextSibling:r.firstChild;var c=e.duplicate();c.setEndPoint("StartToStart",l);for(var d=c.text.replace(/[\r\n]/g,"").length;d>u.nodeValue.length&&u.nextSibling;)d-=u.nodeValue.length,u=u.nextSibling;u.nodeValue,t&&u.nextSibling&&m.isText(u.nextSibling)&&d===u.nodeValue.length&&(d-=u.nodeValue.length,u=u.nextSibling),r=u,n=d}return{cont:r,offset:n}},o=function(e){var t=function(e,o){var r,s;if(m.isText(e)){var a=m.listPrev(e,n.not(m.isText)),l=i.last(a).previousSibling;r=l||e.parentNode,o+=i.sum(i.tail(a),m.nodeLength),s=!l}else{if(r=e.childNodes[o]||e,m.isText(r))return t(r,0);o=0,s=!1}return{node:r,collapseToStart:s,offset:o}},o=document.body.createTextRange(),r=t(e.node,e.offset);return o.moveToElementText(r.node),o.collapse(r.collapseToStart),o.moveStart("character",r.offset),o},r=function(t,s,a,l){this.sc=t,this.so=s,this.ec=a,this.eo=l;
var u=function(){if(h.isW3CRangeSupport){var e=document.createRange();return e.setStart(t,s),e.setEnd(a,l),e}var n=o({node:t,offset:s});return n.setEndPoint("EndToEnd",o({node:a,offset:l})),n};this.getPoints=function(){return{sc:t,so:s,ec:a,eo:l}},this.getStartPoint=function(){return{node:t,offset:s}},this.getEndPoint=function(){return{node:a,offset:l}},this.select=function(){var e=u();if(h.isW3CRangeSupport){var t=document.getSelection();t.rangeCount>0&&t.removeAllRanges(),t.addRange(e)}else e.select();return this},this.scrollIntoView=function(t){var n=e(t).height();return t.scrollTop+n<this.sc.offsetTop&&(t.scrollTop+=Math.abs(t.scrollTop+n-this.sc.offsetTop)),this},this.normalize=function(){var e=function(e,t){if(m.isVisiblePoint(e)&&!m.isEdgePoint(e)||m.isVisiblePoint(e)&&m.isRightEdgePoint(e)&&!t||m.isVisiblePoint(e)&&m.isLeftEdgePoint(e)&&t||m.isVisiblePoint(e)&&m.isBlock(e.node)&&m.isEmpty(e.node))return e;var n=m.ancestor(e.node,m.isBlock);if((m.isLeftEdgePointOf(e,n)||m.isVoid(m.prevPoint(e).node))&&!t||(m.isRightEdgePointOf(e,n)||m.isVoid(m.nextPoint(e).node))&&t){if(m.isVisiblePoint(e))return e;t=!t}var i=t?m.nextPointUntil(m.nextPoint(e),m.isVisiblePoint):m.prevPointUntil(m.prevPoint(e),m.isVisiblePoint);return i||e},t=e(this.getEndPoint(),!1),n=this.isCollapsed()?t:e(this.getStartPoint(),!0);return new r(n.node,n.offset,t.node,t.offset)},this.nodes=function(e,t){e=e||n.ok;var o=t&&t.includeAncestor,r=t&&t.fullyContains,s=this.getStartPoint(),a=this.getEndPoint(),l=[],u=[];return m.walkPoint(s,a,function(t){if(!m.isEditable(t.node)){var n;r?(m.isLeftEdgePoint(t)&&u.push(t.node),m.isRightEdgePoint(t)&&i.contains(u,t.node)&&(n=t.node)):n=o?m.ancestor(t.node,e):t.node,n&&e(n)&&l.push(n)}},!0),i.unique(l)},this.commonAncestor=function(){return m.commonAncestor(t,a)},this.expand=function(e){var n=m.ancestor(t,e),i=m.ancestor(a,e);if(!n&&!i)return new r(t,s,a,l);var o=this.getPoints();return n&&(o.sc=n,o.so=0),i&&(o.ec=i,o.eo=m.nodeLength(i)),new r(o.sc,o.so,o.ec,o.eo)},this.collapse=function(e){return e?new r(t,s,t,s):new r(a,l,a,l)},this.splitText=function(){var e=t===a,n=this.getPoints();return m.isText(a)&&!m.isEdgePoint(this.getEndPoint())&&a.splitText(l),m.isText(t)&&!m.isEdgePoint(this.getStartPoint())&&(n.sc=t.splitText(s),n.so=0,e&&(n.ec=n.sc,n.eo=l-s)),new r(n.sc,n.so,n.ec,n.eo)},this.deleteContents=function(){if(this.isCollapsed())return this;var t=this.splitText(),n=t.nodes(null,{fullyContains:!0}),o=m.prevPointUntil(t.getStartPoint(),function(e){return!i.contains(n,e.node)}),s=[];return e.each(n,function(e,t){var n=t.parentNode;o.node!==n&&1===m.nodeLength(n)&&s.push(n),m.remove(t,!1)}),e.each(s,function(e,t){m.remove(t,!1)}),new r(o.node,o.offset,o.node,o.offset).normalize()};var c=function(e){return function(){var n=m.ancestor(t,e);return!!n&&n===m.ancestor(a,e)}};this.isOnEditable=c(m.isEditable),this.isOnList=c(m.isList),this.isOnAnchor=c(m.isAnchor),this.isOnCell=c(m.isCell),this.isLeftEdgeOf=function(e){if(!m.isLeftEdgePoint(this.getStartPoint()))return!1;var t=m.ancestor(this.sc,e);return t&&m.isLeftEdgeOf(this.sc,t)},this.isCollapsed=function(){return t===a&&s===l},this.wrapBodyInlineWithPara=function(){if(m.isBodyContainer(t)&&m.isEmpty(t))return t.innerHTML=m.emptyPara,new r(t.firstChild,0,t.firstChild,0);var e=this.normalize();if(m.isParaInline(t)||m.isPara(t))return e;var o;if(m.isInline(e.sc)){var s=m.listAncestor(e.sc,n.not(m.isInline));o=i.last(s),m.isInline(o)||(o=s[s.length-2]||e.sc.childNodes[e.so])}else o=e.sc.childNodes[e.so>0?e.so-1:0];var a=m.listPrev(o,m.isParaInline).reverse();if(a=a.concat(m.listNext(o.nextSibling,m.isParaInline)),a.length){var l=m.wrap(i.head(a),"p");m.appendChildNodes(l,i.tail(a))}return this.normalize()},this.insertNode=function(e){var t=this.wrapBodyInlineWithPara().deleteContents(),n=m.splitPoint(t.getStartPoint(),m.isInline(e));return n.rightNode?n.rightNode.parentNode.insertBefore(e,n.rightNode):n.container.appendChild(e),e},this.pasteHTML=function(t){var n=e("<div></div>").html(t)[0],o=i.from(n.childNodes),r=this.wrapBodyInlineWithPara().deleteContents();return o.reverse().map(function(e){return r.insertNode(e)}).reverse()},this.toString=function(){var e=u();return h.isW3CRangeSupport?e.toString():e.text},this.getWordRange=function(e){var t=this.getEndPoint();if(!m.isCharPoint(t))return this;var n=m.prevPointUntil(t,function(e){return!m.isCharPoint(e)});return e&&(t=m.nextPointUntil(t,function(e){return!m.isCharPoint(e)})),new r(n.node,n.offset,t.node,t.offset)},this.bookmark=function(e){return{s:{path:m.makeOffsetPath(e,t),offset:s},e:{path:m.makeOffsetPath(e,a),offset:l}}},this.paraBookmark=function(e){return{s:{path:i.tail(m.makeOffsetPath(i.head(e),t)),offset:s},e:{path:i.tail(m.makeOffsetPath(i.last(e),a)),offset:l}}},this.getClientRects=function(){var e=u();return e.getClientRects()}};return{create:function(e,t,n,i){if(4===arguments.length)return new r(e,t,n,i);if(2===arguments.length)return n=e,i=t,new r(e,t,n,i);var o=this.createFromSelection();return o||1!==arguments.length?o:(o=this.createFromNode(arguments[0]),o.collapse(m.emptyPara===arguments[0].innerHTML))},createFromSelection:function(){var e,n,i,o;if(h.isW3CRangeSupport){var s=document.getSelection();if(!s||0===s.rangeCount)return null;if(m.isBody(s.anchorNode))return null;var a=s.getRangeAt(0);e=a.startContainer,n=a.startOffset,i=a.endContainer,o=a.endOffset}else{var l=document.selection.createRange(),u=l.duplicate();u.collapse(!1);var c=l;c.collapse(!0);var d=t(c,!0),p=t(u,!1);m.isText(d.node)&&m.isLeftEdgePoint(d)&&m.isTextNode(p.node)&&m.isRightEdgePoint(p)&&p.node.nextSibling===d.node&&(d=p),e=d.cont,n=d.offset,i=p.cont,o=p.offset}return new r(e,n,i,o)},createFromNode:function(e){var t=e,n=0,i=e,o=m.nodeLength(i);return m.isVoid(t)&&(n=m.listPrev(t).length-1,t=t.parentNode),m.isBR(i)?(o=m.listPrev(i).length-1,i=i.parentNode):m.isVoid(i)&&(o=m.listPrev(i).length,i=i.parentNode),this.create(t,n,i,o)},createFromNodeBefore:function(e){return this.createFromNode(e).collapse(!0)},createFromNodeAfter:function(e){return this.createFromNode(e).collapse()},createFromBookmark:function(e,t){var n=m.fromOffsetPath(e,t.s.path),i=t.s.offset,o=m.fromOffsetPath(e,t.e.path),s=t.e.offset;return new r(n,i,o,s)},createFromParaBookmark:function(e,t){var n=e.s.offset,o=e.e.offset,s=m.fromOffsetPath(i.head(t),e.s.path),a=m.fromOffsetPath(i.last(t),e.e.path);return new r(s,n,a,o)}}}(),L=function(){var t=function(t){return e.Deferred(function(n){e.extend(new FileReader,{onload:function(e){var t=e.target.result;n.resolve(t)},onerror:function(){n.reject(this)}}).readAsDataURL(t)}).promise()},n=function(t){return e.Deferred(function(n){var i=e("<img>");i.one("load",function(){i.off("error abort"),n.resolve(i)}).one("error abort",function(){i.off("load").detach(),n.reject(i)}).css({display:"none"}).appendTo(document.body).attr("src",t)}).promise()};return{readFileAsDataURL:t,createImage:n}}(),U=function(e){var t=[],n=-1,i=e[0],o=function(){var t=H.create(i),n={s:{path:[],offset:0},e:{path:[],offset:0}};return{contents:e.html(),bookmark:t?t.bookmark(i):n}},r=function(t){null!==t.contents&&e.html(t.contents),null!==t.bookmark&&H.createFromBookmark(i,t.bookmark).select()};this.rewind=function(){e.html()!==t[n].contents&&this.recordUndo(),n=0,r(t[n])},this.reset=function(){t=[],n=-1,e.html(""),this.recordUndo()},this.undo=function(){e.html()!==t[n].contents&&this.recordUndo(),n>0&&(n--,r(t[n]))},this.redo=function(){t.length-1>n&&(n++,r(t[n]))},this.recordUndo=function(){n++,t.length>n&&(t=t.slice(0,n)),t.push(o())}},z=function(){var t=function(t,n){if(h.jqueryVersion<1.9){var i={};return e.each(n,function(e,n){i[n]=t.css(n)}),i}return t.css.call(t,n)};this.fromNode=function(e){var n=["font-family","font-size","text-align","list-style-type","line-height"],i=t(e,n)||{};return i["font-size"]=parseInt(i["font-size"],10),i},this.stylePara=function(t,n){e.each(t.nodes(m.isPara,{includeAncestor:!0}),function(t,i){e(i).css(n)})},this.styleNodes=function(t,o){t=t.splitText();var r=o&&o.nodeName||"SPAN",s=!(!o||!o.expandClosestSibling),a=!(!o||!o.onlyPartialContains);if(t.isCollapsed())return[t.insertNode(m.create(r))];var l=m.makePredByNodeName(r),u=t.nodes(m.isText,{fullyContains:!0}).map(function(e){return m.singleChildAncestor(e,l)||m.wrap(e,r)});if(s){if(a){var c=t.nodes();l=n.and(l,function(e){return i.contains(c,e)})}return u.map(function(t){var n=m.withClosestSiblings(t,l),o=i.head(n),r=i.tail(n);return e.each(r,function(e,t){m.appendChildNodes(o,t.childNodes),m.remove(t)}),i.head(n)})}return u},this.current=function(t){var n=e(m.isElement(t.sc)?t.sc:t.sc.parentNode),i=this.fromNode(n);try{i=e.extend(i,{"font-bold":document.queryCommandState("bold")?"bold":"normal","font-italic":document.queryCommandState("italic")?"italic":"normal","font-underline":document.queryCommandState("underline")?"underline":"normal","font-subscript":document.queryCommandState("subscript")?"subscript":"normal","font-superscript":document.queryCommandState("superscript")?"superscript":"normal","font-strikethrough":document.queryCommandState("strikethrough")?"strikethrough":"normal"})}catch(o){}if(t.isOnList()){var r=["circle","disc","disc-leading-zero","square"],s=e.inArray(i["list-style-type"],r)>-1;i["list-style"]=s?"unordered":"ordered"}else i["list-style"]="none";var a=m.ancestor(t.sc,m.isPara);if(a&&a.style["line-height"])i["line-height"]=a.style.lineHeight;else{var l=parseInt(i["line-height"],10)/parseInt(i["font-size"],10);i["line-height"]=l.toFixed(1)}return i.anchor=t.isOnAnchor()&&m.ancestor(t.sc,m.isAnchor),i.ancestors=m.listAncestor(t.sc,m.isEditable),i.range=t,i}},B=function(){var t=this;this.insertOrderedList=function(e){this.toggleList("OL",e)},this.insertUnorderedList=function(e){this.toggleList("UL",e)},this.indent=function(t){var o=this,r=H.create(t).wrapBodyInlineWithPara(),s=r.nodes(m.isPara,{includeAncestor:!0}),a=i.clusterBy(s,n.peq2("parentNode"));e.each(a,function(t,n){var r=i.head(n);m.isLi(r)?o.wrapList(n,r.parentNode.nodeName):e.each(n,function(t,n){e(n).css("marginLeft",function(e,t){return(parseInt(t,10)||0)+25})})}),r.select()},this.outdent=function(t){var o=this,r=H.create(t).wrapBodyInlineWithPara(),s=r.nodes(m.isPara,{includeAncestor:!0}),a=i.clusterBy(s,n.peq2("parentNode"));e.each(a,function(t,n){var r=i.head(n);m.isLi(r)?o.releaseList([n]):e.each(n,function(t,n){e(n).css("marginLeft",function(e,t){return t=parseInt(t,10)||0,t>25?t-25:""})})}),r.select()},this.toggleList=function(o,r){var s=H.create(r).wrapBodyInlineWithPara(),a=s.nodes(m.isPara,{includeAncestor:!0}),l=s.paraBookmark(a),u=i.clusterBy(a,n.peq2("parentNode"));if(i.find(a,m.isPurePara)){var c=[];e.each(u,function(e,n){c=c.concat(t.wrapList(n,o))}),a=c}else{var d=s.nodes(m.isList,{includeAncestor:!0}).filter(function(t){return!e.nodeName(t,o)});d.length?e.each(d,function(e,t){m.replace(t,o)}):a=this.releaseList(u,!0)}H.createFromParaBookmark(l,a).select()},this.wrapList=function(e,t){var n=i.head(e),o=i.last(e),r=m.isList(n.previousSibling)&&n.previousSibling,s=m.isList(o.nextSibling)&&o.nextSibling,a=r||m.insertAfter(m.create(t||"UL"),o);return e=e.map(function(e){return m.isPurePara(e)?m.replace(e,"LI"):e}),m.appendChildNodes(a,e),s&&(m.appendChildNodes(a,i.from(s.childNodes)),m.remove(s)),e},this.releaseList=function(t,n){var o=[];return e.each(t,function(t,r){var s=i.head(r),a=i.last(r),l=n?m.lastAncestor(s,m.isList):s.parentNode,u=l.childNodes.length>1?m.splitTree(l,{node:a.parentNode,offset:m.position(a)+1},{isSkipPaddingBlankHTML:!0}):null,c=m.splitTree(l,{node:s.parentNode,offset:m.position(s)},{isSkipPaddingBlankHTML:!0});r=n?m.listDescendant(c,m.isLi):i.from(c.childNodes).filter(m.isLi),(n||!m.isList(l.parentNode))&&(r=r.map(function(e){return m.replace(e,"P")})),e.each(i.from(r).reverse(),function(e,t){m.insertAfter(t,l)});var d=i.compact([l,c,u]);e.each(d,function(t,n){var i=[n].concat(m.listDescendant(n,m.isList));e.each(i.reverse(),function(e,t){m.nodeLength(t)||m.remove(t,!0)})}),o=o.concat(r)}),o}},j=function(){var t=new B;this.insertTab=function(e,t){var n=m.createText(new Array(t+1).join(m.NBSP_CHAR));e=e.deleteContents(),e.insertNode(n,!0),e=H.create(n,t),e.select()},this.insertParagraph=function(n){var i=H.create(n);i=i.deleteContents(),i=i.wrapBodyInlineWithPara();var o,r=m.ancestor(i.sc,m.isPara);if(r){if(m.isEmpty(r)&&m.isLi(r))return void t.toggleList(r.parentNode.nodeName);if(m.isEmpty(r)&&m.isPara(r)&&m.isBlockquote(r.parentNode))m.insertAfter(r,r.parentNode),o=r;else{o=m.splitTree(r,i.getStartPoint());var s=m.listDescendant(r,m.isEmptyAnchor);s=s.concat(m.listDescendant(o,m.isEmptyAnchor)),e.each(s,function(e,t){m.remove(t)}),(m.isHeading(o)||m.isPre(o))&&m.isEmpty(o)&&(o=m.replace(o,"p"))}}else{var a=i.sc.childNodes[i.so];o=e(m.emptyPara)[0],a?i.sc.insertBefore(o,a):i.sc.appendChild(o)}H.create(o,0).normalize().select().scrollIntoView(n)}},Y=function(){this.tab=function(e,t){var n=m.ancestor(e.commonAncestor(),m.isCell),o=m.ancestor(n,m.isTable),r=m.listDescendant(o,m.isCell),s=i[t?"prev":"next"](r,n);s&&H.create(s,0).select()},this.createTable=function(t,n,i){for(var o,r=[],s=0;t>s;s++)r.push("<td>"+m.blank+"</td>");o=r.join("");for(var a,l=[],u=0;n>u;u++)l.push("<tr>"+o+"</tr>");a=l.join("");var c=e("<table>"+a+"</table>");return i&&i.tableClassName&&c.addClass(i.tableClassName),c[0]}},W="bogus",V=function(t){var n=this,o=t.layoutInfo.note,r=t.layoutInfo.editor,s=t.layoutInfo.editable,a=t.options,l=a.langInfo,u=s[0],c=null,d=new z,p=new Y,f=new j,g=new B,v=new U(s);this.initialize=function(){s.on("keydown",function(e){e.keyCode===R.code.ENTER&&t.triggerEvent("enter",e),t.triggerEvent("keydown",e),a.shortcuts&&!e.isDefaultPrevented()&&n.handleKeyMap(e)}).on("keyup",function(e){t.triggerEvent("keyup",e)}).on("focus",function(e){t.triggerEvent("focus",e)}).on("blur",function(e){t.triggerEvent("blur",e)}).on("mousedown",function(e){t.triggerEvent("mousedown",e)}).on("mouseup",function(e){t.triggerEvent("mouseup",e)}).on("scroll",function(e){t.triggerEvent("scroll",e)}).on("paste",function(e){t.triggerEvent("paste",e)}),s.html(m.html(o)||m.emptyPara);var e=h.isMSIE?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input";s.on(e,function(){t.triggerEvent("change",s.html())}),r.on("focusin",function(e){t.triggerEvent("focusin",e)}).on("focusout",function(e){t.triggerEvent("focusout",e)}),!a.airMode&&a.height&&this.setHeight(a.height),!a.airMode&&a.maxHeight&&s.css("max-height",a.maxHeight),!a.airMode&&a.minHeight&&s.css("min-height",a.minHeight),v.recordUndo()},this.destroy=function(){s.off()},this.handleKeyMap=function(e){var n=a.keyMap[h.isMac?"mac":"pc"],i=[];e.metaKey&&i.push("CMD"),e.ctrlKey&&!e.altKey&&i.push("CTRL"),e.shiftKey&&i.push("SHIFT");var o=R.nameFromCode[e.keyCode];o&&i.push(o);var r=n[i.join("+")];r?(e.preventDefault(),t.invoke(r)):R.isEdit(e.keyCode)&&this.afterCommand()},this.createRange=function(){return this.focus(),H.create(u)},this.saveRange=function(e){c=this.createRange(),e&&c.collapse().select()},this.restoreRange=function(){c&&(c.select(),this.focus())},this.saveTarget=function(e){s.data("target",e)},this.clearTarget=function(){s.removeData("target")},this.restoreTarget=function(){return s.data("target")},this.currentStyle=function(){var e=H.create();return e&&(e=e.normalize()),e?d.current(e):d.fromNode(s)},this.styleFromNode=function(e){return d.fromNode(e)},this.undo=function(){t.triggerEvent("before.command",s.html()),v.undo(),t.triggerEvent("change",s.html())},t.memo("help.undo",l.help.undo),this.redo=function(){t.triggerEvent("before.command",s.html()),v.redo(),t.triggerEvent("change",s.html())},t.memo("help.redo",l.help.redo);for(var y=this.beforeCommand=function(){t.triggerEvent("before.command",s.html()),n.focus()},b=this.afterCommand=function(e){v.recordUndo(),e||t.triggerEvent("change",s.html())},w=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor","foreColor","fontName"],C=0,k=w.length;k>C;C++)this[w[C]]=function(e){return function(t){y(),document.execCommand(e,!1,t),b(!0)}}(w[C]),t.memo("help."+w[C],l.help[w[C]]);this.tab=function(){var e=this.createRange();e.isCollapsed()&&e.isOnCell()?p.tab(e):(y(),f.insertTab(e,a.tabSize),b())},t.memo("help.tab",l.help.tab),this.untab=function(){var e=this.createRange();e.isCollapsed()&&e.isOnCell()&&p.tab(e,!0)},t.memo("help.untab",l.help.untab),this.wrapCommand=function(e){return function(){y(),e.apply(n,arguments),b()}},this.insertParagraph=this.wrapCommand(function(){f.insertParagraph(u)}),t.memo("help.insertParagraph",l.help.insertParagraph),this.insertOrderedList=this.wrapCommand(function(){g.insertOrderedList(u)}),t.memo("help.insertOrderedList",l.help.insertOrderedList),this.insertUnorderedList=this.wrapCommand(function(){g.insertUnorderedList(u)}),t.memo("help.insertUnorderedList",l.help.insertUnorderedList),this.indent=this.wrapCommand(function(){g.indent(u)}),t.memo("help.indent",l.help.indent),this.outdent=this.wrapCommand(function(){g.outdent(u)}),t.memo("help.outdent",l.help.outdent),this.insertImage=function(e,n){return L.createImage(e,n).then(function(e){y(),"function"==typeof n?n(e):("string"==typeof n&&e.attr("data-filename",n),e.css("width",Math.min(s.width(),e.width()))),e.show(),H.create(u).insertNode(e[0]),H.createFromNodeAfter(e[0]).select(),b()}).fail(function(e){t.triggerEvent("image.upload.error",e)})},this.insertImages=function(i){e.each(i,function(e,i){var o=i.name;a.maximumImageFileSize&&a.maximumImageFileSize<i.size?t.triggerEvent("image.upload.error",l.image.maximumFileSizeError):L.readFileAsDataURL(i).then(function(e){return n.insertImage(e,o)}).fail(function(){t.triggerEvent("image.upload.error")})})},this.insertImagesOrCallback=function(e){var n=a.callbacks;n.onImageUpload?t.triggerEvent("image.upload",e):this.insertImages(e)},this.insertNode=this.wrapCommand(function(e){var t=this.createRange();t.insertNode(e),H.createFromNodeAfter(e).select()}),this.insertText=this.wrapCommand(function(e){var t=this.createRange(),n=t.insertNode(m.createText(e));H.create(n,m.nodeLength(n)).select()}),this.getSelectedText=function(){var e=this.createRange();return e.isOnAnchor()&&(e=H.createFromNode(m.ancestor(e.sc,m.isAnchor))),e.toString()},this.pasteHTML=this.wrapCommand(function(e){var t=this.createRange().pasteHTML(e);H.createFromNodeAfter(i.last(t)).select()}),this.formatBlock=this.wrapCommand(function(e){e=h.isMSIE?"<"+e+">":e,document.execCommand("FormatBlock",!1,e)}),this.formatPara=function(){this.formatBlock("P")},t.memo("help.formatPara",l.help.formatPara);for(var C=1;6>=C;C++)this["formatH"+C]=function(e){return function(){this.formatBlock("H"+e)}}(C),t.memo("help.formatH"+C,l.help["formatH"+C]);this.fontSize=function(t){var n=this.createRange();if(n&&n.isCollapsed()){var o=d.styleNodes(n),r=i.head(o);e(o).css({"font-size":t+"px"}),r&&!m.nodeLength(r)&&(r.innerHTML=m.ZERO_WIDTH_NBSP_CHAR,H.createFromNodeAfter(r.firstChild).select(),s.data(W,r))}else y(),e(d.styleNodes(n)).css({"font-size":t+"px"}),b()},this.insertHorizontalRule=this.wrapCommand(function(){var e=this.createRange().insertNode(m.create("HR"));e.nextSibling&&H.create(e.nextSibling,0).normalize().select()}),t.memo("help.insertHorizontalRule",l.help.insertHorizontalRule),this.removeBogus=function(){var e=s.data(W);if(e){var t=i.find(i.from(e.childNodes),m.isText),n=t.nodeValue.indexOf(m.ZERO_WIDTH_NBSP_CHAR);-1!==n&&t.deleteData(n,1),m.isEmpty(e)&&m.remove(e),s.removeData(W)}},this.lineHeight=this.wrapCommand(function(e){d.stylePara(this.createRange(),{lineHeight:e})}),this.unlink=function(){var e=this.createRange();if(e.isOnAnchor()){var t=m.ancestor(e.sc,m.isAnchor);e=H.createFromNode(t),e.select(),y(),document.execCommand("unlink"),b()}},this.createLink=this.wrapCommand(function(t){var n=t.url,o=t.text,r=t.isNewWindow,s=t.range||this.createRange(),l=s.toString()!==o;a.onCreateLink&&(n=a.onCreateLink(n));var u=[];if(l){s=s.deleteContents();var c=s.insertNode(e("<A>"+o+"</A>")[0]);u.push(c)}else u=d.styleNodes(s,{nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0});e.each(u,function(t,i){e(i).attr("href",n),r?e(i).attr("target","_blank"):e(i).removeAttr("target")});var h=H.createFromNodeBefore(i.head(u)),p=h.getStartPoint(),f=H.createFromNodeAfter(i.last(u)),m=f.getEndPoint();H.create(p.node,p.offset,m.node,m.offset).select()}),this.getLinkInfo=function(){var t=this.createRange().expand(m.isAnchor),n=e(i.head(t.nodes(m.isAnchor)));return{range:t,text:t.toString(),isNewWindow:n.length?"_blank"===n.attr("target"):!1,url:n.length?n.attr("href"):""}},this.color=this.wrapCommand(function(e){var t=e.foreColor,n=e.backColor;t&&document.execCommand("foreColor",!1,t),n&&document.execCommand("backColor",!1,n)}),this.insertTable=this.wrapCommand(function(e){var t=e.split("x"),n=this.createRange().deleteContents();n.insertNode(p.createTable(t[0],t[1],a))}),this.floatMe=this.wrapCommand(function(t){var n=e(this.restoreTarget());n.css("float",t)}),this.resize=this.wrapCommand(function(t){var n=e(this.restoreTarget());n.css({width:100*t+"%",height:""})}),this.resizeTo=function(e,t,n){var i;if(n){var o=e.y/e.x,r=t.data("ratio");i={width:r>o?e.x:e.y/r,height:r>o?e.x*r:e.y}}else i={width:e.x,height:e.y};t.css(i)},this.removeMedia=this.wrapCommand(function(){var n=e(this.restoreTarget()).detach();t.triggerEvent("media.delete",n,s)}),this.hasFocus=function(){return s.is(":focus")},this.focus=function(){this.hasFocus()||s.focus()},this.isEmpty=function(){return m.isEmpty(s[0])||m.emptyPara===s.html()},this.empty=function(){t.invoke("code",m.emptyPara)},this.setHeight=function(e){s.outerHeight(e)}},q=function(t){var n=this,o=t.layoutInfo.editable;this.events={"summernote.keydown":function(e,i){n.needKeydownHook()&&(i.ctrlKey||i.metaKey)&&i.keyCode===R.code.V&&(t.invoke("editor.saveRange"),n.$paste.focus(),setTimeout(function(){n.pasteByHook()},0))}},this.needKeydownHook=function(){return h.isMSIE&&h.browserVersion>10||h.isFF},this.initialize=function(){this.needKeydownHook()?(this.$paste=e("<div />").attr("contenteditable",!0).css({position:"absolute",left:-1e5,opacity:0}),o.before(this.$paste),this.$paste.on("paste",function(e){t.triggerEvent("paste",e)})):o.on("paste",this.pasteByEvent)},this.destroy=function(){this.needKeydownHook()&&(this.$paste.remove(),this.$paste=null)},this.pasteByHook=function(){var n=this.$paste[0].firstChild;if(m.isImg(n)){for(var i=n.src,o=atob(i.split(",")[1]),r=new Uint8Array(o.length),s=0;s<o.length;s++)r[s]=o.charCodeAt(s);var a=new Blob([r],{type:"image/png"});a.name="clipboard.png",t.invoke("editor.restoreRange"),t.invoke("editor.focus"),t.invoke("editor.insertImagesOrCallback",[a])}else{var l=e("<div />").html(this.$paste.html()).html();t.invoke("editor.restoreRange"),t.invoke("editor.focus"),l&&t.invoke("editor.pasteHTML",l)}this.$paste.empty()},this.pasteByEvent=function(e){var n=e.originalEvent.clipboardData;if(n&&n.items&&n.items.length){var o=i.head(n.items);"file"===o.kind&&-1!==o.type.indexOf("image/")&&t.invoke("editor.insertImagesOrCallback",[o.getAsFile()]),t.invoke("editor.afterCommand")}}},G=function(t){var n=e(document),i=t.layoutInfo.editor,o=t.layoutInfo.editable,r=t.options,s=r.langInfo,a=e(['<div class="note-dropzone">','  <div class="note-dropzone-message"/>',"</div>"].join("")).prependTo(i);this.initialize=function(){r.disableDragAndDrop?n.on("drop",function(e){e.preventDefault()}):this.attachDragAndDropEvent()},this.attachDragAndDropEvent=function(){var r=e(),l=a.find(".note-dropzone-message");n.on("dragenter",function(e){var n=t.invoke("codeview.isActivated"),o=i.width()>0&&i.height()>0;n||r.length||!o||(i.addClass("dragover"),a.width(i.width()),a.height(i.height()),l.text(s.image.dragImageHere)),r=r.add(e.target)}).on("dragleave",function(e){r=r.not(e.target),r.length||i.removeClass("dragover")}).on("drop",function(){r=e(),i.removeClass("dragover")}),a.on("dragenter",function(){a.addClass("hover"),l.text(s.image.dropImage)}).on("dragleave",function(){a.removeClass("hover"),l.text(s.image.dragImageHere)}),a.on("drop",function(n){var i=n.originalEvent.dataTransfer;i&&i.files&&i.files.length?(n.preventDefault(),o.focus(),t.invoke("editor.insertImagesOrCallback",i.files)):e.each(i.types,function(n,o){var r=i.getData(o);o.toLowerCase().indexOf("text")>-1?t.invoke("editor.pasteHTML",r):e(r).each(function(){t.invoke("editor.insertNode",this)})})}).on("dragover",!1)}};h.hasCodeMirror&&(h.isSupportAmd?require(["codemirror"],function(e){P=e}):P=window.CodeMirror);var K=function(e){var t=e.layoutInfo.editor,n=e.layoutInfo.editable,i=e.layoutInfo.codable,o=e.options;this.sync=function(){var e=this.isActivated();e&&h.hasCodeMirror&&i.data("cmEditor").save()},this.isActivated=function(){return t.hasClass("codeview")},this.toggle=function(){this.isActivated()?this.deactivate():this.activate(),e.triggerEvent("codeview.toggled")},this.activate=function(){if(i.val(m.html(n,o.prettifyHtml)),i.height(n.height()),e.invoke("toolbar.updateCodeview",!0),t.addClass("codeview"),i.focus(),h.hasCodeMirror){var r=P.fromTextArea(i[0],o.codemirror);if(o.codemirror.tern){var s=new P.TernServer(o.codemirror.tern);r.ternServer=s,r.on("cursorActivity",function(e){s.updateArgHints(e)})}r.setSize(null,n.outerHeight()),i.data("cmEditor",r)}},this.deactivate=function(){if(h.hasCodeMirror){var r=i.data("cmEditor");i.val(r.getValue()),r.toTextArea()}var s=m.value(i,o.prettifyHtml)||m.emptyPara,a=n.html()!==s;n.html(s),n.height(o.height?i.height():"auto"),t.removeClass("codeview"),a&&e.triggerEvent("change",n.html(),n),n.focus(),e.invoke("toolbar.updateCodeview",!1)},this.destroy=function(){this.isActivated()&&this.deactivate()}},J=24,Q=function(t){var n=e(document),i=t.layoutInfo.statusbar,o=t.layoutInfo.editable,r=t.options;this.initialize=function(){r.airMode||r.disableResizeEditor||i.on("mousedown",function(e){e.preventDefault(),e.stopPropagation();var t=o.offset().top-n.scrollTop();n.on("mousemove",function(e){var n=e.clientY-(t+J);n=r.minheight>0?Math.max(n,r.minheight):n,n=r.maxHeight>0?Math.min(n,r.maxHeight):n,o.height(n)}).one("mouseup",function(){n.off("mousemove")})})},this.destroy=function(){i.off()}},Z=function(t){var n=t.layoutInfo.editor,i=t.layoutInfo.toolbar,o=t.layoutInfo.editable,r=t.layoutInfo.codable,s=e(window),a=e("html, body");this.toggle=function(){var e=function(e){o.css("height",e.h),r.css("height",e.h),r.data("cmeditor")&&r.data("cmeditor").setsize(null,e.h)};n.toggleClass("fullscreen"),this.isFullscreen()?(o.data("orgHeight",o.css("height")),s.on("resize",function(){e({h:s.height()-i.outerHeight()})}).trigger("resize"),a.css("overflow","hidden")):(s.off("resize"),e({h:o.data("orgHeight")}),a.css("overflow","visible")),t.invoke("toolbar.updateFullscreen",this.isFullscreen())},this.isFullscreen=function(){return n.hasClass("fullscreen")}},X=function(t){var n=this,i=e(document),o=t.layoutInfo.editingArea,r=t.options;this.events={"summernote.mousedown":function(e,t){n.update(t.target)&&t.preventDefault()},"summernote.keyup summernote.scroll summernote.change summernote.dialog.shown":function(){n.update()}},this.initialize=function(){this.$handle=e(['<div class="note-handle">','<div class="note-control-selection">','<div class="note-control-selection-bg"></div>','<div class="note-control-holder note-control-nw"></div>','<div class="note-control-holder note-control-ne"></div>','<div class="note-control-holder note-control-sw"></div>','<div class="',r.disableResizeImage?"note-control-holder":"note-control-sizing",' note-control-se"></div>',r.disableResizeImage?"":'<div class="note-control-selection-info"></div>',"</div>","</div>"].join("")).prependTo(o),this.$handle.on("mousedown",function(e){if(m.isControlSizing(e.target)){e.preventDefault(),e.stopPropagation();var o=n.$handle.find(".note-control-selection").data("target"),r=o.offset(),s=i.scrollTop();i.on("mousemove",function(e){t.invoke("editor.resizeTo",{x:e.clientX-r.left,y:e.clientY-(r.top-s)},o,!e.shiftKey),n.update(o[0])}).one("mouseup",function(e){e.preventDefault(),i.off("mousemove"),t.invoke("editor.afterCommand")}),o.data("ratio")||o.data("ratio",o.height()/o.width())}})},this.destroy=function(){this.$handle.remove()},this.update=function(n){var i=m.isImg(n),o=this.$handle.find(".note-control-selection");if(t.invoke("imagePopover.update",n),i){var r=e(n),s=r.position(),a={w:r.outerWidth(!0),h:r.outerHeight(!0)};o.css({display:"block",left:s.left,top:s.top,width:a.w,height:a.h}).data("target",r);var l=a.w+"x"+a.h;o.find(".note-control-selection-info").text(l),t.invoke("editor.saveTarget",n)}else this.hide();return i},this.hide=function(){t.invoke("editor.clearTarget"),this.$handle.children().hide()}},et=function(t){var n=this,o="http://",r=/^(https?:\/\/|ssh:\/\/|ftp:\/\/|file:\/|mailto:[A-Z0-9._%+-]+@)?(www\.)?(.+)$/i;this.events={"summernote.keyup":function(e,t){t.isDefaultPrevented()||n.handleKeyup(t)},"summernote.keydown":function(e,t){n.handleKeydown(t)}},this.initialize=function(){this.lastWordRange=null},this.destroy=function(){this.lastWordRange=null},this.replace=function(){if(this.lastWordRange){var n=this.lastWordRange.toString(),i=n.match(r);if(i&&(i[1]||i[2])){var s=i[1]?n:o+n,a=e("<a />").html(n).attr("href",s)[0];this.lastWordRange.insertNode(a),this.lastWordRange=null,t.invoke("editor.focus")}}},this.handleKeydown=function(e){if(i.contains([R.code.ENTER,R.code.SPACE],e.keyCode)){var n=t.invoke("editor.createRange").getWordRange();this.lastWordRange=n}},this.handleKeyup=function(e){i.contains([R.code.ENTER,R.code.SPACE],e.keyCode)&&this.replace()}},tt=function(e){var t=e.layoutInfo.note;this.events={"summernote.change":function(){t.val(e.invoke("code"))}},this.shouldInitialize=function(){return m.isTextarea(t[0])}},nt=function(t){var n=this,i=t.layoutInfo.editingArea,o=t.options;this.events={"summernote.init summernote.change":function(){n.update()},"summernote.codeview.toggled":function(){n.update()}},this.shouldInitialize=function(){return!!o.placeholder},this.initialize=function(){this.$placeholder=e('<div class="note-placeholder">'),this.$placeholder.on("click",function(){t.invoke("focus")}).text(o.placeholder).prependTo(i)},this.destroy=function(){this.$placeholder.remove()},this.update=function(){var e=!t.invoke("codeview.isActivated")&&t.invoke("editor.isEmpty");this.$placeholder.toggle(e)}},it=function(t){var o=this,r=e.summernote.ui,s=t.layoutInfo.toolbar,a=t.options,l=a.langInfo,u=n.invertObject(a.keyMap[h.isMac?"mac":"pc"]),c=this.representShortcut=function(e){var t=u[e];return h.isMac&&(t=t.replace("CMD","").replace("SHIFT","")),t=t.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]")," ("+t+")"};this.initialize=function(){this.addToolbarButtons(),this.addImagePopoverButtons(),this.addLinkPopoverButtons(),this.fontInstalledMap={}},this.destroy=function(){delete this.fontInstalledMap},this.isFontInstalled=function(e){return o.fontInstalledMap.hasOwnProperty(e)||(o.fontInstalledMap[e]=h.isFontInstalled(e)||i.contains(a.fontNamesIgnoreCheck,e)),o.fontInstalledMap[e]},this.addToolbarButtons=function(){t.memo("button.style",function(){return r.buttonGroup([r.button({className:"dropdown-toggle",contents:r.icon(a.icons.magic)+" "+r.icon(a.icons.caret,"span"),tooltip:l.style.style,data:{toggle:"dropdown"}}),r.dropdown({className:"dropdown-style",items:t.options.styleTags,template:function(e){"string"==typeof e&&(e={tag:e,title:e});var t=e.tag,n=e.title,i=e.style?' style="'+e.style+'" ':"",o=e.className?' className="'+e.className+'"':"";return"<"+t+i+o+">"+n+"</"+t+">"},click:t.createInvokeHandler("editor.formatBlock")})]).render()}),t.memo("button.bold",function(){return r.button({className:"note-btn-bold",contents:r.icon(a.icons.bold),tooltip:l.font.bold+c("bold"),click:t.createInvokeHandler("editor.bold")}).render()}),t.memo("button.italic",function(){return r.button({className:"note-btn-italic",contents:r.icon(a.icons.italic),tooltip:l.font.italic+c("italic"),click:t.createInvokeHandler("editor.italic")}).render()
}),t.memo("button.underline",function(){return r.button({className:"note-btn-underline",contents:r.icon(a.icons.underline),tooltip:l.font.underline+c("underline"),click:t.createInvokeHandler("editor.underline")}).render()}),t.memo("button.clear",function(){return r.button({contents:r.icon(a.icons.eraser),tooltip:l.font.clear+c("removeFormat"),click:t.createInvokeHandler("editor.removeFormat")}).render()}),t.memo("button.strikethrough",function(){return r.button({className:"note-btn-strikethrough",contents:r.icon(a.icons.strikethrough),tooltip:l.font.strikethrough+c("strikethrough"),click:t.createInvokeHandler("editor.strikethrough")}).render()}),t.memo("button.superscript",function(){return r.button({className:"note-btn-superscript",contents:r.icon(a.icons.superscript),tooltip:l.font.superscript,click:t.createInvokeHandler("editor.superscript")}).render()}),t.memo("button.subscript",function(){return r.button({className:"note-btn-subscript",contents:r.icon(a.icons.subscript),tooltip:l.font.subscript,click:t.createInvokeHandler("editor.subscript")}).render()}),t.memo("button.fontname",function(){return r.buttonGroup([r.button({className:"dropdown-toggle",contents:'<span class="note-current-fontname"/> '+r.icon(a.icons.caret,"span"),tooltip:l.font.name,data:{toggle:"dropdown"}}),r.dropdownCheck({className:"dropdown-fontname",checkClassName:a.icons.menuCheck,items:a.fontNames.filter(o.isFontInstalled),template:function(e){return'<span style="font-family:'+e+'">'+e+"</span>"},click:t.createInvokeHandler("editor.fontName")})]).render()}),t.memo("button.fontsize",function(){return r.buttonGroup([r.button({className:"dropdown-toggle",contents:'<span class="note-current-fontsize"/>'+r.icon(a.icons.caret,"span"),tooltip:l.font.size,data:{toggle:"dropdown"}}),r.dropdownCheck({className:"dropdown-fontsize",checkClassName:a.icons.menuCheck,items:a.fontSizes,click:t.createInvokeHandler("editor.fontSize")})]).render()}),t.memo("button.color",function(){return r.buttonGroup({className:"note-color",children:[r.button({className:"note-current-color-button",contents:r.icon(a.icons.font+" note-recent-color"),tooltip:l.color.recent,click:function(n){var i=e(n.currentTarget);t.invoke("editor.color",{backColor:i.attr("data-backColor"),foreColor:i.attr("data-foreColor")})},callback:function(e){var t=e.find(".note-recent-color");t.css("background-color","#FFFF00"),e.attr("data-backColor","#FFFF00")}}),r.button({className:"dropdown-toggle",contents:r.icon(a.icons.caret,"span"),tooltip:l.color.more,data:{toggle:"dropdown"}}),r.dropdown({items:["<li>",'<div class="btn-group">','  <div class="note-palette-title">'+l.color.background+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-default" data-event="backColor" data-value="inherit">',l.color.transparent,"    </button>","  </div>",'  <div class="note-holder" data-event="backColor"/>',"</div>",'<div class="btn-group">','  <div class="note-palette-title">'+l.color.foreground+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-default" data-event="removeFormat" data-value="foreColor">',l.color.resetToDefault,"    </button>","  </div>",'  <div class="note-holder" data-event="foreColor"/>',"</div>","</li>"].join(""),callback:function(t){t.find(".note-holder").each(function(){var t=e(this);t.append(r.palette({colors:a.colors,eventName:t.data("event")}).render())})},click:function(n){var i=e(n.target),o=i.data("event"),r=i.data("value");if(o&&r){var s="backColor"===o?"background-color":"color",a=i.closest(".note-color").find(".note-recent-color"),l=i.closest(".note-color").find(".note-current-color-button");a.css(s,r),l.attr("data-"+o,r),t.invoke("editor."+o,r)}}})]}).render()}),t.memo("button.ul",function(){return r.button({contents:r.icon(a.icons.unorderedlist),tooltip:l.lists.unordered+c("insertUnorderedList"),click:t.createInvokeHandler("editor.insertUnorderedList")}).render()}),t.memo("button.ol",function(){return r.button({contents:r.icon(a.icons.orderedlist),tooltip:l.lists.ordered+c("insertOrderedList"),click:t.createInvokeHandler("editor.insertOrderedList")}).render()});var i=r.button({contents:r.icon(a.icons.alignLeft),tooltip:l.paragraph.left+c("justifyLeft"),click:t.createInvokeHandler("editor.justifyLeft")}),s=r.button({contents:r.icon(a.icons.alignCenter),tooltip:l.paragraph.center+c("justifyCenter"),click:t.createInvokeHandler("editor.justifyCenter")}),u=r.button({contents:r.icon(a.icons.alignRight),tooltip:l.paragraph.right+c("justifyRight"),click:t.createInvokeHandler("editor.justifyRight")}),d=r.button({contents:r.icon(a.icons.alignJustify),tooltip:l.paragraph.justify+c("justifyFull"),click:t.createInvokeHandler("editor.justifyFull")}),h=r.button({contents:r.icon(a.icons.outdent),tooltip:l.paragraph.outdent+c("outdent"),click:t.createInvokeHandler("editor.outdent")}),p=r.button({contents:r.icon(a.icons.indent),tooltip:l.paragraph.indent+c("indent"),click:t.createInvokeHandler("editor.indent")});t.memo("button.justifyLeft",n.invoke(i,"render")),t.memo("button.justifyCenter",n.invoke(s,"render")),t.memo("button.justifyRight",n.invoke(u,"render")),t.memo("button.justifyFull",n.invoke(d,"render")),t.memo("button.outdent",n.invoke(h,"render")),t.memo("button.indent",n.invoke(p,"render")),t.memo("button.paragraph",function(){return r.buttonGroup([r.button({className:"dropdown-toggle",contents:r.icon(a.icons.alignLeft)+" "+r.icon(a.icons.caret,"span"),tooltip:l.paragraph.paragraph,data:{toggle:"dropdown"}}),r.dropdown([r.buttonGroup({className:"note-align",children:[i,s,u,d]}),r.buttonGroup({className:"note-list",children:[h,p]})])]).render()}),t.memo("button.height",function(){return r.buttonGroup([r.button({className:"dropdown-toggle",contents:r.icon(a.icons.textHeight)+" "+r.icon(a.icons.caret,"span"),tooltip:l.font.height,data:{toggle:"dropdown"}}),r.dropdownCheck({items:a.lineHeights,checkClassName:a.icons.menuCheck,className:"dropdown-line-height",click:t.createInvokeHandler("editor.lineHeight")})]).render()}),t.memo("button.table",function(){return r.buttonGroup([r.button({className:"dropdown-toggle",contents:r.icon(a.icons.table)+" "+r.icon(a.icons.caret,"span"),tooltip:l.table.table,data:{toggle:"dropdown"}}),r.dropdown({className:"note-table",items:['<div class="note-dimension-picker">','  <div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"/>','  <div class="note-dimension-picker-highlighted"/>','  <div class="note-dimension-picker-unhighlighted"/>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(e){var n=e.find(".note-dimension-picker-mousecatcher");n.css({width:a.insertTableMaxSize.col+"em",height:a.insertTableMaxSize.row+"em"}).mousedown(t.createInvokeHandler("editor.insertTable")).on("mousemove",o.tableMoveHandler)}}).render()}),t.memo("button.link",function(){return r.button({contents:r.icon(a.icons.link),tooltip:l.link.link,click:t.createInvokeHandler("linkDialog.show")}).render()}),t.memo("button.picture",function(){return r.button({contents:r.icon(a.icons.picture),tooltip:l.image.image,click:t.createInvokeHandler("imageDialog.show")}).render()}),t.memo("button.video",function(){return r.button({contents:r.icon(a.icons.video),tooltip:l.video.video,click:t.createInvokeHandler("videoDialog.show")}).render()}),t.memo("button.hr",function(){return r.button({contents:r.icon(a.icons.minus),tooltip:l.hr.insert+c("insertHorizontalRule"),click:t.createInvokeHandler("editor.insertHorizontalRule")}).render()}),t.memo("button.fullscreen",function(){return r.button({className:"btn-fullscreen",contents:r.icon(a.icons.arrowsAlt),tooltip:l.options.fullscreen,click:t.createInvokeHandler("fullscreen.toggle")}).render()}),t.memo("button.codeview",function(){return r.button({className:"btn-codeview",contents:r.icon(a.icons.code),tooltip:l.options.codeview,click:t.createInvokeHandler("codeview.toggle")}).render()}),t.memo("button.redo",function(){return r.button({contents:r.icon(a.icons.redo),tooltip:l.history.redo+c("redo"),click:t.createInvokeHandler("editor.redo")}).render()}),t.memo("button.undo",function(){return r.button({contents:r.icon(a.icons.undo),tooltip:l.history.undo+c("undo"),click:t.createInvokeHandler("editor.undo")}).render()}),t.memo("button.help",function(){return r.button({contents:r.icon(a.icons.question),tooltip:l.options.help,click:t.createInvokeHandler("helpDialog.show")}).render()})},this.addImagePopoverButtons=function(){t.memo("button.imageSize100",function(){return r.button({contents:'<span class="note-fontsize-10">100%</span>',tooltip:l.image.resizeFull,click:t.createInvokeHandler("editor.resize","1")}).render()}),t.memo("button.imageSize50",function(){return r.button({contents:'<span class="note-fontsize-10">50%</span>',tooltip:l.image.resizeHalf,click:t.createInvokeHandler("editor.resize","0.5")}).render()}),t.memo("button.imageSize25",function(){return r.button({contents:'<span class="note-fontsize-10">25%</span>',tooltip:l.image.resizeQuarter,click:t.createInvokeHandler("editor.resize","0.25")}).render()}),t.memo("button.floatLeft",function(){return r.button({contents:r.icon(a.icons.alignLeft),tooltip:l.image.floatLeft,click:t.createInvokeHandler("editor.floatMe","left")}).render()}),t.memo("button.floatRight",function(){return r.button({contents:r.icon(a.icons.alignRight),tooltip:l.image.floatRight,click:t.createInvokeHandler("editor.floatMe","right")}).render()}),t.memo("button.floatNone",function(){return r.button({contents:r.icon(a.icons.alignJustify),tooltip:l.image.floatNone,click:t.createInvokeHandler("editor.floatMe","none")}).render()}),t.memo("button.removeMedia",function(){return r.button({contents:r.icon(a.icons.trash),tooltip:l.image.remove,click:t.createInvokeHandler("editor.removeMedia")}).render()})},this.addLinkPopoverButtons=function(){t.memo("button.linkDialogShow",function(){return r.button({contents:r.icon(a.icons.link),tooltip:l.link.edit,click:t.createInvokeHandler("linkDialog.show")}).render()}),t.memo("button.unlink",function(){return r.button({contents:r.icon(a.icons.unlink),tooltip:l.link.unlink,click:t.createInvokeHandler("editor.unlink")}).render()})},this.build=function(e,n){for(var i=0,o=n.length;o>i;i++){for(var s=n[i],a=s[0],l=s[1],u=r.buttonGroup({className:"note-"+a}).render(),c=0,d=l.length;d>c;c++){var h=t.memo("button."+l[c]);h&&u.append("function"==typeof h?h(t):h)}u.appendTo(e)}},this.updateCurrentStyle=function(){var n=t.invoke("editor.currentStyle");if(this.updateBtnStates({".note-btn-bold":function(){return"bold"===n["font-bold"]},".note-btn-italic":function(){return"italic"===n["font-italic"]},".note-btn-underline":function(){return"underline"===n["font-underline"]},".note-btn-subscript":function(){return"subscript"===n["font-subscript"]},".note-btn-superscript":function(){return"superscript"===n["font-superscript"]},".note-btn-strikethrough":function(){return"strikethrough"===n["font-strikethrough"]}}),n["font-family"]){var r=n["font-family"].split(",").map(function(e){return e.replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,"")}),a=i.find(r,o.isFontInstalled);s.find(".dropdown-fontname li a").each(function(){var t=e(this).data("value")+""==a+"";this.className=t?"checked":""}),s.find(".note-current-fontname").text(a)}if(n["font-size"]){var l=n["font-size"];s.find(".dropdown-fontsize li a").each(function(){var t=e(this).data("value")+""==l+"";this.className=t?"checked":""}),s.find(".note-current-fontsize").text(l)}if(n["line-height"]){var u=n["line-height"];s.find(".dropdown-line-height li a").each(function(){var t=e(this).data("value")+""==u+"";this.className=t?"checked":""})}},this.updateBtnStates=function(t){e.each(t,function(e,t){r.toggleBtnActive(s.find(e),t())})},this.tableMoveHandler=function(t){var n,i=18,o=e(t.target.parentNode),r=o.next(),s=o.find(".note-dimension-picker-mousecatcher"),l=o.find(".note-dimension-picker-highlighted"),u=o.find(".note-dimension-picker-unhighlighted");if(void 0===t.offsetX){var c=e(t.target).offset();n={x:t.pageX-c.left,y:t.pageY-c.top}}else n={x:t.offsetX,y:t.offsetY};var d={c:Math.ceil(n.x/i)||1,r:Math.ceil(n.y/i)||1};l.css({width:d.c+"em",height:d.r+"em"}),s.data("value",d.c+"x"+d.r),3<d.c&&d.c<a.insertTableMaxSize.col&&u.css({width:d.c+1+"em"}),3<d.r&&d.r<a.insertTableMaxSize.row&&u.css({height:d.r+1+"em"}),r.html(d.c+" x "+d.r)}},ot=function(t){var n=e.summernote.ui,i=t.layoutInfo.note,o=t.layoutInfo.toolbar,r=t.options;this.shouldInitialize=function(){return!r.airMode},this.initialize=function(){r.toolbar=r.toolbar||[],r.toolbar.length?t.invoke("buttons.build",o,r.toolbar):o.hide(),r.toolbarContainer&&o.appendTo(r.toolbarContainer),i.on("summernote.keyup summernote.mouseup summernote.change",function(){t.invoke("buttons.updateCurrentStyle")}),t.invoke("buttons.updateCurrentStyle")},this.destroy=function(){o.children().remove()},this.updateFullscreen=function(e){n.toggleBtnActive(o.find(".btn-fullscreen"),e)},this.updateCodeview=function(e){n.toggleBtnActive(o.find(".btn-codeview"),e),e?this.deactivate():this.activate()},this.activate=function(e){var t=o.find("button");e||(t=t.not(".btn-codeview")),n.toggleBtn(t,!0)},this.deactivate=function(e){var t=o.find("button");e||(t=t.not(".btn-codeview")),n.toggleBtn(t,!1)}},rt=function(t){var n=this,i=e.summernote.ui,o=t.layoutInfo.editor,r=t.options,s=r.langInfo;this.initialize=function(){var t=r.dialogsInBody?e(document.body):o,n='<div class="form-group"><label>'+s.link.textToDisplay+'</label><input class="note-link-text form-control" type="text" /></div><div class="form-group"><label>'+s.link.url+'</label><input class="note-link-url form-control" type="text" value="http://" /></div>'+(r.disableLinkTarget?"":'<div class="checkbox"><label><input type="checkbox" checked> '+s.link.openInNewWindow+"</label></div>"),a='<button href="#" class="btn btn-primary note-link-btn disabled" disabled>'+s.link.insert+"</button>";this.$dialog=i.dialog({className:"link-dialog",title:s.link.insert,fade:r.dialogsFade,body:n,footer:a}).render().appendTo(t)},this.destroy=function(){i.hideDialog(this.$dialog),this.$dialog.remove()},this.bindEnterKey=function(e,t){e.on("keypress",function(e){e.keyCode===R.code.ENTER&&t.trigger("click")})},this.showLinkDialog=function(o){return e.Deferred(function(e){var r=n.$dialog.find(".note-link-text"),s=n.$dialog.find(".note-link-url"),a=n.$dialog.find(".note-link-btn"),l=n.$dialog.find("input[type=checkbox]");i.onDialogShown(n.$dialog,function(){t.triggerEvent("dialog.shown"),r.val(o.text),r.on("input",function(){i.toggleBtn(a,r.val()&&s.val()),o.text=r.val()}),o.url||(o.url=o.text||"http://",i.toggleBtn(a,o.text)),s.on("input",function(){i.toggleBtn(a,r.val()&&s.val()),o.text||r.val(s.val())}).val(o.url).trigger("focus"),n.bindEnterKey(s,a),n.bindEnterKey(r,a),l.prop("checked",o.isNewWindow),a.one("click",function(t){t.preventDefault(),e.resolve({range:o.range,url:s.val(),text:r.val(),isNewWindow:l.is(":checked")}),n.$dialog.modal("hide")})}),i.onDialogHidden(n.$dialog,function(){r.off("input keypress"),s.off("input keypress"),a.off("click"),"pending"===e.state()&&e.reject()}),i.showDialog(n.$dialog)}).promise()},this.show=function(){var e=t.invoke("editor.getLinkInfo");t.invoke("editor.saveRange"),this.showLinkDialog(e).then(function(e){t.invoke("editor.restoreRange"),t.invoke("editor.createLink",e)}).fail(function(){t.invoke("editor.restoreRange")})},t.memo("help.linkDialog.show",r.langInfo.help["linkDialog.show"])},st=function(t){var n=this,o=e.summernote.ui,r=t.options;this.events={"summernote.keyup summernote.mouseup summernote.change summernote.scroll":function(){n.update()},"summernote.dialog.shown":function(){n.hide()}},this.shouldInitialize=function(){return!i.isEmpty(r.popover.link)},this.initialize=function(){this.$popover=o.popover({className:"note-link-popover",callback:function(e){var t=e.find(".popover-content");t.prepend('<span><a target="_blank"></a>&nbsp;</span>')}}).render().appendTo("body");var e=this.$popover.find(".popover-content");t.invoke("buttons.build",e,r.popover.link)},this.destroy=function(){this.$popover.remove()},this.update=function(){if(!t.invoke("editor.hasFocus"))return void this.hide();var n=t.invoke("editor.createRange");if(n.isCollapsed()&&n.isOnAnchor()){var i=m.ancestor(n.sc,m.isAnchor),o=e(i).attr("href");this.$popover.find("a").attr("href",o).html(o);var r=m.posFromPlaceholder(i);this.$popover.css({display:"block",left:r.left,top:r.top})}else this.hide()},this.hide=function(){this.$popover.hide()}},at=function(t){var n=this,i=e.summernote.ui,o=t.layoutInfo.editor,r=t.options,s=r.langInfo;this.initialize=function(){var t=r.dialogsInBody?e(document.body):o,n="";if(r.maximumImageFileSize){var a=Math.floor(Math.log(r.maximumImageFileSize)/Math.log(1024)),l=1*(r.maximumImageFileSize/Math.pow(1024,a)).toFixed(2)+" "+" KMGTP"[a]+"B";n="<small>"+s.image.maximumFileSize+" : "+l+"</small>"}var u='<div class="form-group note-group-select-from-files"><label>'+s.image.selectFromFiles+'</label><input class="note-image-input form-control" type="file" name="files" accept="image/*" multiple="multiple" />'+n+'</div><div class="form-group" style="overflow:auto;"><label>'+s.image.url+'</label><input class="note-image-url form-control col-md-12" type="text" /></div>',c='<button href="#" class="btn btn-primary note-image-btn disabled" disabled>'+s.image.insert+"</button>";this.$dialog=i.dialog({title:s.image.insert,fade:r.dialogsFade,body:u,footer:c}).render().appendTo(t)},this.destroy=function(){i.hideDialog(this.$dialog),this.$dialog.remove()},this.bindEnterKey=function(e,t){e.on("keypress",function(e){e.keyCode===R.code.ENTER&&t.trigger("click")})},this.show=function(){t.invoke("editor.saveRange"),this.showImageDialog().then(function(e){i.hideDialog(n.$dialog),t.invoke("editor.restoreRange"),"string"==typeof e?t.invoke("editor.insertImage",e):t.invoke("editor.insertImagesOrCallback",e)}).fail(function(){t.invoke("editor.restoreRange")})},this.showImageDialog=function(){return e.Deferred(function(e){var o=n.$dialog.find(".note-image-input"),r=n.$dialog.find(".note-image-url"),s=n.$dialog.find(".note-image-btn");i.onDialogShown(n.$dialog,function(){t.triggerEvent("dialog.shown"),o.replaceWith(o.clone().on("change",function(){e.resolve(this.files||this.value)}).val("")),s.click(function(t){t.preventDefault(),e.resolve(r.val())}),r.on("keyup paste",function(){var e=r.val();i.toggleBtn(s,e)}).val("").trigger("focus"),n.bindEnterKey(r,s)}),i.onDialogHidden(n.$dialog,function(){o.off("change"),r.off("keyup paste keypress"),s.off("click"),"pending"===e.state()&&e.reject()}),i.showDialog(n.$dialog)})}},lt=function(t){var n=e.summernote.ui,o=t.options;this.shouldInitialize=function(){return!i.isEmpty(o.popover.image)},this.initialize=function(){this.$popover=n.popover({className:"note-image-popover"}).render().appendTo("body");var e=this.$popover.find(".popover-content");t.invoke("buttons.build",e,o.popover.image)},this.destroy=function(){this.$popover.remove()},this.update=function(e){if(m.isImg(e)){var t=m.posFromPlaceholder(e);this.$popover.css({display:"block",left:t.left,top:t.top})}else this.hide()},this.hide=function(){this.$popover.hide()}},ut=function(t){var n=this,i=e.summernote.ui,o=t.layoutInfo.editor,r=t.options,s=r.langInfo;this.initialize=function(){var t=r.dialogsInBody?e(document.body):o,n='<div class="form-group row-fluid"><label>'+s.video.url+' <small class="text-muted">'+s.video.providers+'</small></label><input class="note-video-url form-control span12" type="text" /></div>',a='<button href="#" class="btn btn-primary note-video-btn disabled" disabled>'+s.video.insert+"</button>";this.$dialog=i.dialog({title:s.video.insert,fade:r.dialogsFade,body:n,footer:a}).render().appendTo(t)},this.destroy=function(){i.hideDialog(this.$dialog),this.$dialog.remove()},this.bindEnterKey=function(e,t){e.on("keypress",function(e){e.keyCode===R.code.ENTER&&t.trigger("click")})},this.createVideoNode=function(t){var n,i=/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/,o=t.match(i),r=/\/\/instagram.com\/p\/(.[a-zA-Z0-9_-]*)/,s=t.match(r),a=/\/\/vine.co\/v\/(.[a-zA-Z0-9]*)/,l=t.match(a),u=/\/\/(player.)?vimeo.com\/([a-z]*\/)*([0-9]{6,11})[?]?.*/,c=t.match(u),d=/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/,h=t.match(d),p=/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/,f=t.match(p),m=/^.+.(mp4|m4v)$/,g=t.match(m),v=/^.+.(ogg|ogv)$/,y=t.match(v),b=/^.+.(webm)$/,w=t.match(b);if(o&&11===o[1].length){var C=o[1];n=e("<iframe>").attr("frameborder",0).attr("src","//www.youtube.com/embed/"+C).attr("width","640").attr("height","360")}else if(s&&s[0].length)n=e("<iframe>").attr("frameborder",0).attr("src",s[0]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true");else if(l&&l[0].length)n=e("<iframe>").attr("frameborder",0).attr("src",l[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed");else if(c&&c[3].length)n=e("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("src","//player.vimeo.com/video/"+c[3]).attr("width","640").attr("height","360");else if(h&&h[2].length)n=e("<iframe>").attr("frameborder",0).attr("src","//www.dailymotion.com/embed/video/"+h[2]).attr("width","640").attr("height","360");else if(f&&f[1].length)n=e("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","498").attr("width","510").attr("src","//player.youku.com/embed/"+f[1]);else{if(!(g||y||w))return!1;n=e("<video controls>").attr("src",t).attr("width","640").attr("height","360")}return n.addClass("note-video-clip"),n[0]},this.show=function(){var e=t.invoke("editor.getSelectedText");t.invoke("editor.saveRange"),this.showVideoDialog(e).then(function(e){i.hideDialog(n.$dialog),t.invoke("editor.restoreRange");var o=n.createVideoNode(e);o&&t.invoke("editor.insertNode",o)}).fail(function(){t.invoke("editor.restoreRange")})},this.showVideoDialog=function(o){return e.Deferred(function(e){var r=n.$dialog.find(".note-video-url"),s=n.$dialog.find(".note-video-btn");i.onDialogShown(n.$dialog,function(){t.triggerEvent("dialog.shown"),r.val(o).on("input",function(){i.toggleBtn(s,r.val())}).trigger("focus"),s.click(function(t){t.preventDefault(),e.resolve(r.val())}),n.bindEnterKey(r,s)}),i.onDialogHidden(n.$dialog,function(){r.off("input"),s.off("click"),"pending"===e.state()&&e.reject()}),i.showDialog(n.$dialog)})}},ct=function(t){var n=this,i=e.summernote.ui,o=t.layoutInfo.editor,r=t.options,s=r.langInfo;this.createShortCutList=function(){var n=r.keyMap[h.isMac?"mac":"pc"];return Object.keys(n).map(function(i){var o=n[i],r=e('<div><div class="help-list-item"/></div>');return r.append(e("<label><kbd>"+i+"</kdb></label>").css({width:180,"margin-right":10})).append(e("<span/>").html(t.memo("help."+o)||o)),r.html()}).join("")},this.initialize=function(){var t=r.dialogsInBody?e(document.body):o,n=['<p class="text-center">','<a href="//summernote.org/" target="_blank">Summernote 0.8.1</a>  ','<a href="//github.com/summernote/summernote" target="_blank">Project</a>  ','<a href="//github.com/summernote/summernote/issues" target="_blank">Issues</a>',"</p>"].join("");this.$dialog=i.dialog({title:s.options.help,fade:r.dialogsFade,body:this.createShortCutList(),footer:n,callback:function(e){e.find(".modal-body").css({"max-height":300,overflow:"scroll"})}}).render().appendTo(t)},this.destroy=function(){i.hideDialog(this.$dialog),this.$dialog.remove()},this.showHelpDialog=function(){return e.Deferred(function(e){i.onDialogShown(n.$dialog,function(){t.triggerEvent("dialog.shown"),e.resolve()}),i.showDialog(n.$dialog)}).promise()},this.show=function(){t.invoke("editor.saveRange"),this.showHelpDialog().then(function(){t.invoke("editor.restoreRange")})}},dt=function(t){var o=this,r=e.summernote.ui,s=t.options,a=20;this.events={"summernote.keyup summernote.mouseup summernote.scroll":function(){o.update()},"summernote.change summernote.dialog.shown":function(){o.hide()},"summernote.focusout":function(e,t){h.isFF||t.relatedTarget&&m.ancestor(t.relatedTarget,n.eq(o.$popover[0]))||o.hide()}},this.shouldInitialize=function(){return s.airMode&&!i.isEmpty(s.popover.air)},this.initialize=function(){this.$popover=r.popover({className:"note-air-popover"}).render().appendTo("body");var e=this.$popover.find(".popover-content");t.invoke("buttons.build",e,s.popover.air)},this.destroy=function(){this.$popover.remove()},this.update=function(){var e=t.invoke("editor.currentStyle");if(e.range&&!e.range.isCollapsed()){var o=i.last(e.range.getClientRects());if(o){var r=n.rect2bnd(o);this.$popover.css({display:"block",left:Math.max(r.left+r.width/2,0)-a,top:r.top+r.height})}}else this.hide()},this.hide=function(){this.$popover.hide()}},ht=function(t){var o=this,r=e.summernote.ui,s=5,a=t.options.hint||[],l=t.options.hintDirection||"bottom",u=e.isArray(a)?a:[a];this.events={"summernote.keyup":function(e,t){t.isDefaultPrevented()||o.handleKeyup(t)},"summernote.keydown":function(e,t){o.handleKeydown(t)},"summernote.dialog.shown":function(){o.hide()}},this.shouldInitialize=function(){return u.length>0},this.initialize=function(){this.lastWordRange=null,this.$popover=r.popover({className:"note-hint-popover",hideArrow:!0,direction:""}).render().appendTo("body"),this.$popover.hide(),this.$content=this.$popover.find(".popover-content"),this.$content.on("click",".note-hint-item",function(){o.$content.find(".active").removeClass("active"),e(this).addClass("active"),o.replace()})},this.destroy=function(){this.$popover.remove()},this.selectItem=function(e){this.$content.find(".active").removeClass("active"),e.addClass("active"),this.$content[0].scrollTop=e[0].offsetTop-this.$content.innerHeight()/2},this.moveDown=function(){var e=this.$content.find(".note-hint-item.active"),t=e.next();if(t.length)this.selectItem(t);else{var n=e.parent().next();n.length||(n=this.$content.find(".note-hint-group").first()),this.selectItem(n.find(".note-hint-item").first())}},this.moveUp=function(){var e=this.$content.find(".note-hint-item.active"),t=e.prev();if(t.length)this.selectItem(t);else{var n=e.parent().prev();n.length||(n=this.$content.find(".note-hint-group").last()),this.selectItem(n.find(".note-hint-item").last())}},this.replace=function(){var e=this.$content.find(".note-hint-item.active");if(e.length){var n=this.nodeFromItem(e);this.lastWordRange.insertNode(n),H.createFromNode(n).collapse().select(),this.lastWordRange=null,this.hide(),t.invoke("editor.focus")}},this.nodeFromItem=function(e){var t=u[e.data("index")],n=e.data("item"),i=t.content?t.content(n):n;return"string"==typeof i&&(i=m.createText(i)),i},this.createItemTemplates=function(t,n){var i=u[t];return n.map(function(n,o){var r=e('<div class="note-hint-item"/>');return r.append(i.template?i.template(n):n+""),r.data({index:t,item:n}),0===t&&0===o&&r.addClass("active"),r})},this.handleKeydown=function(e){this.$popover.is(":visible")&&(e.keyCode===R.code.ENTER?(e.preventDefault(),this.replace()):e.keyCode===R.code.UP?(e.preventDefault(),this.moveUp()):e.keyCode===R.code.DOWN&&(e.preventDefault(),this.moveDown()))},this.searchKeyword=function(e,t,n){var i=u[e];if(i&&i.match.test(t)&&i.search){var o=i.match.exec(t);i.search(o[1],n)}else n()},this.createGroup=function(t,n){var i=e('<div class="note-hint-group note-hint-group-'+t+'"/>');return this.searchKeyword(t,n,function(e){e=e||[],e.length&&(i.html(o.createItemTemplates(t,e)),o.show())}),i},this.handleKeyup=function(e){if(i.contains([R.code.ENTER,R.code.UP,R.code.DOWN],e.keyCode)){if(e.keyCode===R.code.ENTER&&this.$popover.is(":visible"))return}else{var r=t.invoke("editor.createRange").getWordRange(),a=r.toString();if(u.length&&a){this.$content.empty();var c=n.rect2bnd(i.last(r.getClientRects()));c&&(this.$popover.hide(),this.lastWordRange=r,u.forEach(function(e,t){e.match.test(a)&&o.createGroup(t,a).appendTo(o.$content)}),this.$popover.css("top"===l?{left:c.left,top:c.top-this.$popover.outerHeight()-s}:{left:c.left,top:c.top+c.height+s}))}else this.hide()}},this.show=function(){this.$popover.show()},this.hide=function(){this.$popover.hide()}};e.summernote=e.extend(e.summernote,{version:"0.8.1",ui:$,plugins:{},options:{modules:{editor:V,clipboard:q,dropzone:G,codeview:K,statusbar:Q,fullscreen:Z,handle:X,hintPopover:ht,autoLink:et,autoSync:tt,placeholder:nt,buttons:it,toolbar:ot,linkDialog:rt,linkPopover:st,imageDialog:at,imagePopover:lt,videoDialog:ut,helpDialog:ct,airPopover:dt},buttons:{},lang:"en-US",toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview","help"]]],popover:{image:[["imagesize",["imageSize100","imageSize50","imageSize25"]],["float",["floatLeft","floatRight","floatNone"]],["remove",["removeMedia"]]],link:[["link",["linkDialogShow","unlink"]]],air:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]]},airMode:!1,width:null,height:null,focus:!1,tabSize:4,styleWithSpan:!0,shortcuts:!0,textareaAutoSync:!0,direction:null,styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontSizes:["8","9","10","11","12","14","18","24","36"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],tableClassName:"table table-bordered",insertTableMaxSize:{col:10,row:10},dialogsInBody:!1,dialogsFade:!1,maximumImageFileSize:null,callbacks:{onInit:null,onFocus:null,onBlur:null,onEnter:null,onKeyup:null,onKeydown:null,onSubmit:null,onImageUpload:null,onImageUploadError:null},codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"linkDialog.show"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"linkDialog.show"}},icons:{align:"note-icon-align",alignCenter:"note-icon-align-center",alignJustify:"note-icon-align-justify",alignLeft:"note-icon-align-left",alignRight:"note-icon-align-right",indent:"note-icon-align-indent",outdent:"note-icon-align-outdent",arrowsAlt:"note-icon-arrows-alt",bold:"note-icon-bold",caret:"note-icon-caret",circle:"note-icon-circle",close:"note-icon-close",code:"note-icon-code",eraser:"note-icon-eraser",font:"note-icon-font",frame:"note-icon-frame",italic:"note-icon-italic",link:"note-icon-link",unlink:"note-icon-chain-broken",magic:"note-icon-magic",menuCheck:"note-icon-check",minus:"note-icon-minus",orderedlist:"note-icon-orderedlist",pencil:"note-icon-pencil",picture:"note-icon-picture",question:"note-icon-question",redo:"note-icon-redo",square:"note-icon-square",strikethrough:"note-icon-strikethrough",subscript:"note-icon-subscript",superscript:"note-icon-superscript",table:"note-icon-table",textHeight:"note-icon-text-height",trash:"note-icon-trash",underline:"note-icon-underline",undo:"note-icon-undo",unorderedlist:"note-icon-unorderedlist",video:"note-icon-video"}}})
});