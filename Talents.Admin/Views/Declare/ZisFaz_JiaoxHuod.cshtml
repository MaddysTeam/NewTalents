@model List<DeclareActive>
@{ 
	var pageTitle = ViewBag.Title = DeclareKeys.ZisFaz_JiaoxHuod;
}

<div class="alert alert-info alert-dismissable">
	<a href="" class="close">&times;</a>
	<strong>提示！</strong> 可以逐级展开或点选左侧材料填写项目树的节点，进行指定项目的内容填写。
</div>

<!-- WIDGET TABBED CONTENT -->
<div class="widget">
	<div class="widget-header">
		<h3><i class="fa fa-paperclip"></i> @DeclareKeys.ZisFaz_JiaoxHuod_JiaoxGongkk</h3>
		<div class="btn-group widget-header-toolbar">
			<a href="javascript:;" title="焦点" class="btn-borderless btn-focus"><i class="fa fa-eye"></i></a>
			<a href="javascript:;" title="全屏" class="btn-borderless btn-expand"><i class="fa fa-expand"></i></a>
		</div>
	</div>
	<div class="widget-content">

		<!-- 开设教学公开课  -->
		<div class="table-responsive">
			<table class="table table-condensed table-striped table-hover">
				<thead>
					<tr>
						<th>时间</th>
						<th>课题/内容</th>
						<th>级别</th>
						<th>组织单位、部门</th>
						<th class="width240">操作</th>
					</tr>
				</thead>
				<tbody>
					@foreach (var item in Model.FindAll(m => m.ActiveKey == DeclareKeys.ZisFaz_JiaoxHuod_JiaoxGongkk))
					{
						<tr>
							<td>@item.Date.ToString("yyyy-MM-dd")</td>
							<td>
								@(item.ContentValue.Length > 50 ? Html.Raw(item.ContentValue.Substring(0, 50) + "...") : Html.Raw(item.ContentValue))
							</td>
							<td>@item.Level</td>
							<td>@item.Dynamic2</td>
							<td>
								<div class="btn-group btn-group-xs pull-right">
									@if (item.IsDeclare)
									{
										<button class="btn btn-warning btn-declare" data-url="@Url.Action("DeclareActive", "DeclareMaterial", new { id = item.DeclareActiveId, isDeclare = false })">取消申报</button>
									}
									else
									{
										<button class="btn btn-warning btn-declare" data-url="@Url.Action("DeclareActive", "DeclareMaterial", new { id = item.DeclareActiveId, isDeclare = true })">申报</button>
									}
									@if (item.IsShare)
									{
										<button class="btn btn-custom-secondary btn-share" data-url="@Url.Action("ShareActive", "Declare", new { id = item.DeclareActiveId, isShare = false })">取消共享</button>
									}
									else
									{
										<button class="btn btn-custom-secondary btn-share" data-url="@Url.Action("ShareActive", "Declare", new { id = item.DeclareActiveId, isShare = true })">共享</button>
									}
									<button class="btn btn-danger btn-view" data-toggle="ajax-modal" data-url="@Url.Action("AttachmentsView", "DeclarePop", new { id = item.DeclareActiveId, type = AttachmentsKeys.ZisFaz_JiaoxHuod_JiaoxGongkk })" data-target="#firstModal" title="查看附件">查看附件</button>
								</div>
							</td>
						</tr>
					}
				</tbody>
			</table>
		</div>

	</div>
</div>
<!-- END WIDGET TABBED CONTENT -->


<!-- WIDGET TABBED CONTENT -->
<div class="widget">
	<div class="widget-header">
		<h3><i class="fa fa-paperclip"></i> @DeclareKeys.ZisFaz_JiaoxHuod_Yantk</h3>
		<div class="btn-group widget-header-toolbar">
			<a href="javascript:;" title="焦点" class="btn-borderless btn-focus"><i class="fa fa-eye"></i></a>
			<a href="javascript:;" title="全屏" class="btn-borderless btn-expand"><i class="fa fa-expand"></i></a>
		</div>
	</div>
	<div class="widget-content">

		<!-- 开设研讨课 -->
		<div class="table-responsive">
			<table class="table table-condensed table-striped table-hover">
				<thead>
					<tr>
						<th>时间</th>
						<th>课题/内容</th>
						<th>级别</th>
						<th>组织部门、负责人</th>
						<th class="width240">操作</th>
					</tr>
				</thead>
				<tbody>
					@foreach (var item in Model.FindAll(m => m.ActiveKey == DeclareKeys.ZisFaz_JiaoxHuod_Yantk))
					{
						<tr>
							<td>@item.Date.ToString("yyyy-MM-dd")</td>
							<td>@(item.ContentValue.Length > 50 ? Html.Raw(item.ContentValue.Substring(0, 50) + "...") : Html.Raw(item.ContentValue))</td>
							<td>@item.Level</td>
							<td>@item.Dynamic2</td>
							<td>
								<div class="btn-group btn-group-xs pull-right">
									@if (item.IsDeclare)
									{
										<button class="btn btn-warning btn-declare" data-url="@Url.Action("DeclareActive", "DeclareMaterial", new { id = item.DeclareActiveId, isDeclare = false })">取消申报</button>
									}
									else
									{
										<button class="btn btn-warning btn-declare" data-url="@Url.Action("DeclareActive", "DeclareMaterial", new { id = item.DeclareActiveId, isDeclare = true })">申报</button>
									}
									@if (item.IsShare)
									{
										<button class="btn btn-custom-secondary btn-share" data-url="@Url.Action("ShareActive", "Declare", new { id = item.DeclareActiveId, isShare = false })">取消共享</button>
									}
									else
									{
										<button class="btn btn-custom-secondary btn-share" data-url="@Url.Action("ShareActive", "Declare", new { id = item.DeclareActiveId, isShare = true })">共享</button>
									}
									<button class="btn btn-danger btn-view" data-toggle="ajax-modal" data-url="@Url.Action("AttachmentsView", "DeclarePop", new { id = item.DeclareActiveId, type = AttachmentsKeys.ZisFaz_JiaoxHuod_Yantk })" data-target="#firstModal" title="查看附件">查看附件</button>
								</div>
							</td>
						</tr>
					}
				</tbody>
			</table>
		</div>

	</div>
</div>
<!-- END WIDGET TABBED CONTENT -->


<!-- WIDGET TABBED CONTENT -->
<div class="widget">
	<div class="widget-header">
		<h3><i class="fa fa-paperclip"></i> @DeclareKeys.ZisFaz_JiaoxHuod_JiaoyJiaoxPingb</h3>
		<div class="btn-group widget-header-toolbar">
			<a href="javascript:;" title="焦点" class="btn-borderless btn-focus"><i class="fa fa-eye"></i></a>
			<a href="javascript:;" title="全屏" class="btn-borderless btn-expand"><i class="fa fa-expand"></i></a>
		</div>
	</div>
	<div class="widget-content">

		<!-- 参加教学评比 -->
		<div class="table-responsive">
			<table class="table table-condensed table-striped table-hover">
				<thead>
					<tr>
						<th>时间</th>
						<th>课题/内容</th>
						<th>奖项名称、等第</th>
						<th>组织单位、部门</th>
						<th class="width240">操作</th>
					</tr>
				</thead>
				<tbody>
					@foreach (var item in Model.FindAll(m => m.ActiveKey == DeclareKeys.ZisFaz_JiaoxHuod_JiaoxPingb))
					{
						<tr>
							<td>@item.Date.ToString("yyyy-MM-dd")</td>
							<td>@(item.ContentValue.Length > 50 ? Html.Raw(item.ContentValue.Substring(0, 50) + "...") : Html.Raw(item.ContentValue))</td>
							<td>@item.Level</td>
							<td>@item.Dynamic1</td>
							<td>
								<div class="btn-group btn-group-xs pull-right">
									@if (item.IsDeclare)
									{
										<button class="btn btn-warning btn-declare" data-url="@Url.Action("DeclareActive", "DeclareMaterial", new { id = item.DeclareActiveId, isDeclare = false })">取消申报</button>
									}
									else
									{
										<button class="btn btn-warning btn-declare" data-url="@Url.Action("DeclareActive", "DeclareMaterial", new { id = item.DeclareActiveId, isDeclare = true })">申报</button>
									}
									@if (item.IsShare)
									{
										<button class="btn btn-custom-secondary btn-share" data-url="@Url.Action("ShareActive", "Declare", new { id = item.DeclareActiveId, isShare = false })">取消共享</button>
									}
									else
									{
										<button class="btn btn-custom-secondary btn-share" data-url="@Url.Action("ShareActive", "Declare", new { id = item.DeclareActiveId, isShare = true })">共享</button>
									}
									<button class="btn btn-danger btn-view" data-toggle="ajax-modal" data-url="@Url.Action("AttachmentsView", "DeclarePop", new { id = item.DeclareActiveId, type = AttachmentsKeys.ZisFaz_JiaoxHuod_JiaoxPingb })" data-target="#firstModal" title="查看附件">查看附件</button>
								</div>
							</td>
						</tr>
					}
				</tbody>
			</table>
		</div>

	</div>
</div>
<!-- END WIDGET TABBED CONTENT -->

@Html.Partial("../Utilities/_partialJS")